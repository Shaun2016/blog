<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[‰∏∫ github pages + hexo ÂçöÂÆ¢Ê∑ªÂä† gitment ËØÑËÆ∫ÂäüËÉΩ]]></title>
    <url>%2F2019%2F06%2F04%2Fgitment%2F</url>
    <content type="text"><![CDATA[Â¶ÇÊûú‰Ω†ÁöÑÂçöÂÆ¢‰ΩøÁî® github pages Êèê‰æõÁöÑÊúçÂä°Ôºåjust like meÔºåÊÉ≥Ê∑ªÂä†ËØÑËÆ∫ÂäüËÉΩÔºå‰ΩøÁî® gitment ÊòØÊúÄ‰Ω≥ÁöÑÈÄâÊã©ÔºåÈÄöËøá gitment ÂèëË°®ËØÑËÆ∫Â∞±ÊòØÂú® github ‰ªìÂ∫ìÂàõÂª∫ IssuesÔºå ÈÖçÁΩÆËøáÁ®ãÂçÅÂàÜÁÆÄÂçï Ê≥®ÂÜå github Oauth Â∫îÁî®Á®ãÂ∫è È¶ñÂÖàÔºåÊ≥®ÂÜåOAuth ApplicationÔºàËØ∑ÁÇπÂáªÔºâ Homepage URL Âíå Authorization callback URL ‰∏∫‰Ω†ÁöÑÂçöÂÆ¢Âú∞ÂùÄÔºöÂ¶Ç https://shaun2016.github.io/ Ê≥®ÂÜåÂÆåÊàêÂêéÂèØ‰ª•ÂæóÂà∞ Client ID Âíå Clint Secret ÈÖçÁΩÆ Âú® ‰∏ªÈ¢ò ÁöÑÈÖçÁΩÆÊñá‰ª∂ _config.yml ‰∏≠ÔºåÊ∑ªÂä†Ôºö 12345678910gitment: enable: true mint: true count: true lazy: false cleanly: false github_user: 'detectiveHLH' github_repo: 'detectiveHLH.github.io' client_id: 'xxx' client_secret: 'xxx' ÂÖ∂‰∏≠ÂêéÂõõÈ°πÊîπ‰∏∫Ëá™Â∑±ÁöÑ Ê∑ªÂä†Â∏ÉÂ±ÄÂíåÊ†∑Âºè Âú®‰∏ªÈ¢òÁõÆÂΩï‰∏ãÁºñËæëÔºöthemes\next\layout\_partials\comments.swigÔºàËøô‰∏™Êñá‰ª∂ÂèØËÉΩÂêéÁºÄÂêç‰∏çÂêåÔºâ‰øÆÊîπÂ¶Ç‰∏ãÔºöËøôÈáåÂè™ÊòæÁ§∫‰∏ÄÈÉ®ÂàÜ 12345678910111213141516171819202122232425262728293031323334353637383940414243&#123;% if page.comments %&#125; &lt;div class="comments" id="comments"&gt; &#123;% if theme.gitment.enable %&#125; &lt;div id="gitment_title" class="gitment_title"&gt;&lt;/div&gt; &lt;div id="container" style="display:none"&gt;&lt;/div&gt; &lt;link rel="stylesheet" href="https://jjeejj.github.io/css/gitment.css"&gt; &lt;script src="https://jjeejj.github.io/js/gitment.js"&gt;&lt;/script&gt; &lt;script src="https://code.jquery.com/jquery-3.3.1.min.js"&gt;&lt;/script&gt; &lt;script&gt; const myTheme = &#123; render(state, instance) &#123; const container = document.createElement('div'); container.lang = "en-US"; container.className = 'gitment-container gitment-root-container'; container.appendChild(instance.renderHeader(state, instance)); container.appendChild(instance.renderEditor(state, instance)); container.appendChild(instance.renderComments(state, instance)); container.appendChild(instance.renderFooter(state, instance)); return container; &#125; &#125; function showGitment() &#123; $("#gitment_title").attr("style", "display:none"); $("#container").attr("style", "").addClass("gitment_container"); var gitment = new Gitment(&#123; id: decodeURI(window.location.pathname), theme: myTheme, owner: '&#123;&#123; theme.gitment.gitment_user &#125;&#125;', repo: '&#123;&#123; theme.gitment.gitment_repo&#125;&#125;', oauth: &#123; client_id: '&#123;&#123; theme.gitment.client_id&#125;&#125;', client_secret: '&#123;&#123; theme.gitment.client_secret &#125;&#125;' &#125; &#125;); gitment.render('container'); &#125; showGitment(); &lt;/script&gt; &#123;% elseif (theme.duoshuo and theme.duoshuo.shortname) or theme.duoshuo_shortname %&#125; &lt;div class="ds-thread" data-thread-key="&#123;&#123; page.path &#125;&#125;" data-title="&#123;&#123; page.title &#125;&#125;" data-url="&#123;&#123; page.permalink &#125;&#125;"&gt; &lt;/div&gt; ... ÊàëÂ∞Ü gitment ÊîæÂú® if Êù°‰ª∂ÁöÑÈ¶ñ‰ΩçÁΩÆÔºåownerÔºårepoÔºåclient_idÔºåclient_secret ÂõõÈÉ®ÂàÜ‰ªéÈÖçÁΩÆÊñá‰ª∂ËØªÂèñÔºåËá≥Ê≠§ÈÖçÁΩÆÂÆåÊØï Âú®ÂºÄÂßãÊó∂‰πüÊü•ÈòÖÂ¶Ç‰ΩïÂÆûÁé∞ÂçöÂÆ¢ÁöÑËØÑËÆ∫Á≥ªÁªüÊó∂ÔºåÊÄªÁªì‰∫Ü‰∏Ä‰∏ãÂá†‰∏™‰∏ªÊµÅÁöÑÁ¨¨‰∏âÊñπÊúçÂä°ÂàÜ‰∫´ÁªôÂ§ßÂÆ∂Ôºö Valine: ÂõΩÂÜÖÁöÑÊúçÂä°ÔºåÂü∫‰∫éLeancloudÔºåÂú®ÊàëÁªëÂÆöÂüüÂêçÁöÑÊó∂ÂÄôÂèëÁé∞Êó†Ê≥ïÁªëÂÆö *.github.ioÔºåÂØπ‰∫éËá™Â∑±Ë¥≠‰π∞Â§áÊ°àÁöÑÂüüÂêçÂæàÈÄÇÂêà Hypercomments: ÂõΩÂ§ñÁöÑÔºåÈúÄË¶ÅÁôªÂΩïgoogleË¥¶Êà∑ÔºåÈ£éÊ†ºÁÆÄÁ∫¶ Êù•ÂøÖÂäõ: Èü©ÂõΩÁöÑÊúçÂä°ÔºåÊîØÊåÅÂæàÂ§öÁ¨¨‰∏âÊñπÁôªÂΩï Â§öËØ¥ÔºåÂèãË®ÄÁöÑÊúçÂä°ÈÉΩÂÖ≥Èó≠‰∫ÜÔºåÂæàÂèØÊÉúÂïäÔºåÂØπ‰∫éÂ¶Ç‰ΩïÈÄöËøá github pages Êê≠Âª∫‰∏™‰∫∫ÂçöÂÆ¢ÊÑüÂÖ¥Ë∂£ÁöÑÂèØ‰ª•ÂéªÊâæÊâæÔºå‰∏ªË¶ÅÊÄùË∑ØÊòØÈÄöËøá‰∏Ä‰∏™ÂçöÂÆ¢Ê°ÜÊû∂ÔºåÂ¶Ç hexo ÁîüÊàêÊú¨Âú∞ÂçöÂÆ¢ÈùôÊÄÅËµÑÊ∫êÊñá‰ª∂ÔºåÁΩëÈ°µ‰∏äÁöÑÂÜÖÂÆπÂíåÈìæÊé•ÈÉΩÊòØÈùôÊÄÅÁöÑÔºå‰∏çÊ∂âÂèäÂêéÂè∞ÔºåÂ∞ÜËøô‰∫õÊñá‰ª∂ push Âà∞ github pages ÁöÑ‰ªìÂ∫ì‰∏≠ÔºåËÆøÈóÆ***.github.ioÂ∞±ÂèØ‰ª•ÊòæÁ§∫ÂçöÂÆ¢ÂÜÖÂÆπ‰∫Ü„ÄÇ‰øÆÊîπÈÖçÁΩÆÊñá‰ª∂ÔºåÈÖçÁΩÆ‰∏ªÈ¢òÔºåÂä†ÂêÑÁßçÂ∞èÂäüËÉΩÁöÑËøáÁ®ãËøòÊòØÈùûÂ∏∏ÁöÑÊúâË∂£ÁöÑÔºåËÄå‰∏î‰∏çÈöæÔºåÊü•ÊñáÊ°£Â∞±Â•Ω‰∫ÜÔºåÊ¨¢ËøéÂ§ßÂÆ∂ËØÑËÆ∫Âïä„ÄÇ ‰∏ªË¶ÅÂèÇËÄÉÊñáÁ´†Ôºöhttps://www.jianshu.com/p/b8255a630d46]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>hexo gitment</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python ÁöÑ list Âú®Âæ™ÁéØ‰∏≠Âà†Èô§ÂÖÉÁ¥†]]></title>
    <url>%2F2019%2F05%2F05%2Fpython-list-removeItem-in-loop%2F</url>
    <content type="text"><![CDATA[‰ªäÂ§©ÂÜô‰∏Ä‰∏™Âæ™ÁéØ‰∏≠ÊåâÊù°‰ª∂Âà†Èô§ list ‰∏≠ÁöÑÂÖÉÁ¥†ÔºåÊàëËøòÊòØÁü•ÈÅìÁõ¥Êé•Âà†Èô§‰ºöÂØºËá¥Êï∞ÁªÑË∂äÁïåÊàñËÄÖÊºèËøáÊüê‰∏™ÂÖÉÁ¥†ÔºåÊàëÁöÑÊÉ≥Ê≥ïÊòØÊéßÂà∂‰∏ãÊ†áÔºå‰ΩÜÊòØÁî® forÂæ™ÁéØÊÄé‰πà‰πüÂÜô‰∏çÂá∫Êù•ÔºåÂõ†‰∏∫pythonÁöÑfor _ in range(len(list))ÁöÑÁªìÊùüÊù°‰ª∂‰∏ç‰ºöÂèòÂïäÔºåÁî®whileÂèØ‰ª•ÊéßÂà∂‰∏ãÊ†áÔºåÁúã‰∫ÜÂà´‰∫∫ÁöÑÂçöÂÆ¢ÔºåÊâæÂà∞‰∫Ü‰∏Ä‰∏™Â∑ßÂ¶ôÁöÑÂÜôÊ≥ïÔºåÂìáÔºåÊÉä‰∫ÜÔºåÈïøËßÅËØÜ‰∫Ü ÂÜôÊ≥ï‰∏ÄÔºöÈÅçÂéÜÊ∑±Êã∑Ë¥ùÊìç‰ΩúÂéüÂßãÁöÑ1234l = [1, 2, 3, 4, 5]for i in l[:]: if i % 2 == 0: l.remove(i) ÂÜôÊ≥ï‰∫åÔºöÊéßÂà∂‰∏ãÊ†á1234567l = [1, 2, 3, 4, 5]i = 0while i &lt; len(l): if l[i] % 2 == 0: l.pop(i) else: i += 1 ÂÜôÊ≥ï‰∏â: ÂÄíÂ∫èÈÅçÂéÜ1234l = [1, 2, 3, 4, 5]for i in range(len(l)-1, -1, -1): if l[i] % 2 == 0: l.pop(i) Á¨¨‰∏Ä‰∏™‰ºöÂ§öÂç†Áî®‰∏Ä‰ªΩlistÁöÑÂÜÖÂ≠òÔºåÁ¨¨‰∏â‰∏™ÊúÄÂ•Ω‰∫ÜÔºåÈïøÂæóÂ•ΩÁúãÔºå‰∏ªË¶ÅÊòØÂ•ΩËÆ∞ÂëÄÔºåÂä†‰∏â‰∏™-1 just remember it ~ dictÂú®ÈÅçÂéÜ‰∏≠Âà†Èô§ k-v1234l = [1, 2, 3, 4, 5]for k in list(l.keys()): if k % 2 == 0: del(a[k])]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[TopKÈóÆÈ¢òÁöÑÂá†ÁßçÊñπÊ≥ïÂÆûÁé∞]]></title>
    <url>%2F2019%2F04%2F14%2Ftopk%2F</url>
    <content type="text"><![CDATA[Ê±Ç‰∏Ä‰∫õÊï∞‰∏≠ÁöÑÊúÄÂ§ßÁöÑK‰∏™Êï∞ÂèØ‰ª•Áî®Â§ßÈ°∂Â†ÜÔºåÊîπËøõÁöÑÂø´ÊéíÔºå‰∏ãÈù¢ÊòØÊÄùË∑ØÂíåÂÆûÁé∞]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[networkxÈáåpageRankÁöÑ‰ΩøÁî®]]></title>
    <url>%2F2019%2F04%2F01%2FpageRank%2F</url>
    <content type="text"><![CDATA[‰ΩøÁî® networkx ÁöÑ pageRank ÊñπÊ≥ïÂØπÂõæ‰∏≠ÁªìÁÇπËÆ°ÁÆóÁ≠âÁ∫ßÔºåÁî® draw ÊñπÊ≥ïÂØπÂõæÂÅöÂèØËßÜÂåñÔºå‰ΩøÁî®Ëµ∑Êù•Ë∂ÖÁÆÄÂçïÔºåË∂ÖÂºÄÂøÉ 1234567891011121314151617181920212223import matplotlib.pyplot as pltimport networkx as nxG = nx.DiGraph()with open('../GraphData/karate.txt', 'r') as f: for line in f.readlines(): head, tail = [int(_) for _ in line.split()] G.add_edge(head, tail) G = G.to_undirected()pr = nx.pagerank(G, alpha=0.85)x = 0for node, value in pr.items(): print('%d,%.4f' % (node, value)) x += valueprint(x)layout = nx.spring_layout(G)plt.figure(1)nx.draw(G, pos=layout, node_color='y', with_labels=True)plt.figure(2)nx.draw(G, pos=layout, node_size=[x * 6000 for x in pr.values()], node_color='m', with_labels=True)plt.show() ‰∏äÈù¢‰ªéÊñá‰ª∂‰∏≠ËØªÂèñÂõæÁªìÊûÑ‰ø°ÊÅØÔºåÊñá‰ª∂‰∏≠ÊØèË°å‰∏§‰∏™Êï∞Â≠óÔºåË°®Á§∫ÊòØ‰∏ÄÊù°Ëæπ„ÄÇnetworksÈáåÊèê‰æõ‰∏Ä‰∫õÊï∞ÊçÆÈõÜÂèØ‰ª•Áõ¥Êé•ËΩΩÂÖ•ÔºåÂ¶ÇÔºöG = nx.karate_club_graph()]]></content>
      <categories>
        <category>mechine learning</category>
      </categories>
      <tags>
        <tag>ÂõæÁÆóÊ≥ï</tag>
        <tag>networkx</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ΩøÁî®sklearnÁöÑkmeansÊñπÊ≥ïËøõË°åËÅöÁ±ª]]></title>
    <url>%2F2019%2F04%2F01%2Fsklearn-kmeans%2F</url>
    <content type="text"><![CDATA[Â∞±ÊòØ‰ª£Á†ÅÔºå‰πüÊØî‰∏ÄÁÇπ‰∏ç‰ºöÂº∫‚Ä¶ 1234567891011121314import numpy as npimport matplotlib.pyplot as pltfrom sklearn.cluster import KMeansfrom sklearn.datasets.samples_generator import make_blobsX = [] # ‰∫åÁª¥Êï∞ÁªÑwith open('./GraphData/small_sample.txt', 'r') as f: for i in f.readlines(): X.append([int(x) for x in i.split()])X = np.asarray(X)# n_clusters ‰∏∫ËÅöÁ±ª‰∏™Êï∞Ôºåy_pred ‰∏∫ËÅöÁ±ªÁªìÊûúy_pred = KMeans(n_clusters=2, random_state=9).fit_predict(X)print(y_pred) #ËæìÂá∫Ôºö [1 1 1 1 1 1 1 1 0 0 0 0 0]plt.scatter(X[:, 0], X[:, 1], c=y_pred)plt.show() txt ÈáåÁöÑÂÜÖÂÆπÁ±ª‰ººÂ¶Ç‰∏ã 12340 40 61 2....]]></content>
      <categories>
        <category>mechine learning</category>
      </categories>
      <tags>
        <tag>ÂõæÁÆóÊ≥ï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[word2vecÁöÑÁÆÄÂçïÁêÜËß£]]></title>
    <url>%2F2019%2F03%2F19%2Fword2vec_CBOW%2F</url>
    <content type="text"><![CDATA[word2vecÁ†îÁ©∂Â¶Ç‰ΩïÂ∞ÜËØçÁî®ÂêëÈáèË°®Á§∫Ôºå‰ΩøÁî®ÁöÑ‰∏§‰∏™ÈáçË¶ÅÊ®°Âûã‚Äî‚ÄîCBOWÊ®°Âûã(Continuous Bag-of-Words Model)ÂíåSkip-gramÊ®°Âûã(Continuous Skip-gram Model)ÔºåCBOWÈÄöËøá‰∏ä‰∏ãÊñáÈ¢ÑÊµã‰∏≠Èó¥ËØçÔºåSkip-gramÂØπ‰∏≠Èó¥ËØçÈ¢ÑÊµãÂÆÉÁöÑ‰∏ä‰∏ãÊñáÔºåÊú¨ÊñáÂè™ÂØπCBOWËøõË°å‰ªãÁªç ËØçÁöÑÂêëÈáèË°®Á§∫ one-hotÔºöËØ≠ÊñôÂ∫ìÁöÑËØçÈ°π‰∏™Êï∞‰∏∫mÔºåÂàôone-hotË°®Á§∫ÁöÑÈïøÂ∫¶‰∏∫mÔºåÂè™Êúâ‰∏Ä‰∏™‰ΩçÁΩÆÊòØ1ÔºåÂÖ∂‰ΩôÈÉΩÊòØ0 distributed representationÔºöÂÅáËÆæÊØè‰∏™ËØçÈ°πÊúâd‰∏™ÁâπÂæÅÔºådËøúÂ∞è‰∫émÔºåÁî®dÁª¥ÂêëÈáèË°®Á§∫ÊØè‰∏™ËØçÈ°π CBOW CBOW ÊòØ word2vec ‰∏≠‰ΩøÁî®ÁöÑÊµÖÂ±ÇÁ•ûÁªèÁΩëÁªúÊ®°ÂûãÔºåËØ≠ÊñôÂ∫ì‰∏≠ËØçÈ°πÂíåËØçÈ°πÁöÑ‰∏ä‰∏ãÊñáÂÅö‰∏∫Ê†∑Êú¨ÔºåSample(Context(x), x)ÔºåÂØπÊ®°ÂûãÁöÑÂèÇÊï∞ËøõË°åËÆ≠ÁªÉÔºåÂæóÂà∞ÊØè‰∏™ËØçÈ°πÁöÑÂêëÈáèË°®Á§∫ ËØçÁöÑ‰∏ä‰∏ãÊñá Context(x) ‰∏Ä‰∏™ËØçÂá∫Áé∞ÁöÑÊ¶ÇÁéáÂè™‰∏éÂÆÉÂâçÂêéÂõ∫ÂÆöÊï∞ÁõÆ(n)ÁöÑËØçÁõ∏ÂÖ≥ÔºånÁöÑÂèñÂÄº‰∏éÊ®°ÂûãÂèÇÊï∞ÊúâÂÖ≥ÔºåÂèØ‰ª•ÂèÇËÄÉÔºö n Ê®°ÂûãÂèÇÊï∞Êï∞Èáè 1 2*10^5 2 4*10^{10} 3 8*10^{15} 4 16*10^{20} ‰æãÂ≠êÔºöÊàëÂæàÁà±Â≠¶‰ø°ÊÅØÊ£ÄÁ¥¢ Â¶ÇÊûún=2ÔºåÂàôÂ≠¶ÁöÑ‰∏ä‰∏ãÊñáContext(Â≠¶)={ ÂæàÔºåÁà±Ôºå‰ø°ÊÅØÔºåÊ£ÄÁ¥¢ } 4 ‰∏™ËØçÁªÑÊàê Ê®°ÂûãÁªìÊûÑ ËæìÂÖ•Â±Ç ‰∏ä‰∏ãÊñáËØçÈ°πÁöÑone-hot ÈöêËóèÂ±Ç ÂØπ‰∫é‰∏Ä‰∏™Ê†∑Êú¨Sample(Context(x), x)ÔºåÂ∞Üu_iÁöÑone-hotÂêëÈáè‰∏éË°®Á§∫Áü©ÈòµW_{m*d}Áõ∏‰πòÔºåÂæóÂà∞u_iÁöÑÂΩìÂâçË°®Á§∫ÂêëÈáè\hat{u_i}Ôºåu_i\in Context(x)ÔºåÂ∞Ü\sum_{i=1}^{2n}{\hat{u_i}}/2nÂÅö‰∏∫ÈöêËóèÂ±ÇÁöÑËæìÂá∫ÔºåÊòØ‰∏Ä‰∏™1*dÁöÑÂêëÈáè„ÄÇ ËæìÂá∫Â±Ç ÈöêËóèÂ±ÇÂæóÂà∞ÁöÑ1dÂêëÈáè‰∏éÊùÉÈáçÁü©ÈòµW'Áõ∏‰πòÔºåÂæóÂà∞1\mÁöÑÂêëÈáèÔºåÈÄöËøásoftmaxÂ§ÑÁêÜÂêéÂæóÂà∞‰∏Ä‰∏™1*mÁöÑÂêëÈáè\hat{y}Ôºå‰∏∫‰∏≠Èó¥ËØçÂá∫Áé∞ÁöÑÊ¶ÇÁéáÔºåÊ¶ÇÁéáÊúÄÂ§ßÁöÑindexÊåáÂêëÁöÑËØçÈ°πÂç≥‰∏∫È¢ÑÊµãÂá∫ÁöÑ‰∏≠Èó¥ËØçÔºå‰∏éÁúüÂÆûÂÄºÁöÑone-hotÂêëÈáè y ÂÅöÊØîËæÉÔºåÊ†πÊçÆËØØÂ∑ÆÊõ¥Êñ∞ÊùÉÈáçÁü©ÈòµW‰∏éW'„ÄÇ softmax( \begin{bmatrix} 4.01 & 2.01 & 5& 3.34& 1.2 \end{bmatrix} )= \begin{bmatrix} 0.23&0.03&0.61&0.12&0.01 \end{bmatrix}ÊçüÂ§±ÂáΩÊï∞ L=H(\hat y,y)=-\sum_i^m{\hat y_i log\ y_i} Ê¢ØÂ∫¶‰∏ãÈôçÊõ¥Êñ∞WÂíåW'ÔºåËÆ≠ÁªÉÂÆåÊØïÂêéÔºåWÁü©ÈòµÂç≥‰∏∫ËØçÂêëÈáèÁü©ÈòµÔºåÁî®‰∏Ä‰∏™ËØçÈ°πÁöÑone-hotÂéª‰πòWÁü©ÈòµÂç≥ÂæóÂà∞Ëøô‰∏™ËØçÈ°πÁöÑËØçÂêëÈáè ÁªìÊûÑÂàÜÊûê ÂèÇÊï∞Êï∞ÈáèÔºö2*d*m‰∏™Ôºåd‰∏∫ËØçÂêëÈáèÈïøÂ∫¶Ôºåm‰∏∫ËØçÈ°π‰∏™Êï∞ÔºåÂú®ËØ≠ÊñôÂ∫ì‰∏≠mÁöÑÂÄºÊòØÂæàÂ§ßÁöÑÔºåÂØπ‰∫é‰∏Ä‰∏™Ê†∑Êú¨(Context(x), x)ÔºåÂè™Êúâ‰∏Ä‰∏™ÊòØÊ≠£Á°ÆÁöÑÁªìÊûúÔºåÂÖ∂‰ΩôÁöÑm-1‰∏™ÂÖ®ÊòØÈîôËØØÁöÑÁªìÊûúÔºåÊØèÊ¨°ÈÉΩÂØπÂ§ßÈáèÁöÑÈîôËØØÁªìÊûúËøõË°åÊùÉÈáçÊõ¥Êñ∞ÊòØÂæàËÄóÊó∂ÁöÑ ÊîπËøõÊÄùË∑ØÔºöÂáèÂ∞ëÁΩëÁªúÁöÑÂèÇÊï∞‰∏™Êï∞ÂíåÊØèÊ¨°Ë¶ÅÊõ¥Êñ∞ÁöÑÂèÇÊï∞‰∏™Êï∞ Ë¥üÈááÊ†∑Á≠ñÁï• ÂØπ‰∫éËØç w ÁöÑ‰∏ä‰∏ãÊñáContext(w)Êù•È¢ÑÊµãwÔºåContext(x)‰∏éxÊûÑÊàê‰∫Ü‰∏Ä‰∏™Ê≠£Ê†∑Êú¨ÔºåContext(x)‰∏éÂà´ÁöÑËØçÈ°πÂ∞±ÊûÑÊàêË¥üÊ†∑Êú¨ÔºåÊØèÊ¨°ËÆ≠ÁªÉ‰ªÖÈÄâÊã©‰∏ÄÂ∞èÈÉ®ÂàÜÁöÑË¥üÊ†∑Êú¨ÔºåÂØπ‰ªñ‰ª¨ËøûÊé•ÁöÑÊùÉÈáçËøõË°åÊõ¥Êñ∞ÔºåÂáèÂ∞ë‰∫ÜÊØèÊ¨°ËÆ≠ÁªÉÈúÄË¶ÅÊõ¥Êñ∞ÁöÑÊùÉÈáçÊï∞ÈáèÔºåÂ∫îËØ•ÈÄâÊã©Â§öÂ∞ëÔºåÂ¶Ç‰ΩïËøõË°åÈÄâÊã©Âë¢ÔºüÂ§ß‰ΩìÊÄùË∑ØÊòØËÆ©Âá∫Áé∞È¢ëÁéáÈ´òÁöÑËØçÈ°πÊõ¥Â§ßÊ¶ÇÁéáË¢´ÈÄâÂÅöË¥üÊ†∑Êú¨„ÄÇ ÈááÊ†∑ÁéáÂÖ¨ÂºèÔºö len(w)=\frac{[counter(w)]^{3/4}}{\sum_{u\in D}[counter(u)]^{3/4}}len(w)Ë°®Á§∫wÂ∫îËØ•Ë¢´‰øùÁïô‰Ωú‰∏∫Ë¥üÊ†∑Êú¨ÁöÑÊ¶ÇÁéáÔºåcounter(w)‰ª£Ë°®wÂú®ËØ≠ÊñôÂ∫ì‰∏≠Âá∫Áé∞ÁöÑÊ¨°Êï∞ÔºåÊåáÊï∞3/4ÊòØÁªèÈ™åÂÄº Hierarchical softmaxÁöÑCBOW ÂàÜÂ±ÇsoftmaxÁöÑCBOWÂ∞ÜËæìÂá∫Â±ÇÊîπ‰∏∫Ê†ëÂΩ¢ÁªìÊûÑ Âª∫Á´ãÂìàÂ§´ÊõºÊ†ëÔºå‰ΩøÈ´òÈ¢ëËØçÈ°πÊõ¥Èù†ËøëÊ†πËäÇÁÇπÔºåËßÑÂÆöÂ∑¶Â≠©Â≠ê‰∏∫Ë¥üÁ±ªÔºåÂè≥Â≠©Â≠ê‰∏∫Ê≠£Á±ªÔºåÁªèËøá‰∏Ä‰∏™ÈùûÂè∂Â≠êÁªìÁÇπÂÅö‰∫Ü‰∏ÄÊ¨°‰∫åÂàÜÁ±ªÔºåËÆæÈöêËóèÂ±ÇÁöÑËæìÂá∫‰∏∫xÔºåÁªèËøáÊØè‰∏™ÈùûÂè∂Â≠êÁªìÁÇπË¢´ÂàÜÂà∞Ê≠£Á±ªÁöÑÊ¶ÇÁéá‰∏∫Ôºö \sigma(x^T\theta)=\frac{1}{1+e^{-x^T\theta}}ÂàÜÂà∞Ë¥üÁ±ªÊ¶ÇÁéá‰∏∫Ôºö1-\sigma(x^T\theta)ÔºåÊØè‰∏™ÈùûÂè∂Â≠êÁªìÁÇπ‰∏äÈÉΩÊúâ‰∏Ä‰∏™ÂæÖÂÆöÂèÇÊï∞ÂêëÈáèÔºö\thetaÔºåÂèØ‰ª•ËÆ°ÁÆóÂá∫Âà∞ËææÂÄº‰∏∫1ÁöÑÁªìÁÇπxÁöÑÊ¶ÇÁéáÔºö Á¨¨1Ê¨°Ôºöp(0|x,\theta_1)=1-\sigma(x^T\theta_1)\\ Á¨¨2Ê¨°Ôºöp(1|x,\theta_2)=\sigma(x^T\theta_2)\\ Á¨¨3Ê¨°Ôºöp(1|x,\theta_3)=\sigma(x^T\theta_3)\\ Á¨¨4Ê¨°Ôºöp(1|x,\theta_4)=\sigma(x^T\theta_4)\\ Âç≥Ôºöp(x|Context(x))=\prod_{i=1}^4{p(d_i|x,\theta_i)},\ d_i\in\{0,1\}ÁõÆÊ†áÂáΩÊï∞ÔºöL=\sum_{x\in C}{log\ p(x|Context(x))} ÊúÄÂ§ßÂåñÔºåÈÄöËøáÊ¢ØÂ∫¶‰∏äÂçáÔºàÊàñËÄÖÊ±Ç 1-L ÁöÑÊúÄÂ∞èÂÄºÔºåÁî®Ê¢ØÂ∫¶‰∏ãÈôçÔºâÊõ¥Êñ∞ x Âíå \theta ÁöÑÂÄºÔºåË°®Á§∫Áü©ÈòµÊòØÊúÄÁªàÂæóÂà∞ÁöÑËØçÂêëÈáèÁü©Èòµ„ÄÇ ÂèÇËÄÉÊñáÁåÆEfficient Estimation of Word Representations in Vector Space word2vecÁöÑÊï∞Â≠¶ÂéüÁêÜ word2vecÁöÑË¥üÈááÊ†∑]]></content>
      <categories>
        <category>mechine learning</category>
      </categories>
      <tags>
        <tag>word2vec</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Redis ‰∏ª‰ªéÊúçÂä°Âô®Êê≠Âª∫‰∏éÂì®ÂÖµÊú∫Âà∂]]></title>
    <url>%2F2019%2F03%2F12%2Fredis-master-slave-sentinel%2F</url>
    <content type="text"><![CDATA[ÂÆûÈ™åÂÜÖÂÆπÔºöÁî®‰∏âÂè∞ÊúçÂä°Âô®ËøêË°å redisÔºåËÆæÁΩÆ‰∏ª‰ªéÂÖ≥Á≥ªËøõË°åÊï∞ÊçÆÂ≠òÂÇ®ÔºåÂª∫Á´ãÂì®ÂÖµÁõëÁù£‰∏ªËäÇÁÇπÔºåÊ®°Êãü‰∏ªËäÇÁÇπÂÆïÊú∫ÂêéÁöÑÂì®ÂÖµÈÄâ‰∏æÊñ∞‰∏ª Redis ÂçïËäÇÁÇπÂÆâË£Ö Â∞Ü Redis 5.0.3ÂéãÁº©ÂåÖËß£ÂéãÔºåËøõÂÖ•Ëß£ÂéãÂêéÁöÑÊñá‰ª∂Â§πÔºåÂèØ‰ª•ÁúãÂà∞MakefileÊñá‰ª∂ÔºåÂú®Ëøô‰∏™Ë∑ØÂæÑ‰∏ãÊâßË°åmake&amp;&amp;make PREFIX=~/redis installËøõË°åÁºñËØëÂíåÂÆâË£ÖÔºåÂú®~/redis‰∏ãÂèØ‰ª•ÁúãÂà∞binÊñá‰ª∂Â§πÔºåÈáåÈù¢Êúâ‰∏Ä‰∫õËÑöÊú¨Êñá‰ª∂Ôºöredis-serverÔºåredis-cliÔºåredis-sentinelÁ≠â„ÄÇÈÖçÁΩÆÁéØÂ¢ÉÂèòÈáè‰ΩøÂæóÊâßË°åËÑöÊú¨ÂëΩ‰ª§Êõ¥Âä†Êñπ‰æøÔºövi /etc/profileÂú®ÊúÄÂêéÂä†‰∏äÂ¶Ç‰∏ãÂÜÖÂÆπÔºö(shift + gË∑≥Âà∞ÊúÄÂêé‰∏ÄË°åÔºåshift + $Ë∑≥Âà∞‰∏ÄË°åÁöÑÊúÄÂêé) 12export REDIS_HOME=/root/redisPATH=$PATH:$REDIS_HOME/bin Âú®ÂçïËäÇÁÇπ‰∏äÁöÑÊüê‰∏™Ë∑ØÂæÑ‰∏äËøêË°åredis-serverÂç≥ÂèØÊåâÈªòËÆ§ÂèÇÊï∞ÔºàÁ´ØÂè£6379ÔºâÂêØÂä®ÊúçÂä°Ôºåredis-cli‰Ωú‰∏∫ÂÆ¢Êà∑Á´ØËÆøÈóÆÊúçÂä°ÔºåÂèØ‰ª•Áî®ÂΩ¢Â¶ÇÔºöredis-server --port 6380Ôºåredis-cli -h ip -p portÁöÑÊñπÂºèÊåáÂÆöÂèÇÊï∞ÔºåÂÖ∑‰ΩìÂëΩ‰ª§ËÆøÈóÆredisÂÆòÁΩë Redis ÈõÜÁæ§Êê≠Âª∫ ÂàõÂª∫‰∏â‰∏™ÊúçÂä°Âô®Ôºö 192.168.56.100 master 192.168.56.101 slave1 192.168.56.102 slave2 vim /etc/hostsËÆæÁΩÆipÂØπÂ∫îÁöÑÂüüÂêçÂáèÂ∞ëÊï≤ipÁöÑÈ∫ªÁÉ¶ ‰∏∫‰∫ÜÊñπ‰æøÔºå‰ª•‰∏ãÈÉΩÂú®ÂêÑ‰∏™ÊúçÂä°Âô®ÁöÑ~/redis/6380Êñá‰ª∂Â§π‰∏ãÊìç‰Ωú ‰∏ªÁªìÁÇπ master‰∏∫‰∏ªËäÇÁÇπÔºåÊúçÂä°ÈÖçÁΩÆÊñá‰ª∂vi redis.confÔºö 12port 6380protected-mode no Âì®ÂÖµÈÖçÁΩÆÊñá‰ª∂vi sent.confÔºö 12port 26379sentinel monitor c1 master 6380 2 ÂêØÂä®ÊúçÂä°Ôºöredis-server redis.conf ÂêØÂä®Âì®ÂÖµÔºöredis-sentinel sent.conf ‰ªéÁªìÁÇπ slave1 Âíå slave2 ‰Ωú‰∏∫‰ªéËäÇÁÇπÔºåÂú®ÊúçÂä°ÈÖçÁΩÆ‰∏äÂä†‰∏äÈôÑÂ±û‰∏ªËäÇÁÇπÔºåÂú®Âì®ÂÖµ‰∏äÊ≤°Êúâ‰∏çÂêå 123port 6380protected-mode noslaveof master 6380 ÂÜôÂ•ΩÈÖçÁΩÆÊñá‰ª∂ÂêéÂêØÂä®ÊúçÂä°ÂíåÂì®ÂÖµ ÂÆûÈ™åÂÜÖÂÆπ ÈÄöËøáÂÆ¢Êà∑Á´ØËÆøÈóÆ‰∏çÂêåÁªìÁÇπÔºöredis-cli -h master -p 6380ÂèØ‰ª•ÊâßË°åset/getÊìç‰ΩúÔºåËÆøÈóÆslaveÁªìÁÇπÂè™ËÉΩÊâßË°ågetÊìç‰Ωú Ê®°Êãü‰∏ªËäÇÁÇπÂÆïÊú∫Ôºö‰ΩøÁî®Ctrl CÂëΩ‰ª§ÂÖ≥Èó≠‰∏ªËäÇÁÇπredisÊúçÂä°ËøõÁ®ãÔºåÊü•Áúãslave1Âíåslave2 ÁöÑÁä∂ÊÄÅÔºåÂèØ‰ª•ÂèëÁé∞ÁªèËøáÂ§ßÁ∫¶10sÂêéÂì®ÂÖµÈáçÊñ∞ÈÄâ‰∏æslave1ÊàñËÄÖslave2‰Ωú‰∏∫Êñ∞ÁöÑ‰∏ªÔºåÂêåÊó∂Â∞ÜmasterÈôçÁ∫ß‰∏∫slaveÔºåÂÜçÂêØÂä®masterÁöÑredisÊúçÂä°Êó∂ÔºåÂÆÉ‰ª•‰ªéËäÇÁÇπÁöÑË∫´‰ªΩÂä†ÂÖ•ÈõÜÁæ§„ÄÇ]]></content>
      <categories>
        <category>Êï∞ÊçÆÂ∫ì</category>
      </categories>
      <tags>
        <tag>redis</tag>
        <tag>NoSQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êû´Âè∂Âüé]]></title>
    <url>%2F2019%2F02%2F13%2Ffyl%2F</url>
    <content type="text"><![CDATA[ÊúÄËøëÔºåÂºÄÂßãÁªÉ‰π†Êù®ÊòäÊòÜÁöÑÊû´Âè∂ÂüéÔºåËøôÈ¶ñÁî®Âà∞ÊâìÊùøÂíåÊãçÂº¶ÁöÑÊäÄÂ∑ßÂçÅË∂≥ÈúÄË¶ÅÁªÉ‰π†‰∏ÄÈòµÂ≠ê„ÄÇÊ∑±ÁßãÁöÑÂüé‰∏≠ÔºåÊû´Âè∂Âú®ÊûùÂ§¥ÔºåÂú®È£é‰∏≠ÔºåÂú®Âú∞Èù¢ÔºåÊò†Á∫¢‰∫ÜËøôÂ∫ßÂüéÔºåÂú®ÂüéÊ•ºÈ´òÂ§ÑÔºåÂêâ‰ªñÁöÑÊóãÂæãÔºå‰º¥ÁùÄËµ∑ËàûÁöÑÊû´Âè∂ÔºåÂú®Á∞åÁ∞åÁöÑÈ£é‰∏≠ÂõûËç°ÔºåÂú®ÂØÇÈùôÁöÑÁ©∫Â∑∑‰∏≠È£òÊâ¨„ÄÇËøôÔºåÊòæÁÑ∂ÊòØ‰∏Ä‰∏™‰∫∫ÁöÑÂüé„ÄÇËøôÈ¶ñÊõ≤Â≠êÁúüÁöÑÂ•ΩÂê¨ÔºåÂºπÁê¥ÁöÑÊó∂ÂÄôÔºåÊâçÊòØÊàëÂÖ®Ë∫´ÂøÉÊäïÂÖ•ÁöÑÊó∂ÂÄôÔºåÂè™ÊÉ≥Ê≤âÊµ∏Âú®Èü≥‰πê‰∏≠ÔºåÂÖ®ÈÉ®ÁöÑÁÉ¶ÊÅº‰πüÈÉΩÊó†ÊöáÈ°æÂèä„ÄÇÂÅöÂà´ÁöÑ‰∫ãÂë¢ÔºåÂàôÁªèÂ∏∏ÊòØÊèíÁùÄËÄ≥Êú∫ÔºåÊúãÂèãÁ¨ëÁùÄËØ¥Ôºå‰Ω†ÁúüÁöÑÂæàÂñúÊ¨¢Èü≥‰πêÂïä„ÄÇÊòØÂïäÔºå‰ΩÜÊòØÔºå‰∏çÂê¨Ê≠åÂÅö‰ªÄ‰πàÂë¢ÔºüÂú®Ê†°Âõ≠ÈáåÁî®ÁúºÁùõÂíåËÖøÂ∞±ÂèØ‰ª•ËøáÈ©¨Ë∑ØÔºåÈ£üÂ†ÇÂêÉÈ•≠Âè™ÈúÄË¶ÅÂò¥Â∑¥ÔºåÂú®ÁîµËÑëÂâçÂ∑•‰ΩúÈü≥‰πêËÉΩËÆ©ÊûØÁá•ÁöÑÊó∂Èó¥ËøáÁöÑÂø´‰∫õ„ÄÇÂΩìÊóãÂæãÂìçËµ∑ÔºåÊû´Âè∂Âá∫Áé∞Âú®Á©∫‰∏≠ÔºåËµ∞Âú®Âè§Âüé‰∏≠ÔºåÈùíÁü≥ÊùøÈì∫ÊàêÁöÑÂÆΩÈòîË°óÈÅì‰∏äÔºå‰∏§‰æßÁ©∫Êó†‰∏Ä‰∫∫ÁöÑÂ∫óÈì∫ÔºåÈùôÊ≠¢ÁöÑÈó®Á™óÔºåÊó∂ÈöêÊó∂Áé∞ÁöÑÈ£éÈìÉÔºå‰πü‰∏çËßâÂæóÂ•áÊÄ™„ÄÇÊúãÂèãÂÜ≤ÊàëÁ¨ë‰∫ÜÁ¨ëÔºöÊù•Âï¶ÔºåÊàë‰πüÂêë‰ªñÈóÆÂ•ΩÔºåËµ∞Âà∞Â∫ß‰Ωç‰∏äÔºåÊääËÄ≥Êú∫‰ªéÊâãÊú∫‰∏äÊãî‰∏ãÔºåÊèíÂú®‰∫ÜÁîµËÑë‰∏ä„ÄÇ‰∏çÁü•‰ªé‰ªÄ‰πàÊó∂ÂÄôÂºÄÂßãÔºåÂ∞±ÂñúÊ¨¢ÊääÊÉÖÁª™ÂüãÂú®ÂøÉÂ∫ïÔºåËÑ∏‰∏äÁöÑË°®ÊÉÖ‰πüË∂äÊù•Ë∂äÂ∞ëÔºåÂç≥‰ΩøÂú®ÂÆ∂ÈáåÔºåÂíå‰∏ÄÂπ¥ËßÅÂá†Ê¨°Èù¢ÁöÑÁà∂ÊØçÔºå‰πü‰∏çÊÉ≥ËÆ©‰ªñ‰ª¨ÁúãÂá∫Ëá™Â∑±ÁöÑÂñúÊÄíÂìÄ‰πê„ÄÇ‚Ä¶ÂñßÂö£ÂíåÂòàÊùÇ‰∏≠ÔºåÊúâËÉΩÂ±û‰∫éËá™Â∑±ÁöÑÂÆâÈùôÔºåÊòØÂ§ö‰πàÁèçË¥µÔºåÊääÂØùÂÆ§ÁöÑÁ™óÊà∑Êì¶‰∫ÆÔºåÈùô‰∏ãÂøÉËßÇÂØüÂ§©Á©∫ÁöÑÈ¢úËâ≤ÔºåËøúÂ§ÑÈ´òÂ±±ÁöÑÁßãË£ÖÔºå‰∏∫Ëá™Â∑±ËÉΩÁîüÊ¥ªÂú®Ê∏©ÊöñÁöÑÂÆ§ÂÜÖËÄåÊÉ¨Âñú„ÄÇÂò¥‰∏äËØ¥ÁùÄË¶Å‰∏∫Ëá™Â∑±Ê¥ªÔºåË¶ÅÊúâÁã¨Á´ãÁöÑ‰∫∫Ê†ºÔºåÂèØÊº´Êº´ÈïøÂ§úÔºåË∞ÅÂèàËÉΩÂøçÂèóÂæó‰∫ÜÂë¢„ÄÇ]]></content>
      <categories>
        <category>ÈöèÁ¨î</category>
      </categories>
      <tags>
        <tag>ÈöèÁ¨î</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[tensorflow method]]></title>
    <url>%2F2019%2F01%2F28%2Ftensorflow-method%2F</url>
    <content type="text"><![CDATA[tf.random_uniform tf.random_uniform(shape, minval, maxval, dtype, seed, name) ‰∫ßÁîü3Ë°å4ÂàóÁöÑÈöèÊú∫Êï∞ÔºåËåÉÂõ¥Âú®(-1, 1)ÔºåÁ±ªÂûãÊòØfloat32ÔºåÂèØÁî®‰∫éÊùÉÈáçÂèÇÊï∞ÁöÑÂàùÂßãÂåñ 1tf.random_uniform((3, 4), -1, 1, dtype=tf.float32) tf.Variable tf.Variable.init(initial_value, trainable=True, collections=None, validate_shape=True, name=None) ÂàõÂª∫ÂõæÂèòÈáèÔºåÂàùÂßãÂÄº‰∏∫ initial_value tf.SparseTensor tf.SparseTensor(indices, values, dense_shape) indicesÔºö2Áª¥int64Âº†ÈáèÔºåÊåáÂÆöÁ®ÄÁñèÂº†Èáè‰∏≠ÈùûÈõ∂ÂÄºÁöÑ‰ΩçÁΩÆ valuesÔºö1Áª¥Âº†ÈáèÔºåÊèê‰æõindices‰∏≠ÊØè‰∏™‰ΩçÁΩÆÂØπÂ∫îÁöÑÂÄº dense_shapeÔºöÁ®ÄÁñèÂº†ÈáèÁöÑÂΩ¢Áä∂ 1234SparseTensor(indices=[[0, 0], [1, 2]], values=[1, 2], dense_shape=[3, 4])[[1, 0, 0, 0] [0, 0, 2, 0] [0, 0, 0, 0]] tf.argmax tf.arg_max(input, dimension, output_type=tf.int64, name=None) ÁªôÂá∫Êüê‰∏™tensorÂØπË±°Âú®Êüê‰∏ÄÁª¥‰∏äÁöÑÂÖ∂Êï∞ÊçÆÊúÄÂ§ßÂÄºÁöÑÁ¥¢ÂºïÂÄº 12345678arr = np.array([ [1, 2, 3], [2, 3, 4], [5, 4, 3], [8, 7, 2]])tf.argmax(test, 0) # array([3, 3, 1])tf.argmax(test, 1) # array([2, 2, 0, 0]) tf.reduce_mean1234x = tf.constant([[1., 1.], [2., 2.]])tf.reduce_mean(x) # 1.5, axis=NoneÔºåÂØπÊâÄÊúâÊï∞Â≠ótf.reduce_mean(x, 0) # [1.5, 1.5],axis=0tf.reduce_mean(x, 1) # [1., 2.],axis=1 tf.reduce_sum1234x = tf.constant([[1., 1.], [2., 2.]])tf.reduce_sum(x) # 6.0, axis=NoneÔºåÂØπÊâÄÊúâÊï∞Â≠ótf.reduce_sum(x, 0) # [3., 3.], axis=0tf.reduce_sum(x, 1) # [2., 4.], axis=1 tf.truncated_normal tf.truncated_normal(shape,mean=0.0, stddev=1.0, dtype=tf.float32, seed=None, name=None) ‰ªéÊà™Êñ≠ÁöÑÊ≠£ÊÄÅÂàÜÂ∏É‰∏≠ËæìÂá∫ÂΩ¢Â¶Ç shape ÁöÑÈöèÊú∫ÂÄºÔºöÁîüÊàê (Œº-2œÉÔºåŒº+2œÉ) ‰πãÈó¥ÁöÑÈöèÊú∫Êï∞ tf.random_normal tf.random_normal(shape, mean=0.0, stddev=1.0, dtype=tf.float32, seed=None, name=None) ÊåâÊ≠£Â§™ÂàÜÂ∏É(Œº,œÉ)ÁîüÊàêÂΩ¢Â¶Ç shape ÁöÑÈöèÊú∫Êï∞ tf.constant tf.constant(value, dtype=None, shape=None, name=&#39;Const&#39;, verify_shape=False) ‰∫ßÁîüÂΩ¢Â¶Ç shape ÁöÑÂ∏∏Èáè TensorÔºåÂèØÁî®‰∫éÂ§öÂÅèÊâßÈáèÂàùÂßãÂåñ tf.cast tf.cast(x, dtype, name=None) Â∞Ü x ÁöÑÊï∞ÊçÆÁ±ªÂûãËΩ¨Êàê dtype 123456a = tf.Variable([1, 0, 0, 1])b = tf.cast(a, dtype=tf.bool)with tf.Session() as sess: sess.run(tf.initialize_all_variables()) print(sess.run(b))# [True False False True] tf.nn.conv2d Âç∑ÁßØÂáΩÊï∞ tf.nn.conv2d(input, filter, strides, padding, use_cudnn_on_gpu=None, name=None) input: Ë¶ÅÂÅöÂç∑ÁßØÁöÑËæìÂÖ•ÂõæÂÉèÔºåÁ±ªÂûãÔºöTensor [batch, in_height, in_width, in_channels]ÔºåÂê´‰πâÔºö[ËÆ≠ÁªÉ‰∏ÄÊâπ batch ‰∏™ÁöÑÂõæÁâáÔºåÂõæÁâáÈ´òÂ∫¶ÔºåÂÆΩÂ∫¶ÔºåÈ¢úËâ≤ÈÄöÈÅìÊï∞]Ôºõ filter: Âç∑ÁßØÊ†∏ÔºåÁ±ªÂûãÔºöTensor [filter_height, filter_width, in_channels, out_channels]ÔºåÂê´‰πâÔºö[Âç∑ÁßØÊ†∏È´òÂ∫¶ÔºåÂÆΩÂ∫¶ÔºåÈ¢úËâ≤ÈÄöÈÅìÊï∞ÔºåÂç∑ÁßØÊ†∏‰∏™Êï∞] strides: Ê≠•ÈïøÔºå‰∏ÄÁª¥TensorÔºåÈïøÂ∫¶4Ôºå‰∫åÁª¥ÂõæÁâáÊòØ[1, stride, stride, 1] padding: Á±ªÂûã: StringÔºå‚ÄôSAME‚Äô Êàñ ‚ÄòVALID‚Äô ÂÖ∂‰∏≠‰πã‰∏ÄÔºå‚ÄôSAME‚ÄôÊ£ÄÊµãÂõæÂÉèËæπÁºòÔºå‚ÄôVALID‚Äô‰∏çÊ£ÄÊµãÂõæÂÉèËæπÁºò use_cudnn_on_gpu: Á±ªÂûãÔºöboolÔºåÊòØÂê¶Áî® cudnn Âä†ÈÄüÔºåÈªòËÆ§ÊòØ true Return: ËøîÂõûÂÄºÁ±ªÂûãÔºöfeature map: Tensor [batch, height, width, channels] 123456789101112131415i = tf.Variable([[ [[1.], [2.], [3.]], [[2.], [1.], [0.]], [[0.], [3.], [0.]]]])j = tf.Variable([[ [[1.]], [[2.]]], [[[3.]], [[2.]]]])sess = tf.InteractiveSession()sess.run(tf.global_variables_initializer())op = tf.nn.conv2d(i, j, strides=[1, 1, 1, 1], padding='VALID')print(sess.run(op))# [[ [[13.] [11.]] # [[10.] [10.]] ]] tf.nn.max_pool ÊúÄÂ§ßÊ±†ÂåñÂ±Ç tf.nn.max_pool(value, ksize, strides, padding, name=None)ÔºåÁî®‰∫éÂØπÂç∑ÁßØÂ±ÇËæìÂá∫ÁöÑ featrue map ÊèêÂèñÂ±ÄÈÉ®ÊúÄÂ§ßÂÄº value: Ê±†ÂåñÂ±ÇÁöÑËæìÂÖ•ÔºõÁ±ªÂûãÔºöfeature map: Tensor [batch, height, width, channels]ÊòØÂç∑ÁßØÂ±ÇÁöÑËæìÂá∫ ksize: Ê±†ÂåñÁ™óÂè£ÁöÑÂ§ßÂ∞èÔºåÂõõÁª¥ÂêëÈáèÔºå‰∏ÄËà¨ÊòØ [1, height, width, 1] strides: Ê≠•ÈïøÔºå[1, stride, stride, 1] padding: ‚ÄòVALID‚Äô or ‚ÄòSAME‚Äô return: TensorÔºå[batch, height, width, channels] 1234567891011i = tf.Variable([[ [[1.], [2.], [3.]], [[2.], [1.], [0.]], [[0.], [3.], [0.]]]])sess = tf.InteractiveSession()sess.run(tf.global_variables_initializer())op = tf.nn.max_pool(i, [1, 2, 2, 1], [1, 1, 1, 1], padding='VALID')print(sess.run(op))# [[ [[2.] [3.]]# [[3.] [3.]] ]] tf.nn.avg_pool ÂØπ feature_map ÊèêÂèñÂ±ÄÈÉ®ÂùáÂÄº tf.nn.softmax tf.nn.softmax(logits, axis=None, name=None) ÊøÄÊ¥ªÂáΩÊï∞ÔºåÂ∞ÜN*1ÁöÑÂêëÈáèÂΩí‰∏ÄÂåñ‰∏∫ (0, 1) ‰πãÈó¥ÁöÑÂÄºÔºåÂ∞ÜËæÉÂ§ßÁöÑÈáèÁâπÂæÅÊõ¥Âä†ÊòéÊòæ logits: ÈùûÁ©∫ Tensor axis: ÊâßË°å softmax ÁöÑÁª¥Â∫¶ÔºåÈªòËÆ§ÊòØ -1ÔºåÂç≥ÊúÄÂêé‰∏Ä‰∏™Áª¥Â∫¶ 123456i = tf.Variable([1., 2., 3., 4.])with tf.Session() as sess: sess.run(tf.global_variables_initializer()) op = tf.nn.softmax(i) print(sess.run(op))# [0.0320586 0.08714432 0.23688284 0.6439143 ] tf.add_n tf.add_n(inputs,name=None)Â∞ÜÂàóË°®ÈáåÁöÑÂÖÉÁ¥†Áõ∏Âä†ÔºåÁî®‰∫éinputsÊòØÁî±for‰∫ßÁîüÁöÑÊÉÖÂÜµ‰∏ã‰∏çÊñπ‰æøÁõ¥Êé•Áõ∏Âä† 1tf.add_n([tf.nn.l2_loss(w) for w in X]) tf.matmul tf.matmul(a, b, transpose_a=False, transpose_b=False, adjoint_a=False, adjoint_b=False, a_is_sparse=False, b_is_sparse=False, name=None) Áü©Èòµ‰πòÊ≥ïÔºöa, b ÂøÖÈ°ªÊòØÁü©Èòµ(Áª¥Â∫¶Â§ß‰∫é2)ÔºåÈÉΩÂèØ‰ª•ÈÄöËøáÁõ∏Â∫îÂèÇÊï∞ËøõË°åËΩ¨ÁΩÆÊàñÂÖ±ËΩ≠ÔºåÂèØ‰ª•‰ΩøÁî®Á®ÄÁñèÁü©Èòµ‰πòÊ≥ïÊèêÈ´òÊïàÁéá 1234567891011121314i = tf.Variable([ [1, 2], [2, 3]])j = tf.Variable([ [2, 3], [1, 2]])with tf.Session() as sess: sess.run(tf.global_variables_initializer()) op = tf.matmul(i, j) print(sess.run(op))#[ [4 7]# [7 12] ] tf.multiply tf.math.multiply(x, y, name=None) x, y ÂØπÂ∫î‰ΩçÁΩÆÂÄºÁõ∏‰πò 12345678910i = tf.Variable([1, 2])j = tf.Variable([ [2, 1], [1, 3]])with tf.Session() as sess: sess.run(tf.global_variables_initializer()) print(sess.run(tf.multiply(i, j)))# [[2 2]# [1 6]] tf.reshape tf.reshape(tensor, shape, name=None) ÂèòÂΩ¢Ôºå-1 ÂèØ‰ª•Áî®Êù•Êé®ÊµãÂΩ¢Áä∂Ôºö[-1] ÂèØ‰ª•Áî®Êù•Â±ïÂºÄÔºå[-1, 3]ÔºöÂàÜÊàê x ÁªÑÔºåÊØèÁªÑ 3 ‰∏™Ôºå[2, -1]ÔºöÂàÜÊàê 2 ÁªÑÔºåÊØèÁªÑ x ‰∏™ tf.nn.relu tf.nn.relu(features, name=None)ÊøÄÊ¥ªÂáΩÊï∞ÔºåÂç≥ max(features, 0)ÔºåÂ∞ÜÁü©Èòµ‰∏≠ÊØèË°åÁöÑË¥üÊï∞ÁΩÆ 0 12345i = tf.Variable([-1, 1, 2, -2])with tf.Session() as sess: sess.run(tf.global_variables_initializer()) print(sess.run(tf.nn.relu(i)))# [0 1 2 0] tf.nn.dropout tf.nn.dropout(x, keep_prob, noise_shape=None, seed=None, name=None) Èò≤Ê≠¢ËøáÊãüÂêàÔºå‰∏ÄËà¨Áî®Âú®ÂÖ®ËøûÊé•Â±ÇÔºåÈöèÊú∫ÊâîÊéâ‰∏ÄÈÉ®ÂàÜÁ•ûÁªèÂÖÉ„ÄÇËÆ©Á•ûÁªèÂÖÉÊåâÊøÄÊ¥ªÂÄº keep_prob Ê¥ªË∑ÉËøòÊòØÁù°Áú†„ÄÇ xÔºöËæìÂÖ• keep_probÔºöÁ•ûÁªèÂÖÉË¢´ÈÄâ‰∏≠ÁöÑÊ¶ÇÁéáÔºåÂàùÂßãÂåñ keep_prob ÊòØ‰∏Ä‰∏™Âç†‰ΩçÁ¨¶Ôºåkeep_prob=tf.placeholder(tf.float32) train ÁöÑÊó∂ÂÄô‰ΩøÁî® dropout cross_entropy ‰∫§ÂèâÁÜµÔºö H(p,q)=-\sum_xp(x)logq(x)p(x)ÊòØÊ†∑Êú¨ÁöÑÊ†áÁ≠æÔºåq(x)ÊòØÊ®°ÂûãÁöÑÈ¢Ñ‰º∞ÁªìÊûú Áî±Êù•Ôºö‰∫§ÂèâÁÜµ - Ê†∑Êú¨ÁÜµ(Â∏∏Êï∞) = Áõ∏ÂØπÁÜµ Êàñ KLÊï£Â∫¶ H(p,q)-H(p)=-\sum_x p(x)logq(x)+\sum_x p(x)logp(x)=\\-\sum_x p(x)(logq(x)-p(x))=-\sum_x p(x)log \frac{q(x)}{p(x)}cross_entropy = -tf.reduce_sum(y_ * tf.log(y_conv)) ÂÖ∂‰∏≠Ôºåy_ÊòØÊ†∑Êú¨ labelÔºåy_conv ÊòØÊ®°ÂûãÁöÑËæìÂá∫ feed_dict ÊõøÊç¢Âõæ‰∏≠ÁöÑÊüê‰∏™ tensor ÁöÑÂÄºÔºåÂèØ‰ª•Áî®Êù•ËÆæËÆ°ÂõæÁöÑËæìÂÖ• (ÊõøÊç¢ÂºÄÂßãÂ£∞ÊòéÁöÑÂç†‰ΩçÁ¨¶) 123op = tf.multiply(a, 3)with tf.Session() as sess: sess.run(op, feed_dict=&#123;a: 5&#125;) # Â∞Ü a=5‰º†ÁªôÊìç‰Ωúop tf.SparseTensor Á®ÄÁñèÂº†ÈáèÔºöSparseTensor(indices, values, dense_shape)ÔºåÂç≥ÂùêÊ†áÔºåÂÄºÔºåËßÑÊ®° 1234SparseTensor(indices=[[0, 0], [1, 2]], values=[1, 2], dense_shape=[3, 4])[[1, 0, 0, 0] [0, 0, 2, 0] [0, 0, 0, 0]] tf.trace ËÆ°ÁÆóÁü©ÈòµÁöÑËøπÔºö‰∏ªÂØπËßíÁ∫øÁöÑÊÄªÂíå 12x = tf.constant([[1,2,3],[4,5,6],[7,8,9]])tf.trace(x) # 15 tf.nn.l2_loss L2ËåÉÊï∞ËÆ°ÁÆóÂº†ÈáèÁöÑËØØÂ∑ÆÂÄºÔºåÂØπÂº†Èáè‰∏≠ÊØè‰∏™ÂÖÉÁ¥†Âπ≥ÊñπÊ±ÇÂíåÔºåÊúÄÂêé‰πò1/2 tf.nn.l2_loss([1.0, 2.0, 3.0])=7.0 tf.train.Saver saver=tf.train.Saver(max_to_keep=5)ÔºåÂàõÂª∫SaverÂØπË±°ÔºåÁî®‰∫é‰øùÂ≠òËÆ≠ÁªÉÂ•ΩÁöÑÊ®°ÂûãÔºå‰øùÂ≠òÊúÄÂêémax_to_keepÊ¨°ÁöÑÊ®°ÂûãÂèÇÊï∞ÔºåÁî®SaverÂØπË±°‰øùÂ≠òÊ®°ÂûãÔºösaver.save(sess, pathd=&#39;&#39;, global_step=step) ‰øùÂ≠òÁöÑÊñá‰ª∂ÊúâÂõõ‰∏™ÔºöcheckpointÔºå*.dataÔºå*.indexÔºå*.meta ÊùÉÈáçÂèÇÊï∞Âú® .dataÊñá‰ª∂‰∏≠ tf.floor tf.floor(x, name=None)Âêë‰∏ãÂèñÊï¥Ôºåx‰∏∫Âº†Èáè tf.assign_add tf.assign_add(ref, value)ÔºåÂÖ∂‰∏≠refÊòØÂèØÂèòÁöÑÂº†ÈáèÔºå tf.Session.run tf.Session.run(fetches, feed_dict=None, options=None, run_metadata=None) ËÆ°ÁÆófetches‰∏≠ÁöÑÊâÄÊúâÂº†ÈáèÔºåËøîÂõûÂÄºÊòØÂº†ÈáèÁöÑ‰∏™Êï∞ÔºåÂÖ∂‰∏≠fetchesÂèØ‰ª•ÊòØ‰∏Ä‰∏™Âº†ÈáèÔºåÂàóË°®ÔºåÂÖÉÁªÑ]]></content>
      <categories>
        <category>tensorflow</category>
      </categories>
      <tags>
        <tag>tensorflow</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[skip-gram]]></title>
    <url>%2F2018%2F12%2F16%2Fskip-gram%2F</url>
    <content type="text"><![CDATA[Â¶Ç‰ΩïÂ∞Ü‰∏Ä‰∏™ËØçÁî®ÂêëÈáèË°®Á§∫Âë¢ÔºüÊú¨Êñá‰ªãÁªçÊàëÂØπword2vecÁöÑÁÆÄÂçïÁêÜËß£ È¢ÑÂ§áÁü•ËØÜsigmoid ÂáΩÊï∞ ‰∫åÂàÜÁ±ªÁöÑÊøÄÊ¥ªÂáΩÊï∞Ôºö \delta(x) = \frac{1}{1+e^{-x}}ÊÄßË¥®ÔºöÂÄºÂüü (0, 1) \delta'(x) = \delta(x)[1-\delta(x)]\\ [log\delta(x)]' = 1-\delta(x)\qquad [log(1-\delta(x))]'=-\delta(x) ÈÄªËæëÂõûÂΩí logisticÂõûÂΩíÔºå‰∏ÄÁßçÂπø‰πâÁ∫øÊÄßÂõûÂΩíÔºåËß£ÂÜ≥‰∫åÂàÜÁ±ªÈóÆÈ¢òÔºö{(xi, yi)}im ‰∏∫‰∫åÂàÜÁ±ªÈóÆÈ¢òÁöÑÊ†∑Êú¨Êï∞ÊçÆÔºåÂÖ∂‰∏≠ xi‚ààRnÔºåyi‚àà{0, 1} Áî±sigmoidÂáΩÊï∞ÔºåÂØπ‰ªªÊÑèÊ†∑Êú¨ x=(x1, x2,‚Ä¶, xn)TÔºåÂèØÂ∞Ü‰∫åÂàÜÁ±ªÈóÆÈ¢òÁöÑÂÅáËÆæÂáΩÊï∞(hypothesis)ÂÜôÊàê h_\theta(x)=\delta(\theta_0+\theta_1x_1+\theta_2x_2+...+\theta_nx_n)ÂÖ∂‰∏≠ Œ∏=(Œ∏0,Œ∏1,‚Ä¶,Œ∏n)T‰∏∫ÂæÖÂÆöÂèÇÊï∞ÔºåÂ∞ÜxÊâ©Â±ï‰∏∫Ëµ∑Âßã‰ΩçÁΩÆÊ∑ªÂä†x0=1ÔºåÂàô h_\theta(x)=\delta(\theta^Tx)=\frac{1}{1+e^{-\theta^Tx}}ÂéªÈòàÂÄºT=0.5ÔºåÂàô‰∫åÂàÜÁ±ªÁöÑÂà§Âà´Âºè‰∏∫ y= \begin{cases} 1, & h_\theta(x)\ge0.5 \\ 0, & h_\theta(x)]]></content>
      <categories>
        <category>mechine learning</category>
      </categories>
      <tags>
        <tag>word2vec</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÁÆÄÂçïÂ•ΩÁî®ÁöÑlambda‰∏éStream]]></title>
    <url>%2F2018%2F09%2F18%2Flambda-introduce%2F</url>
    <content type="text"><![CDATA[lambdaË°®ËææÂºèÊòØjava8ÁöÑÊñ∞ÁâπÊÄßÔºå‰ΩøjavaÂú®ÁºñÁ®ã‰∏≠Êõ¥ÁÆÄÂçïÔºå‰ª£Á†ÅÊõ¥ÁÆÄÊ¥ÅÂèØËØªÔºåÈÅøÂÖç‰∫ÜÂÜóÈïøÁöÑÂÜÖÈÉ®Á±ª„ÄÅÂåøÂêçÁ±ªÔºå‰∏ãÈù¢ÈÄöËøáÊ†óÂ≠êÁúãÁúãlambdaÊúâÂì™‰∫õÂ∫îÁî®Âêß*^-^* ForEach ‰∏é lambda12345678910111213Map&lt;String, Integer&gt; items = new HashMap&lt;&gt;();items.put("A", 10);items.put("B", 20);items.put("C", 30);items.put("D", 40);// ÂéüÊù•ÁöÑÂÜôÊ≥ïfor (Map.Entry&lt;String, Integer&gt; entry : items.entrySet()) &#123; System.out.println("item : " + entry.getKey() + "count : " + entry.getValue());&#125;// lambdaitems.forEach((k, v)-&gt;&#123; System.out.println("item : " + k + "count : " + v);&#125;); 12345678910111213List&lt;String&gt; list = new ArrayList&lt;&gt;();list.add("A");list.add("B");list.add("C");list.add("D");list.add("E");for(String item : list)&#123; System.out.println(item);&#125;// lambda ÂèÇÊï∞Âè™Êúâ‰∏Ä‰∏™ÂèØ‰ª•ÁúÅÁï•Â∞èÊã¨Âè∑ÔºåÂêéÈù¢ÁöÑË°®ËææÂºèÂè™Êúâ‰∏ÄÂè•ÂèØ‰ª•ÁúÅÁï•&#123;&#125;,returnÂíåÂàÜÂè∑list.forEach(x-&gt;System.out.println(x));// ‰∏ä‰∏ÄÂè•ÁöÑÁÆÄÂÜôlist.forEach(System.out::println); ÂåøÂêçÂÜÖÈÉ®Á±ª ‰∏é lambda123456789Thread t = new Thread(new Runnable() &#123; public void run() &#123; System.out.println("How a u..."); &#125;&#125;);t.start();// lamdaThread t1 = new Thread(()-&gt;System.out.println("I'm fine...thx"));t1.start(); 12345678910111213141516String[] arr = &#123;"a", "b", "c"&#125;;List&lt;String&gt; list = Arrays.asList(arr);// ÂåøÂêçÂÜÖÈÉ®Á±ªCollections.sort(list, new Comparator&lt;String&gt;() &#123; @Override public int compare(String o1, String o2) &#123; return o1.compareTo(o2); &#125; &#125;);// lambdaCollections.sort(list, (s1, s2)-&gt;&#123; return s1.compareTo(s2);&#125;);// ÂΩìË°®ËææÂºèÂè™Êúâ‰∏ÄÂè•Êó∂ return ÂèØ‰ª•ÁúÅÁï•Collections.sort(list, (s1, s2)-&gt;s1.compareTo(s2)); lambdaËØ≠Ê≥ï‰∏ÄËà¨ËØ≠Ê≥ï ( ÂèÇÊï∞ÂàóË°® )-&gt;{ Ë°®ËææÂºèËØ≠Âè• } (Type parameter, Type parameter,...) -&gt; {statements...} ÂçïÂèÇÊï∞ parameter-&gt;{statements} ÂΩì lambda Ë°®ËææÂºèÁöÑÂèÇÊï∞‰∏™Êï∞Âè™Êúâ‰∏Ä‰∏™ÔºåÂèØ‰ª•ÁúÅÁï•Â∞èÊã¨Âè∑ ÂçïËØ≠Âè• parameter-&gt;statement ÂΩì lambda Ë°®ËææÂºèÂè™Êúâ‰∏ÄÊù°ËØ≠Âè•Êó∂ÔºåÂèØ‰ª•ÁúÅÁï•Â§ßÊã¨Âè∑Ôºåreturn ÂíåÁªìÂ∞æÁöÑÂàÜÂè∑ ÊñπÊ≥ïÂºïÁî® objectName::instanceMethod ÊàñClassName::staticMethod Êää lambda Ë°®ËææÂºèÁöÑÂèÇÊï∞Áõ¥Êé•ÂΩìÊàê instanceMethod Êàñ staticMethod ÁöÑÂèÇÊï∞ÔºåÊØîÂ¶ÇSystem.out::printlnÁ≠âÂêå‰∫éx-&gt;System.out.println(x)ÔºåMath::maxÁ≠âÂêå‰∫é(x,y)-&gt;Math::max(x,y) ClassName::instanceMethodÊòØx-&gt;x.instanceMethod()ÁöÑÁÆÄÂåñÔºåeg: Student::getNameÁ≠âÂêå‰∫éx-&gt;x.getName()ÔºåinstanceMethodÊòØ‰∏Ä‰∏™Êó†ÂèÇÁöÑÂáΩÊï∞ ËÆøÈóÆÂ§ñÈÉ®ÂèòÈáè Âè™ËÉΩËÆøÈóÆÂ§ñÈÉ®ÂèòÈáèÔºå‰∏çËÉΩÂú® lambda ÂÜÖÈÉ®‰øÆÊîπÔºåÁºñËØëÂô®Â∞ÜÈöêÂºèÂ∞ÜÂ§ñÈÉ®ÂèòÈáèÂΩìÊàê final Â§ÑÁêÜÔºåÂåøÂêçÂáΩÊï∞Âíå lambda ÂáΩÊï∞ÂÜÖÂØπÂ§ñÈÉ®ÂèòÈáèÁöÑËÆøÈóÆÊòØ‰∏ÄÊ†∑ÁöÑÔºåÈÉΩÊòØÂè™ËÉΩËÆøÈóÆ final ‰øÆÈ•∞ÁöÑÔºåÊ≤°Êúâ final ‰øÆÈ•∞ËßÜ‰∏∫ final ‰øÆÈ•∞Ôºå‰∏çÂèØÊîπÂèòÂÄº„ÄÇ Stream ‰∏é lambda ÊµÅÂºèÂ§ÑÁêÜStream ÊòØjava8ÁöÑÊñ∞ÁâπÊÄßÔºåÂ§ßÂ§ßÁÆÄÂåñ‰∫ÜÂØπÈõÜÂêàÁöÑÊìç‰ΩúÔºåÊú¨ËäÇÂè™ÁúãÈ°∫Â∫èÊµÅÂºèÂ§ÑÁêÜÔºåËØ∑ÂÖàÁúãÁúã‰∏ãÈù¢ÁöÑÊ†óÂ≠ê*^-^* ÊâæÂá∫ÈõÜÂêà‰∏≠ÁöÑÂÅ∂Êï∞ 12345678910List&lt;Integer&gt; nums = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);List&lt;Integer&gt; evens = new ArrayList&lt;&gt;();for (final int n : nums) &#123; if (n % 2 == 0) &#123; evens.add(n); &#125;&#125;// streamevens = nums.stream().filter(num-&gt;num%2 == 0).collect(Collectors.toList());evens.forEach(System.out::println); ‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏≠ÔºåÈÄöËøá stream() Â∞ÜÈõÜÂêàËΩ¨ÊàêÊµÅÔºåfilter() ÂØπÊµÅËøõË°åËøáÊª§ÔºåÁ≠õÈÄâÂêéÁöÑÁªìÊûúÁî±Êî∂ÈõÜÂô® collect() ÂØπÁªìÊûúËøõË°åÂ∞ÅË£ÖÂ§ÑÁêÜ ‰∏≠Èó¥Êìç‰Ωú Êàë‰ª¨ÂÖàÂÆö‰πâ‰∏Ä‰∏™Â≠¶ÁîüÂÆû‰ΩìÁ±ªÔºåÁî®Êù•ËØ¥Êòé‰∏≠Èó¥Êìç‰ΩúÊúâ‰ªÄ‰πàÂ∫îÁî® 123456789public class Student &#123; private int id; private String name; private int age; private int score; private String school; private String document; //... Getters,Setters,ConstructorÁ≠âÁúÅÁï•&#125; 123456789List&lt;Student&gt; students = new ArrayList&lt;Student&gt;() &#123; &#123; add(new Student(2013201319, "zcl", 18, 100, "HEU", "computer")); add(new Student(2013201320, "zjm", 20, 90, "HEU", "computer")); add(new Student(2013201321, "tyf", 19, 95, "HEU", "software")); add(new Student(2013201322, "zzh", 22, 97, "HIT", "computer")); add(new Student(2013201323, "ggy", 21, 89, "HIT", "software")); &#125;&#125;; ËøáÊª§filter ËøáÊª§ÂßìÂêç‰ª•‚Äòz‚ÄôÂºÄÂ§¥ÁöÑ 12List&lt;Student&gt; z_list = students.stream().filter(stu-&gt;stu.getName() .charAt(0) == 'z').collect(Collectors.toList()); distinct ÊâæÂá∫ÂÅ∂Êï∞ÂêéÂéªÊéâÈáçÂ§çÁöÑ 12List&lt;Integer&gt; evens = nums.stream().filter(num-&gt;num%2==0) .distinct().collect(Collectors.toList()); sort&amp;limit ÊâæÂá∫ÊàêÁª©ÊéíÂêçÂâç‰∏âÁöÑÂêåÂ≠¶ 12List&lt;Student&gt; scoreList = this.students.stream().sorted((s1, s2)-&gt; s2.getScore() - s1.getScore()).limit(3).collect(Collectors.toList()); skip ÊâæÂá∫ÊàêÁª©ÊéíÂêçÁ¨¨‰∏âÂêç‰ª•ÂêéÁöÑÂêåÂ≠¶ 12List&lt;Student&gt; scoreList = this.students.stream().sorted((s1, s2)-&gt; s2.getScore() - s1.getScore()).skip(3).collect(Collectors.toList()); Êò†Â∞ÑÂΩìÊàë‰ª¨Âè™ÊÉ≥ÂæóÂà∞‰∏Ä‰∏™Á±ªÁöÑÊüê‰∏Ä‰∏™Â±ûÊÄßÂÄº map ÊÉ≥Á≠õÈÄâÂá∫ÊâÄÊúâÊàêÁª©Â§ß‰∫é80ÂàÜÁöÑÂêåÂ≠¶ÁöÑÂêçÂ≠óÔºåÊÄªÂàÜÂíåÂπ≥ÂùáÂàÜ (mapToInt, mapToDouble) 1234List&lt;String&gt; names = this.students.stream().filter(s-&gt;s.getScore()&gt;80) .map(Student::getName).collect(Collectors.toList());int sum = this.students.stream().mapToInt(Student::getScore).sum();OptionalDouble average_score = this.students.stream().mapToDouble(Student::getScore).average(); flagMap Áé∞Âú®ÊÉ≥Ê±ÇÂá†‰∏™Â≠óÁ¨¶‰∏≤‰∏≠Âá∫Áé∞ÁöÑÂ≠óÁ¨¶ÔºåÊØîÂ¶ÇString[] strs = {&quot;java&quot;, &quot;is&quot;, &quot;easy&quot;, &quot;to&quot;, &quot;use&quot;};ÔºåÁî®ÊñπÊ≥ï‰∏ÄÔºåÂÖàÂ∞ÜÈõÜÂêà‰∏≠ÁöÑÊØè‰∏™Â≠óÁ¨¶‰∏≤ÂàÜËß£ÊàêÂ≠óÁ¨¶Êï∞ÁªÑÔºåÂú® distinct Êìç‰ΩúÊòØÂú®Â≠óÁ¨¶Êï∞ÁªÑ‰πãÈó¥ÊâæÁöÑÔºå‰∏çÊòØ‰ª•Â≠óÁ¨¶‰∏∫Âçï‰ΩçÔºõÊñπÊ≥ï‰∫åÔºåflagMap Â∞Ü‰∏Ä‰∏™ÊµÅ‰∏≠ÊØè‰∏™ÂÄºÈÉΩËΩ¨Êàê‰∏Ä‰∏™‰∏™ÊµÅÔºåÁÑ∂ÂêéÂÜçÂ∞ÜËøô‰∫õÊµÅÊâÅÂπ≥ÂåñÊàê‰∏∫‰∏Ä‰∏™ÊµÅÔºåËøôÊ†∑ÂèØ‰ª•ËææÂà∞ÁõÆÁöÑ 123456789101112// ÊñπÊ≥ï‰∏ÄArrays.stream(strs).map(s-&gt;s.split("")) .distinct().collect(Collectors.toList()).forEach(l-&gt;&#123; Arrays.asList(l).forEach(s -&gt; System.out.print(s + " ")); System.out.println(); &#125;);// ÊñπÊ≥ï‰∫åArrays.stream(strs).map(s-&gt;s.split("")) .flatMap(Arrays::stream).distinct().sorted(). collect(Collectors.toList()).forEach(l-&gt;&#123; Arrays.asList(l).forEach(s-&gt; System.out.print(s + " ")); &#125;); ÁªàÁ´ØÊìç‰ΩúÊü•Êâæ allMatchÔºöÊ£ÄÊµãÊòØÂê¶ÂÖ®ÈÉ®Êª°Ë∂≥ÊåáÂÆöÁöÑÂèÇÊï∞Ë°å‰∏∫ÔºåÂ¶ÇÊûúÂÖ®ÈÉ®Êª°ÂàôËøîÂõû trueÔºåÂê¶ÂàôËøîÂõû false anyMatchÔºöÊ£ÄÊµãÊòØÂê¶Â≠òÂú®Êª°Ë∂≥Êù°‰ª∂ noneMatchÔºöÊòØÂê¶‰∏çÂ≠òÂú® findFirstÔºöÊâæÁ¨¨‰∏Ä findAnyÔºöÊâæ‰ªªÊÑè‰∏Ä‰∏™ÔºàÈ°∫Â∫èÊµÅÂºèÂ§ÑÁêÜ‰∏≠ÔºåfindFirst Âíå findAny ËøîÂõûÁöÑÁªìÊûúÊòØ‰∏ÄÊ†∑ÁöÑÔºâ ÂΩíÁ∫¶reduceÊñπÊ≥ï 123456789101112// ÈùûreduceÂÜôÊ≥ïint totalAge = this.students.stream() .filter(s-&gt;s.getAge()&gt;18) .mapToInt(Student::getAge).sum();// ËßÑÁ∫¶Êìç‰Ωúint totalAge1 = this.students.stream().filter(s-&gt;s.getAge()&gt;18) .mapToInt(Student::getAge).reduce(0, (a, b)-&gt;a + b);int totalAge2 = this.students.stream().filter(s-&gt;s.getAge()&gt;18) .map(Student::getAge).reduce(0, Integer::sum);Optional&lt;Integer&gt; totalAge3 = this.students.stream() .filter(s-&gt;s.getAge()&gt;18) .map(Student::getAge).reduce(Integer::sum); Êî∂ÈõÜ ÁªèËøá‰∏≠Èó¥Êìç‰ΩúÂ§ÑÁêÜÂêéÁªìÊûúÁöÑÂ∞ÅË£ÖÔºåÊØîÂ¶Çcollect(Collectors.toList())ÔºåÁ±ª‰ººÁöÑËøòÊúâ toSet``toMapÔºåËøô‰∫õÊñπÊ≥ïÈÉΩÊù•Ëá™‰∫é java.util.stream.CollectorsËøô‰∏™Êî∂ÈõÜÂô® ‰∏ãÈù¢ÁöÑÊ†óÂ≠êÊòØÁõ∏ÂêåÂäüËÉΩÁöÑ‰∏çÂêåÂÜôÊ≥ïÔºà‚ÄúÂõû‚ÄùÂ≠óÁöÑ‰∏çÂêåÂÜôÊ≥ïÔºâ 12345678910111213141516171819202122// ÂèäÊ†ºÂ≠¶ÁîüÊÄªÊï∞long a = this.students.stream().filter(s-&gt;s.getScore()&gt;60).collect(Collectors.counting());long b = this.students.stream().filter(s-&gt;s.getScore()&gt;60).count();// ÊúÄÈ´òÂàÜÔºåÊúÄ‰ΩéÂàÜOptional&lt;Student&gt; maxScore = this.students.stream() .collect(Collectors.maxBy((s1, s2)-&gt;s1.getScore()-s2.getScore()));Optional&lt;Student&gt; maxScore = this.students.stream() .collect(Collectors.maxBy(Comparator.comparing(Student::getScore)));Optional&lt;Student&gt; maxScore = this.students.stream() .collect(Collectors.minBy(Comparator.comparing(Student::getScore)));// ÊÄªÂàÜÂíåÂπ≥ÂùáÂàÜint totalScore = this.students.stream().collect(Collectors.summingInt(Student::getScore));double averageScore = this.students.stream() .collect(Collectors.averagingInt(Student::getScore));// ‰∏ÄÊ¨°ÊÄßÁªüËÆ°ÂæóÂà∞ÂÖÉÁ¥†‰∏™Êï∞„ÄÅÊÄªÂíå„ÄÅÂùáÂÄº„ÄÅÊúÄÂ§ßÂÄº„ÄÅÊúÄÂ∞èÂÄºÔºàËøôÂ∞ÅË£ÖÁöÑ‰πüÊòØÂ§ü‰∫ÜÔºâIntSummaryStatistics statistics = this.students.stream() .collect(Collectors.summarizingInt(Student::getScore));// Â≠óÁ¨¶‰∏≤ÊãºÊé•String names = this.students.stream().map(Student::getName) .collect(Collectors.joining());String names1 = this.students.stream().map(Student::getName) .collect(Collectors.joining(", ")); // Áî®", "ÂàÜÈöîÂêçÂ≠ó ÂàÜÁªÑ1234567// ÊåâÂ≠¶Ê†°ÂØπÈõÜÂêàÂàÜÁªÑMap&lt;String, List&lt;Student&gt;&gt; groups = this.students.stream().collect(Collectors.groupingBy(Student::getSchool));groups.forEach((k, v)-&gt;&#123; System.out.println(k); v.forEach(x-&gt;System.out.print(x.getName() + " ")); System.out.println();&#125;); groupingBy Êé•Êî∂‰∏Ä‰∏™ÂàÜÁ±ªÂô®Function&lt;? super T, ? extends K&gt; classifierÔºåÂèØ‰ª•‰∏ÄÁ∫ßÊàñÂ§öÁ∫ßÂàÜÁ±ªÔºåÂ¶ÇÔºö 123Map&lt;String, Map&lt;String, List&lt;Student&gt;&gt;&gt; group = this.students.stream().collect( Collectors.groupingBy(Student::getSchool, Collectors.groupingBy(Student::getDocument))); groupingBy ÁöÑÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÂèØ‰ª•‰º†ÈÄí‰ªªÊÑè Collector Á±ªÂûãÔºåÂ¶Ç Collectors.groupingByÔºåCollectors.countingÔºåÂ¶ÇÊûú‰∏çÊ∑ªÂä†Á¨¨‰∫å‰∏™ÂèÇÊï∞ÔºåÈªòËÆ§ÊòØCollectors.toList 123// ÈõÜÂêà‰∏≠‰∏Ä‰∏™Â≠¶Ê†°ÁöÑ‰∫∫Êï∞ÔºåÊåâÂ≠¶Ê†°ÂàÜÁªÑÂêéÁªüËÆ°ÁªÑÂÜÖ‰∫∫Êï∞Map&lt;String, Long&gt; groups = this.students.stream().collect( Collectors.groupingBy(Student::getSchool, Collectors.counting())); Âå∫ÂàÜ Âå∫ÂàÜÊòØÂàÜÁªÑÁöÑ‰∏ÄÁßçÁâπÊÆäÊÉÖÂÜµÔºåÂ∞ÜÈõÜÂêàÂÜÖÂÆπÂàÜ‰∏∫ true, flase ‰∏§Á±ªÔºåÊØîÂ¶ÇÊ±ÇÁî∑Â•≥‰∫∫Êï∞Ôºõ‰∏ãÈù¢ÊòØÂå∫ÂàÜÁöÑ‰∏§ÁßçÂÜôÊ≥ïÔºåÁî® groupingBy Âíå partitioningBy ÈÉΩËÉΩÂÆûÁé∞ 12345// Ê±ÇÈõÜÂêà‰∏≠Â≠¶ÁîüÊòØHEU Âíå‰∏çÊòØ HEU ÁöÑ‰∫∫Êï∞ÔºàÂàóË°®ÔºâMap&lt;Boolean, Long&gt; groups = this.students.stream().collect( Collectors.groupingBy(x-&gt;x.getSchool().equals("HEU"), Collectors.counting()));Map&lt;Boolean, List&lt;Student&gt;&gt; partition = this.students.stream().collect( Collectors.partitioningBy(stu-&gt;"HEU".equals(stu.getSchool()))); Âπ∂Ë°åÊµÅÂºèÊï∞ÊçÆÂ§ÑÁêÜ ÂÖÖÂàÜÂà©Áî®ËÆ°ÁÆóÊú∫ÁöÑCPUÂÜÖÊ†∏Êï∞ÔºåÂπ∂ÂèëÂ§ÑÁêÜÁöÑÊÄùÊÉ≥„ÄÇÂ∞Ü stream() ÊõøÊç¢Êàê parallelStream()Âç≥ÂèØÔºå‰ΩÜ‰ºöÊ∂âÂèäÂ§öÁ∫øÁ®ãÂÆâÂÖ®ÈóÆÈ¢òÔºåÂΩìÁÑ∂ÊïàÁéáÊèêÈ´òÁöÑÂæàÂ§ö„ÄÇ ÂèÇËÄÉÊñáÁåÆjava8 Êñ∞ÁâπÊÄß lamdaÂíåStream Java8 Êñ∞ÁâπÊÄß‰πãÊµÅÂºèÊï∞ÊçÆÂ§ÑÁêÜ]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jvm gc]]></title>
    <url>%2F2018%2F08%2F20%2Fjvm-gc%2F</url>
    <content type="text"><![CDATA[JavaGC (Garbage Collection, ÂûÉÂúæÊî∂ÈõÜ) Êú∫Âà∂Ôºå‰∏ãÈù¢‰ªãÁªçÁöÑÊòØ HotSpot ÁöÑ GC Êú∫Âà∂„ÄÇJava GC Êú∫Âà∂ÂèØ‰ª•Ëá™Âä®ÁöÑÂõûÊî∂ÂÜÖÂ≠òÔºå‰øùËØÅ JVM ‰∏≠ÁöÑÂÜÖÂ≠òÁ©∫Èó¥ÂÖÖË∂≥ÔºåÈò≤Ê≠¢ÂÜÖÂ≠òÊ≥ÑÊºèÊ∫¢Âá∫„ÄÇÂØπ‰∫é‰∏ÄËà¨ÁöÑÁ®ãÂ∫èÔºåJava GC ÂèØ‰ª•Ëá™Âä®ÁöÑÂÆåÊàêÁªùÂ§ßÂ§öÊï∞‰∫ãÊÉÖÔºåÁÑ∂ËÄåÔºåÂØπ‰∫éËæÉÂ§ßÂûãÁöÑÂ∫îÁî®ËΩØ‰ª∂ÔºåÈúÄË¶ÅÂØπ JVM ËøõË°å‰ºòÂåñÔºåÂøÖÈ°ªË¶ÅÊ∏ÖÊ•ö Java GC Êú∫Âà∂„ÄÇ java GC Ë¶ÅÂπ≤Âï• Á°ÆÂÆöÂì™‰∫õÂÜÖÂ≠òË¶ÅÂõûÊî∂ ‰ΩïÊó∂ÊâßË°å GC ÊÄéÊ†∑ÊâßË°å GC JVM ÂÜÖÂ≠òÂå∫ÂüüÁöÑÂàíÂàÜ Á®ãÂ∫èËÆ°Êï∞Âô® (Program Counter Register) ËôöÊãüÊú∫Ê†à (JVM Stack) Êú¨Âú∞ÊñπÊ≥ïÊ†à (Native Method Statck) Â†ÜÂå∫ (Heap) ÊñπÊ≥ïÂå∫ (Method Area) Áõ¥Êé•ÂÜÖÂ≠ò (Direct Memory) java ÂØπË±°ÁöÑÂÜÖÂ≠òËÆøÈóÆÂì™‰∫õÂÜÖÂ≠òÈúÄË¶ÅÂõûÊî∂‰ΩïÊó∂Ëß¶Âèë GC ÂíåÊâßË°å GC ÁöÑÊñπÂºè]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>jvm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[singleton]]></title>
    <url>%2F2018%2F08%2F18%2Fsingleton%2F</url>
    <content type="text"><![CDATA[Â§öÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÂçï‰æãÊ®°ÂºèÊüêÁ±ªÂè™ËÉΩÊúâ‰∏Ä‰∏™ÂØπË±°ÔºåÊûÑÈÄ†ÂáΩÊï∞‰∏∫ privateÔºåÈÄöËøáÈùôÊÄÅÊàêÂëòÂèòÈáèÂíåÂáΩÊï∞Ëé∑ÂæóÂèòÈáè Ê®°Âºè1 Á±ªÂä†ËΩΩÁöÑÊó∂ÂÄôÁõ¥Êé• new Âá∫ÈùôÊÄÅÂØπË±°ÔºåÊó†Ê≥ïÊáíÂä†ËΩΩÔºåÈôç‰ΩéÂÜÖÂ≠òÁöÑ‰ΩøÁî®Áéá 12345678910public class Singleton &#123; // Áõ¥Êé•ÂàùÂßãÂåñ‰∏Ä‰∏™ÂÆû‰æãÂØπË±° private static Singleton instance = new Singleton(); // ÁßÅÊúâÊûÑÈÄ†ÊñπÊ≥ï‰øùËØÅÂÖ∂‰ªñÁ±ªÂØπË±°‰∏çËÉΩÁõ¥Êé• new ËØ•ÂØπË±°ÁöÑÂÆû‰æã private Singleton() &#123;&#125; public static Singleton getInstance() &#123; return instance; &#125;&#125; Ê®°Âºè2 Â§öÁ∫øÁ®ãÂàõÂª∫ÂÆû‰æãÔºå‰∏Ä‰∏™Êó∂ÂàªÂè™ËÉΩÊúâ‰∏Ä‰∏™Á∫øÁ®ãÂæóÂà∞ÂêåÊ≠•ÈîÅÔºå‰ΩÜÊòØÔºåÊØèÊ¨°ÈÄöËøá getInstance ÊñπÊ≥ïÂæóÂà∞ singleton ÂÆû‰æãÈÉΩË¶ÅËé∑ÂæóÈîÅÔºå‰ΩÜÊòØÂè™ÊúâÁ¨¨‰∏ÄÊ¨°ÂàõÂª∫ÈîÅÊâçÊúâÊÑè‰πâÔºåÂä†ÈîÅÊòØÂæàËÄóÊó∂ÁöÑÊìç‰Ωú 12345678910public class Singleton &#123; private static Singleton instance = null; private Singleton() &#123;&#125; public static synchronized Singleton getInstance() &#123; if (instance == null) &#123; instance = new Singleton(); &#125; return instance; &#125;&#125; Ê®°Âºè3 Âè™ÊúâÂΩì instance ‰∏∫ null Êó∂ÔºåÊâçÈúÄË¶ÅÂä†ÈîÅÔºå‰πüÂè™ÈúÄÂàõÂª∫‰∏ÄÊ¨°ÂÆû‰æãÔºå‰ª•ÂêéÂàôÊó†ÈúÄÂä†ÈîÅ 123456789101112131415public class Singleton &#123; private static Singleton instance = null; private Singleton() &#123;&#125; public static Singleton getInstance() &#123; // ÂÖàÂà§Êñ≠ÂÆû‰æãÊòØÂê¶ÂàùÂßãÂåñ if (instance == null) &#123; synchronized(Singleton.class) &#123; if (instance == null) &#123; instance = new Singleton(); &#125; &#125; &#125; return instance; &#125;&#125; Ê®°Âºè4 ÁßÅÊúâÂÜÖÈÉ®Á±ªÔºõ‰∏çÁî®Âä†ÈîÅÔºå‰πüËÉΩÂÆûÁé∞ÊáíÂä†ËΩΩÔºåÊúÄÂ•ΩÁöÑ‰∫ÜÂêß 123456789public class Singleton &#123; private Singleton() &#123;&#125; private static class Inner &#123; private static Singleton s = new Singleton(); &#125; public static Singleton getSingle() &#123; return Inner.s; &#125;&#125;]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>Concurrent</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[elastic search]]></title>
    <url>%2F2018%2F08%2F09%2Felastic-search%2F</url>
    <content type="text"><![CDATA[ÊñáÊ°£ÊêúÁ¥¢query string search GET (index/type)/_search(?parameter_name=parameter_value&amp;...) () ÂÜÖ‰∏∫ÂèØÈÄâÈ°πÔºåÂ¶ÇÊó†Êù°‰ª∂Êü•ËØ¢: GET /_search GET /_search?q=name:zjm&amp;sort=no:desc ÂΩìÊêúÁ¥¢Êù°‰ª∂Â§çÊùÇÊó∂ÊûÑÂª∫ query string ÂæàÈ∫ªÁÉ¶ÔºåÁîü‰∫ßÁéØÂ¢ÉÂæàÂ∞ë‰ΩøÁî® query DSL DSL: Domain Specified Language 12345678910111213141516171819202122232425262728293031323334353637383940# Êü•ËØ¢ÊâÄÊúâÊï∞ÊçÆGET /index/type/_search &#123; "query": &#123;"match_all":&#123;&#125;&#125;&#125;# Êù°‰ª∂Êü•ËØ¢ÔºåÊéíÂ∫èGET /index1/type1/_search&#123; "query": &#123; "match": &#123; "name": "zjm" &#125; &#125;, "sort": [ &#123; "age": &#123; "order": "desc" &#125; &#125; ]&#125;# ÂàÜÈ°µGET /_search&#123; "query": &#123;"match_all": &#123;&#125;&#125;, "from": 1, # ‰ªéÁ¨¨Âá†Êù°ÂºÄÂßã "size": 2, # Êü•ËØ¢ÁöÑÊï∞ÊçÆ‰∏™Êï∞ "sort": [ &#123;"age": "desc"&#125; ]&#125;# Êü•ËØ¢ÈÉ®ÂàÜÂ≠óÊÆµGET _search&#123; "query": &#123;"match_all": &#123;&#125;&#125;, "_source": ["name", "age"], "sort": [ &#123;"age": "asc"&#125; ]&#125; query filter ËøáÊª§Êü•ËØ¢ÔºåÊòØ query DSL ÁöÑË°•ÂÖÖÔºå‰∏çËøõË°åÂåπÈÖçÁõ∏ÂÖ≥Â∫¶ËÆ°ÁÆó eg: ÊêúÁ¥¢ position ÂåÖÂê´ java ‰∏îÂπ¥ÈæÑÂú® 22-24 ‰πãÈó¥ 1234567891011121314151617181920212223242526272829303132333435363738394041GET /index1/type1/_search&#123; "query": &#123; "bool": &#123; # Â§öÊù°‰ª∂ÊêúÁ¥¢ "must": [ &#123;"match": &#123; "position": "java" &#125;&#125;, &#123; "range": &#123; "age": &#123; "gte": 22, "lte": 24 &#125; &#125; &#125; ] &#125; &#125;&#125;# ‰ΩøÁî® FilterGET /index1/type1/_search&#123; "query": &#123; "bool": &#123; "must": [ &#123;"match": &#123; "position": "java" &#125;&#125; ], "filter": &#123; "range": &#123; "age": &#123; "gte": 22, "lte": 24 &#125; &#125; &#125; &#125; &#125;&#125; Ê≥®Ôºöfilter Âú® must ÁöÑÁªìÊûú‰∏≠ËøõË°åËøáÊª§Ôºåfilter‰∏≠ÁöÑÂ≠óÊÆµ‰∏çËøõË°åÁõ∏ÂÖ≥Â∫¶ËÆ°ÁÆó full-text search ÂÖ®ÊñáÂåπÈÖçÔºöposition ‰∏≠Âê´Êúâ java Êàñ php Êàñ scaleÁöÑÔºåËØç‰∏éËØç‰πãÈó¥Â±û‰∫éÁã¨Á´ãÁöÑÊù°‰ª∂ 12345678GET /index1/type1/_search&#123; "query": &#123; "match": &#123; "position": "java php scale" &#125; &#125;&#125; phrase search Áü≠ËØ≠Ê£ÄÁ¥¢Ôºöposition Âê´Êúâ java developer Ëøô‰∏™Áü≠ËØ≠ÔºåÂè™Êúâ java ÊàñËÄÖ developer ‰∏çË°åÁöÑÂë¶ 12345678GET /index1/type1/_search&#123; "query": &#123; "match_phrase": &#123; "position": "java developer" &#125; &#125;&#125; highlight display È´ò‰∫ÆÊòæÁ§∫ 123456789101112131415GET /index1/type1/_search&#123; "query": &#123; "match": &#123; "name": "zjm" &#125; &#125;, "highlight": &#123; "fields":[ &#123; "name" : &#123;&#125; &#125; ] &#125;&#125;]]></content>
      <categories>
        <category>elk</category>
      </categories>
      <tags>
        <tag>elasticSearch</tag>
        <tag>kibana</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[producter&consumer]]></title>
    <url>%2F2018%2F07%2F18%2Fproducter-consumer%2F</url>
    <content type="text"><![CDATA[Áîü‰∫ßËÄÖÊ∂àË¥πËÄÖwait &amp; notifyAll ‰ΩøÁî® wait, notifyAll ÂÆûÁé∞Áîü‰∫ßËÄÖÊ∂àË¥πËÄÖÈóÆÈ¢òÔºåÊ≥®ÊÑè‰ΩøÁî® while Âà§Êñ≠ÂÆπÂô®ÁöÑÂÆπÈáèÂíå notifyAll ÈÄöÁü•ÊâÄÊúâÁ≠âÂæÖÁ∫øÁ®ãÔºånotifyÂè™‰ºöÂî§ÈÜí‰∏Ä‰∏™Á∫øÁ®ãÔºåÊØîÂ¶ÇÁîü‰∫ßËÄÖÂ∞ÜÂÆπÂô®ÊîæÊª°ÔºåÂèàÂî§ÈÜí‰∫Ü‰∏Ä‰∏™Áîü‰∫ßËÄÖÔºå‰ΩøÂî§ÈÜíÁöÑÁîü‰∫ßËÄÖËøõÂÖ•Ê≠ªÂæ™ÁéØÔºåÊó†Ê≥ïÂî§ÈÜíÂÖ∂‰ªñÁ∫øÁ®ã 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859import java.util.LinkedList;import java.util.concurrent.TimeUnit;public class MyContainer1&lt;T&gt; &#123; final private LinkedList&lt;T&gt; lists = new LinkedList&lt;&gt;(); final private int MAX = 10; // Áîü‰∫ßËÄÖÊîæÂÖ• public synchronized void put(T t) &#123; while (lists.size() == MAX) &#123; try &#123; this.wait(); // wait ‰∏ÄËà¨Â§ñÈù¢ÈÉΩÊòØ whileÔºåÂ¶ÇÊûúÁî®ifÔºå‰∏îÁîü‰∫ßËÄÖÂî§ÈÜíÁîü‰∫ßËÄÖÔºå‰ºöÁªßÁª≠Âêë‰∏ãÊâßË°åÂêëÂÆπÂô®‰∏≠Ê∑ªÂä†ÔºåÂØºËá¥Ë∂ÖÂá∫ÊúÄÂ§ßÂÆπÈáè &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; lists.add(t); this.notifyAll();// ‰∏çËÉΩÁî®notify!!! ÈÄöÁü•ÊâÄÊúâÁ≠âÂæÖÁ∫øÁ®ãÔºåÂ∏åÊúõÂî§ÈÜíÁöÑÊòØÊ∂àË¥πËÄÖ &#125; // Ê∂àË¥πËÄÖÂèñÂá∫ public synchronized T get() &#123; T t = null; while (lists.size() == 0) &#123; try &#123; this.wait(); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; t = lists.removeFirst(); this.notifyAll();// ÈÄöÁü•Áîü‰∫ßËÄÖÁ∫øÁ®ãËøõË°åÁîü‰∫ß return t; &#125; public static void main(String[] args) &#123; MyContainer1&lt;String&gt; c = new MyContainer1&lt;&gt;(); // ÂêØÂä®Ê∂àË¥πËÄÖÁ∫øÁ®ã for (int i=0; i&lt;10; i++) &#123; new Thread(()-&gt;&#123; for (int j=0; j&lt;5; j++) &#123; System.out.println(c.get()); &#125; &#125;, "c" + i).start(); &#125; try &#123; TimeUnit.SECONDS.sleep(2); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; // ÂêØÂä®Áîü‰∫ßËÄÖÁ∫øÁ®ã for (int i=0; i&lt;2; i++) &#123; new Thread(()-&gt;&#123; for (int j=0; j&lt;25; j++) &#123; c.put(Thread.currentThread().getName() + " " + j); &#125; &#125;, "p" + i).start(); &#125; &#125;&#125; ReentrantLock &amp; Condition ‰ΩøÁî® ReentrantLock Âíå Condition ÂÆûÁé∞P-CÈóÆÈ¢òÔºåËÉΩÂ§üÊéßÂà∂Âì™‰∫õÁ∫øÁ®ãÁ≠âÂæÖ‰∏éÂî§ÈÜíÔºåÂØπ‰∫éÂêå‰∏Ä‰∏™ÈîÅÔºåÂàõÂª∫Â§ö‰∏™Condition 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374import java.util.LinkedList;import java.util.concurrent.TimeUnit;import java.util.concurrent.locks.Condition;import java.util.concurrent.locks.Lock;import java.util.concurrent.locks.ReentrantLock;public class MyContainer2&lt;T&gt; &#123; final private LinkedList&lt;T&gt; lists = new LinkedList&lt;&gt;(); final private int MAX = 10; private Lock lock = new ReentrantLock(); private Condition producer = lock.newCondition(); private Condition consumer = lock.newCondition(); // Áîü‰∫ßËÄÖ public void put(T t) &#123; try &#123; lock.lock(); while (lists.size() == MAX) &#123; producer.await();// Êª°‰∫ÜÁîü‰∫ßËÄÖÁ≠âÂæÖ &#125; lists.add(t); consumer.signalAll();// Âî§ÈÜíÊ∂àË¥πËÄÖÊù•Âèñ &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; finally &#123; lock.unlock(); &#125; &#125; // Ê∂àË¥πËÄÖ public T get() &#123; T t = null; try &#123; lock.lock(); while (lists.isEmpty()) &#123; consumer.await();// Ê≤°ÊúâÂèØ‰ª•ÂèñÁöÑ &#125; t = lists.removeFirst(); // ÊúâÂàôÂèñËµ∞ producer.signalAll();// ÈÄöÁü•Áîü‰∫ßËÄÖÊîæ &#125; catch(InterruptedException e) &#123; e.printStackTrace(); &#125; finally &#123; lock.unlock(); &#125; return t; &#125; public static void main(String[] args) &#123; MyContainer2&lt;String&gt; c = new MyContainer2&lt;&gt;(); // Ê∂àË¥πËÄÖÁ∫øÁ®ã 10*5ÔºåË¶ÅÂ∞è‰∫éÁîü‰∫ßËÄÖÊîæÂÖ•ÁöÑ‰∏™Êï∞ for (int i=0; i&lt;10; i++) &#123; new Thread(()-&gt;&#123; for (int j=0; j&lt;5; j++) &#123; System.out.println(c.get()); &#125; &#125;, "c" + i).start(); &#125; try &#123; TimeUnit.SECONDS.sleep(2); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; // Áîü‰∫ßËÄÖÁ∫øÁ®ã 2*25 Ë¶ÅÂ§ß‰∫éÊ∂àË¥πËÄÖÂèñÂá∫ÁöÑ‰∏™Êï∞ÔºåÂ¶ÇÊûúÂ∞è‰∫éÊ∂àË¥πËÄÖÂèñÂá∫ÁöÑ‰∏™Êï∞ÔºåÊ∂àË¥πËÄÖ‰ºöÂõ†Âèñ‰∏çÂà∞ËÄåÊ≠ªÂæ™ÁéØ for (int i=0; i&lt;2; i++) &#123; new Thread(()-&gt;&#123; for (int j=0; j&lt;25; j++) &#123; c.put(Thread.currentThread().getName() + " " + j); &#125; &#125;, "p" + i).start(); &#125; &#125;&#125;]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>Concurrent</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[concurrent]]></title>
    <url>%2F2018%2F07%2F14%2Fconcurrent%2F</url>
    <content type="text"><![CDATA[java Âπ∂ÂèëÂ§ÑÁêÜ‰∏∫‰ªÄ‰πàË¶ÅÂä†ÈîÅ ‰∏ãÈù¢ÁöÑ‰æãÂ≠êÔºåËá™Â¢ûÊìç‰Ωú‰∏çÂÖ∑Â§áÂéüÂ≠êÊÄßÔºåÂØºËá¥Â§ö‰∏™Á∫øÁ®ãÂêåÊó∂ÂØπ count Êìç‰ΩúÊó∂Áõ∏‰∫íÂΩ±ÂìçÔºåÊØîÂ¶Ç‰∏ÄÊ¨°Êìç‰Ωú‰∏Ä‰∏™Á∫øÁ®ãÂèñÂà∞ÁöÑ count ‰∏∫100ÔºåÂΩìÂÆÉÂÆåÊàê ++ Êìç‰ΩúÊää count ËµãÂÄº‰∏∫ 101 ÁöÑÊó∂ÂÄôÔºåÂèØËÉΩË¶ÜÁõñÊéâ‰∫ÜËøôÊúüÈó¥Âà´ÁöÑÁ∫øÁ®ãÂØπcount ÁöÑÊìç‰ΩúÔºåÊúÄÂêéÁªìÊûúËøúÂ∞è‰∫é100000 12345678910111213141516171819202122232425262728293031import java.util.ArrayList;import java.util.List;public class T implements Runnable &#123; private int count = 0; // Âä†‰∏ä synchronized ÂêéÔºåÁ∫øÁ®ã‰æùÊ¨°ÊâßË°årunÊñπÊ≥ïÔºå‰∏ç‰ºöÁõ∏‰∫íÂΩ±Âìç public /*synchronized*/ void run() &#123; for (int i=0;i&lt;10000;i++) &#123; count ++; &#125; &#125; public static void main(String[] args) &#123; T t = new T(); List&lt;Thread&gt; tl = new ArrayList&lt;&gt;(); for(int i=0; i&lt;5; i++) &#123; tl.add(new Thread(t, "THREAD" + i)); &#125; tl.forEach((o)-&gt;o.start()); // Á≠âÂæÖÊâÄÊúâÁ∫øÁ®ãÁªìÊùü tl.forEach((o)-&gt;&#123; try &#123; o.join(); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125;); System.out.println(t.count); &#125;&#125; synchronized ÈîÅÂÆöÂ†ÜÂÜÖÂ≠ò‰∏≠ÁöÑÂØπË±°ÔºåÁ∫øÁ®ãÊâßË°åËøáÁ®ã‰∏≠‰∏ÄÂÆöË¶ÅÂèñÂà∞ÂØπË±°ÁöÑüîíÊâçËÉΩÊâßË°åÔºåÂê¶ÂàôÁ≠âÂæÖÂΩìÂâçÁ∫øÁ®ãÈáäÊîæÂØπË±°ÁöÑüîíÂπ∂Ëé∑ÂèñÊâçËÉΩÊâßË°åÔºåËØ≠Ê≥ïÔºö 123456789101112131415161718public class Concurrent &#123; public void m() &#123; synchronized (this) &#123; // Ë¶ÅÂπ∂ÂèëÂ§ÑÁêÜÁöÑ‰ª£Á†Å &#125; &#125; // or ÂêåÊ≠•ÊñπÊ≥ïÔºöÂáΩÊï∞ÂÜÖÁöÑÊâÄÊúâ‰ª£Á†ÅÈÉΩÂä†ÈîÅ public synchronized void m() &#123; &#125; // ‰∏Ä‰∏ã‰∏§ÁßçÂÜôÊ≥ïÈÉΩÊòØÂú®ÈùôÊÄÅÂáΩÊï∞‰∏≠ÈîÅÂÆöÂØπË±°ÁöÑÁ±ª public static void m() &#123; synchronized(T.class) &#125; public synchronized static void m() &#123; &#125;&#125; Ê≥®Ôºö synchronized ‰øÆÈ•∞ÁöÑ‰ª£Á†ÅË∂äÂ∞ëË∂äÂ•ΩÔºå‰∏çË¶ÅÂåÖÂê´Êó†ÈúÄÂπ∂ÂèëÂ§ÑÁêÜÁöÑ‰ª£Á†Å ÈîÅÂÆöÁöÑÊòØÂ†Ü‰∏≠ÁöÑÂØπË±°Ôºå‰∏çÊòØÊ†à‰∏≠ÁöÑÂºïÁî®ÔºåÂ∫îËØ•ÈÅøÂÖçÂ∞ÜÈîÅÂÆöÂØπË±°ÁöÑÂºïÁî®ÂèòÊàêÂè¶Â§ñÁöÑÂØπË±° ‰∏çË¶Å‰ª•Â≠óÁ¨¶‰∏≤Â∏∏ÈáèÂÅöÈîÅÂÆöÂØπË±°ÔºöString a=&quot;hello&quot;; String b=&quot;hello&quot;; a Âíå b ÊåáÂêëÁöÑÂêå‰∏Ä‰∏™ÂØπË±° ÂØπÂÜôÊñπÊ≥ïÂä†ÈîÅÔºåËØªÊñπÊ≥ï‰∏çÂä†ÈîÅÔºåÂÆπÊòì‰∫ßÁîüËÑèËØª (dirtyRead)ÔºàÂú®Ê≤°ÂÜôÂÆåÂ∞±ËØªÔºåËØªÂà∞ÁöÑÊòØËøáÊó∂ÁöÑÂÄºÔºâ synchronized Ëé∑ÂæóÁöÑÈîÅÊòØÂèØÈáçÂÖ•ÁöÑÔºöÂú®‰∏Ä‰∏™Á±ªÁöÑÂêåÊ≠•ÊñπÊ≥ï a() Ë∞ÉÁî®ËØ•Á±ªÔºàÁà∂Á±ªÔºâ‰∏≠ÁöÑÂè¶‰∏Ä‰∏™ÂêåÊ≠•ÊñπÊ≥ï b()ÔºåÂú®Ëøô‰∏™Á∫øÁ®ãÂ∑≤ÁªèÊã•Êúâ‰∫ÜÂØπË±°ÁöÑÈîÅÊó∂ÂÄôÔºåÂÜçÊ¨°Áî≥ËØ∑ÁöÑÊó∂ÂÄô‰ªªÁÑ∂‰ºöÂæóÂà∞ËØ•ÂØπË±°ÁöÑÈîÅ„ÄÇ Á∫øÁ®ãÊâßË°åËøáÁ®ã‰∏≠Â¶ÇÊûúÂèëÁîüÂºÇÂ∏∏ÔºåÈªòËÆ§ÊÉÖÂÜµÈîÅ‰ºöË¢´ÈáäÊîæ volatile volatile ÂÖ≥ÈîÆÂ≠ó‰Ωø‰∏Ä‰∏™ÂèòÈáèÂú®Â§ö‰∏™Á∫øÁ®ãÈó¥ÂèØËßÅ ÂéüÁêÜÔºöAÁ∫øÁ®ãÁî®Âà∞‰∏Ä‰∏™ÂèòÈáèÊó∂Ôºåjava ‰ºöÂú®Á∫øÁ®ã‰∏≠‰øùÁïô‰∏Ä‰ªΩcopyÔºåËøôÊ†∑Â¶ÇÊûú BÁ∫øÁ®ã‰øÆÊîπ‰∫ÜËØ•ÂèòÈáèÔºåÂàô AÁ∫øÁ®ãÊú™ÂøÖÁü•ÈÅìÔºå‰ΩøÁî® volatile ÂÖ≥ÈîÆÂ≠óÂèØ‰ª•ËÆ©ÊâÄÊúâÁ∫øÁ®ãÂÜçÂéªÂÜÖÂ≠òÈáåËØª‰∏Ä‰∏ãÊõ¥Êñ∞ÂèòÈáèÁöÑÂÄº„ÄÇ volatile boolean running = true; volatile ‰∏çËÉΩ‰øùËØÅÂ§öÁ∫øÁ®ãÂêåÊó∂ÂØπ‰∏Ä‰∏™ÂèòÈáè‰øÆÊîπÂ∏¶Êù•ÁöÑ‰∏ç‰∏ÄËá¥ÈóÆÈ¢òÔºå‰∏çËÉΩÊõø‰ª£ synchronizedÔºåÂç≥Âè™ËÉΩ‰øùËØÅÂèØËßÅÊÄßÔºå‰∏çËÉΩ‰øùËØÅÂéüÂ≠êÊÄß ‰æãÂ¶ÇÔºö 123456789101112131415161718192021public class T &#123; volatile int count = 0; void m() &#123; for(int i=0; i&lt;10000; i++) count++; &#125; public static void main(String[] args) &#123; T t = new T(); List&lt;Thread&gt; threads = new ArrayList&lt;Thread&gt;(); for(int i=0; i&lt;10; i++) &#123; threads.add(new Thread(t::m, "thread-"+i)); &#125; threads.forEach((o)-&gt;o.start()); threads.forEach((o)-&gt;&#123; try &#123; o.join(); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125;); System.out.println(t.count); &#125; ‰∏äÈù¢ÁöÑ‰æãÂ≠êËæìÂá∫ÁöÑÁªìÊûúÂ∞è‰∫é100000ÔºåÂõ†‰∏∫Â§öÁ∫øÁ®ãÂêåÊó∂‰øÆÊîπÂèòÈáèÁöÑÂÄºÔºåÂç≥‰ΩøÈöèÊó∂ÈÉΩÂéªÂÜÖÂ≠òÈáåÁõ∏‰∫íÊõ¥Êñ∞Ôºå‰ΩÜ‰∫íÁõ∏ÂΩ±ÂìçÔºåËß£ÂÜ≥ÂäûÊ≥ïÊòØËÆ© m() ÂâçÂä†‰∏ä synchronized ‰øÆÈ•∞„ÄÇ 123456/*volatile*/ int count = 0;synchronized void m() &#123; for (int i = 0; i &lt; 10000; i++) count++; &#125; ‰ΩÜ synchronized ÊïàÁéá‰∏çÈ´òÔºåÊúâÊ≤°ÊúâÊõ¥Â•ΩÁöÑÊñπÊ≥ïÂë¢‚Ä¶ AtomicXXX AtomicXXX Á±ªÁöÑÊñπÊ≥ïÈÉΩÊòØÂéüÂ≠êÊÄßÁöÑÔºå‰ΩÜÊòØÂ§ö‰∏™ÊñπÊ≥ï‰πãÈó¥ÊòØ‰∏çÂÖ∑Â§áÂéüÂ≠êÊÄßÁöÑ AtomicXXX ÊïàÁéáÂæàÈ´òÔºåÊé®Ëçê‰ΩøÁî® 12345678910111213141516171819202122232425public class T &#123; // volatile int count = 0; AtomicInteger count = new AtomicInteger(0); void m() &#123; for (int i = 0; i &lt; 10000; i++) // while (count.get() &lt; 10000) ÂØπ‰∫écount ÁöÑ get Âíå incrementAndGet() ‰πãÈó¥‰∏çÂÖ∑ÊúâÂéüÂ≠êÊÄßÔºåÂØºËá¥getÁöÑÊó∂ÂÄôÂ∞è‰∫é10000Ôºå‰ΩÜÂõ†‰∏∫Â§öÁ∫øÁ®ãÂÖ±ÂêåincrementÂèØËÉΩ‰ΩøÂæóÊúÄÂêéÁªìÊûúÂ§ß‰∫é100000 count.incrementAndGet(); &#125; public static void main(String[] args) &#123; T t = new T(); List&lt;Thread&gt; threads = new ArrayList&lt;Thread&gt;(); for (int i = 0; i &lt; 10; i++) &#123; threads.add(new Thread(t::m, "thread-" + i)); &#125; threads.forEach((o) -&gt; o.start()); threads.forEach((o) -&gt; &#123; try &#123; o.join(); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125;); System.out.println(t.count); &#125;&#125; Á∫øÁ®ãÈó¥ÈÄö‰ø°Wait &amp; Notify Â∞èÊïÖ‰∫ãÔºöÂéïÊâÄÈáåÂè™Êúâ‰∏Ä‰∏™ÂùëÔºåÊúâÂæàÂ§ö‰∫∫ÂÜ≤‰∫ÜËøõÊù•‰∏äÂéïÊâÄÔºåÂè™Êúâ‰∏Ä‰∏™‰∫∫Âç†Êúâ‰∫ÜËøô‰∏™ÂùëÂπ∂ÈîÅ‰∏ä‰∫ÜÈó®ÔºåÂÖ∂‰ªñ‰∫∫Âè™ËÉΩÁ≠âÂæÖÔºåÂ§Ñ‰∫éÂ∞±Áª™Áä∂ÊÄÅ„ÄÇÂ∞±Áª™Áä∂ÊÄÅÁöÑÁ∫øÁ®ãÊòØÂ§Ñ‰∫éÂèØËøêË°åÁ∫øÁ®ãÊ±†‰∏≠ÁöÑÔºåÂ∞±Áª™Áä∂ÊÄÅÁöÑÁ∫øÁ®ãÈô§CPU‰πãÂ§ñÔºåÂÖ∂‰ªñËøêË°åÊâÄÈúÄËµÑÊ∫êÈÉΩÂ∑≤ÂÖ®ÈÉ®Ëé∑ÂæóÔºõÈÇ£‰πàÂéïÊâÄÂ∞±ÊòØËøô‰∏™ÂèØËøêË°åÁ∫øÁ®ãÊ±†ÔºåÁ≠âÂæÖÁöÑ‰∫∫Â∞±ÊòØÂ∞±Áª™Á∫øÁ®ãÔºå‰∏ÄÊó¶Èó®ÂºÄ‰∫ÜÔºåÂç≥Êúâ‰∏Ä‰∏™Â∞±Áª™Á∫øÁ®ãÂèØ‰ª•ËøêË°åÔºõËøôÊääÈîÅÂ∞±Áõ∏ÂΩì‰∫ésynchronized ÈîÅ‰Ωè‰∫ÜÂùëËøô‰∏™ÂØπË±°ÔºåÂ∞±Áª™Áä∂ÊÄÅÁöÑ‰∫∫ÊåÅÊúâËµÑÊ∫ê‰ΩÜ‰∏çËÉΩËøêË°åÔºåÊó†ÂΩ¢‰∏≠ÊòØ‰∏ÄÁßçÊµ™Ë¥π„ÄÇÈÇ£‰πàÔºåÂèØ‰∏çÂèØ‰ª•ËÆ©‰ªñ‰ª¨ÂÖàÂà´ÊåÅÊúâËµÑÊ∫ê‰∫ÜÔºåÂÖàÁ¶ªÂºÄÂéïÊâÄÂõûÂà∞Â∫ß‰ΩçÂéª waitÔºàÈòªÂ°ûÁä∂ÊÄÅÔºâÔºåÁ≠âÈáåÈù¢ÁöÑ‰∫∫Âá∫Êù•‰∫ÜÂÜçÂÜ≤ËøõÂéª‰∫âÊä¢Âë¢ÔºüÈòªÂ°ûÁä∂ÊÄÅÁöÑÁ∫øÁ®ãÈáäÊîæÂç†ÊúâÁöÑÊâÄÊúâËµÑÊ∫êËøõÂÖ•Á≠âÂæÖÊ±†‰∏≠ÔºåËøô‰∏™Áä∂ÊÄÅÊòØ‰∏çËÉΩËá™Â∑±Âî§ÈÜíÁöÑÔºåÈúÄË¶ÅÊúâ‰∫∫ÈÄöÁü•ÔºànotifyÔºâÊâçË¢´Âî§ÈÜíÔºåËäÇÁúÅ‰∫ÜËµÑÊ∫ê„ÄÇ wait ‰ºöÈáäÊîæÈîÅÔºåÁ∫øÁ®ãËøõÂÖ•ÈòªÂ°ûÊÄÅÔºåÂâçÊèêÊòØÂÖàËé∑ÂæóÈîÅÔºå‰∏ÄËà¨‰∏é synchronized ÈÖçÂêà‰ΩøÁî®ÔºåÂ§ñÈù¢‰∏ÄËà¨ÊòØ while notify ‰∏ç‰ºöÈáäÊîæÈîÅÔºå‰ºöÂî§ÈÜí wait ÁöÑÁ∫øÁ®ãÔºå‰∏ç‰ºöÁ´ãÂç≥ÈáäÊîæÈîÅÔºõnotify Âè™‰ºöÂî§ÈÜí‰∏Ä‰∏™Á≠âÂæÖÔºàÂØπË±°ÁöÑÔºâÁ∫øÁ®ãÔºånotifyAll ‰ºöÂî§ÈÜíÊâÄÊúâÁ≠âÂæÖÔºàÂØπË±°ÁöÑÔºâÁ∫øÁ®ãÔºå„ÄäEffective Java„Äã‰∏≠ËØ¥Ê∞∏Ëøú‰ΩøÁî® notifyAll ‰∏çË¶Å‰ΩøÁî® notify„ÄÇ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960import java.util.concurrent.TimeUnit;public class T &#123; boolean volatile session = false; String volatile content = ""; public static void main(String[] args) &#123; T t = new T(); final Object lock = new Object(); new Thread(()-&gt;&#123; System.out.println("t1 start"); synchronized(lock) &#123; while (!t.session) &#123; try &#123; lock.wait(); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; System.out.println(t.content); System.out.println("t2 end"); lock.notifyAll(); // Âî§ÈÜí t2 &#125; &#125;, "t1").start(); try &#123; TimeUnit.SECONDS.sleep(2); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; new Thread(()-&gt;&#123; System.out.println("t2 start"); synchronized (lock) &#123; for (int i=1; i&lt;=10; i++) &#123; System.out.println(i); if (i == 5) &#123; t.session = true; lock.notifyAll(); // Âî§ÈÜí t1 t.content = "Hello " + i; try &#123; lock.wait(); // ÈáäÊîæÈîÅ &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125; try &#123; TimeUnit.SECONDS.sleep(1); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125; &#125; &#125;, "t2").start(); &#125;&#125; Latch wait Âíå notify ÈÄö‰ø°ËøáÁ®ãÊØîËæÉÁπÅÁêêÔºå‰ΩøÁî® Latch ‰ª£Êõø wait, notifyÊù•ËøõË°åÁ∫øÁ®ãÈó¥ÁöÑÈÄöÁü•ÔºåÂ•ΩÂ§ÑÊòØ‰ΩøÈÄöËÆØÁÆÄÂçïÔºåÂèØ‰ª•ÊåáÂÆöÁ≠âÂæÖÊó∂Èó¥ 123456789101112131415161718192021222324252627282930313233343536373839404142434445import java.util.concurrent.CountDownLatch;import java.util.concurrent.TimeUnit;public class T3 &#123; private volatile int num = 0; public static void main(String[] args) &#123; T3 t = new T3(); CountDownLatch latch = new CountDownLatch(1); // latchÁöÑcountÂÄº‰∏∫1Ôºå‰∏ãÈù¢Ëá™Âáè‰∏∫0ÂèØÂî§ÈÜíÊâÄÊúâÁ≠âÂæÖÁ∫øÁ®ã new Thread(()-&gt;&#123; System.out.println("t1 start"); if (t.num != 5) &#123; try &#123; latch.await(); // Á≠âÂæÖÔºåÊîæÂºÉÈîÅ &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125; System.out.println("t1 end"); &#125;, "t1").start(); try &#123; TimeUnit.SECONDS.sleep(1); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; new Thread(()-&gt;&#123; System.out.println("t2 start"); for (int i=0; i&lt;10; i++) &#123; System.out.println("t2:" + i); if (i == 5) &#123; latch.countDown(); // latchÁöÑcountÁî±1Âèò0ÔºåÂî§ÈÜít1 &#125; try &#123; TimeUnit.SECONDS.sleep(1); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125; System.out.println("t2 end"); &#125;, "t2").start(); &#125;&#125; ReentrantLock ReentrantLock ÂèØ‰ª•Êõø‰ª£ synchronized ÈîÅÂÆö this ÂØπË±°ÔºåÈîÅÂÆöÂêéÂøÖÈ°ªË¶ÅÊâãÂä®ÈáäÊîæÈîÅÔºåÁªèÂ∏∏Âú® finally ‰∏≠ËøõË°åÈîÅÁöÑÈáäÊîæÔºåsynchronized ÈáäÊîæÈîÅÂêéÈöèÊú∫ÈÄâÊã©Á≠âÂæÖÁöÑÁ∫øÁ®ãÂºÄÂßãÊâßË°åÔºåReentrantLock ÂèØ‰ª•ÊåáÂÆö‰∏∫ÂÖ¨Âπ≥ÈîÅ„ÄÇ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546public class T &#123; Lock lock = new ReentrantLock(); void m1() &#123; lock.lock(); // Âä†ÈîÅ try &#123; for (int i=0; i&lt;10; i++) &#123; System.out.println(i); TimeUnit.SECONDS.sleep(1); &#125; &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; finally &#123; lock.unlock(); // ÊâãÂä®ÈáäÊîæÈîÅ &#125; &#125; // Âêå synchronized void m2() &#123;&#125; void m2() &#123; lock.lock(); System.out.println("m2 start..."); lock.unlock(); &#125; void m3() &#123; boolean isLocked = false; try &#123; isLocked = lock.tryLock(5, TimeUnit.SECONDS); // Â∞ùËØï5sËé∑ÂæóÈîÅÔºåËé∑Âæó‰∏çÂà∞ËøîÂõûfalseÔºåÁªßÁª≠Âêë‰∏ãÊâßË°å System.out.println("m2 start..."); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; finally &#123; if (isLocked) lock.unlock(); &#125; &#125; public static void main(String[] args) &#123; T t = new T(); new Thread(t::m1).start(); try &#123; TimeUnit.SECONDS.sleep(1); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; new Thread(t::m2).start(); &#125;&#125; ÂΩìÁ∫øÁ®ã t2 Á≠âÂæÖÁ∫øÁ®ã t1ÔºåËÄåÁ∫øÁ®ãt1ÈïøÊó∂Èó¥Âç†Áî® cpuÔºåÂèØ‰ª•ÊâãÂä®ËÆ© t2 ÊâìÊñ≠ t1Ôºå‰ª§ t2 ÊâßË°å„ÄÇ 12345678910111213141516171819202122232425262728Thread t1 = new Thread(()-&gt;&#123; try &#123; lock.lock(); TimeUnit.SECONDS.sleep(Integer.MAX_VALUE); &#125; catch(InterruptedException e) &#123; System.out.println("interrupted!"); &#125; finally &#123; lock.unlock(); &#125;&#125;);t1.start();// Áù°2sThread t2 = new Thread(()-&gt;&#123; boolean locked = lock.tryLock(); try &#123; lock.lockInterruptibly(); System.out.println(Thread.currentThread().getName() + " start"); TimeUnit.SECONDS.sleep(5); &#125; catch(InterruptedException e) &#123; System.out.println("t2 interrupted"); &#125; finally &#123; if (locked) lock.unlock(); &#125; System.out.println(Thread.currentThread().getName() + " end");&#125;, "t2");t2.start();// Áù°2st2.interrupt(); ÂÖ¨Âπ≥ÈîÅÔºöÂî§ÈÜíÁ≠âÂæÖÁ∫øÁ®ãÊåâÁÖßÂÖàÊù•ÂÖàÊúçÂä°ÁöÑÊú∫Âà∂ËÄå‰∏çÊòØÈöèÊú∫ÔºåÂΩìÁÑ∂ÂÖ¨Âπ≥‰ºöÂ∏¶Êù•‰∏ÄÂÆöÁöÑË¥üÊãÖ 12345678910111213141516171819202122import java.util.concurrent.locks.ReentrantLock;public class T4 implements Runnable&#123; private static ReentrantLock lock = new ReentrantLock(true); //ÂèÇÊï∞‰∏∫trueË°®Á§∫‰∏∫ÂÖ¨Âπ≥ÈîÅ public static void main(String[] args) &#123; T4 t = new T4(); Thread t1 = new Thread(t); Thread t2 = new Thread(t); t1.start(); t2.start(); &#125; @Override public void run() &#123; for (int i=0; i&lt;100; i++) &#123; lock.lock(); System.out.println(Thread.currentThread().getName() + "Ëé∑ÂæóÈîÅ"); lock.unlock(); &#125; &#125;&#125;]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>Concurrent</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[elasticSearch kibana install in linux]]></title>
    <url>%2F2018%2F05%2F06%2Felasticsearch-kibana-install%2F</url>
    <content type="text"><![CDATA[Linux ÂÆâË£Ö ES ES 6.3.x Ë¶ÅÊ±Ç Linux ÂÜÖÊ†∏ÂøÖÈ°ªÊòØ 3.5+ÁâàÊú¨‰ª•‰∏äÔºå‰∏çËÉΩÁî® root Áî®Êà∑ÂêØÂä® uname -a Êü•Áúã linux ÂÜÖÊ†∏ÁâàÊú¨Ôºå‰Ωé‰∫é3.5Ë¶ÅÂçáÁ∫ßÂÜÖÊ†∏ÔºåÊàñËÄÖ‰ΩøÁî®Centos7 ÂçáÁ∫ßÂÜÖÊ†∏ Ê≥®ÂÜåÂÜÖÊ†∏Ôºö rpm ‚Äìimport http://mirror.centos.org/centos/RPM-GPG-KEY-CentOS-7 ‰∏ãËΩΩÂÜÖÊ†∏ÂÆâË£ÖÂåÖ rpm -Uvh http://www.elrepo.org/elrepo-release-6-8.el6.elrepo.noarch.rpm ÂÆâË£ÖÂÜÖÊ†∏Êñ∞ÁâàÊú¨ yum --enablerepo=elrepo-kernel install kernel-lt -y ËÆæÁΩÆÂêØÂä®ÂÜÖÊ†∏ÁâàÊú¨ vim /etc/grub.conf ‰øÆÊîπ‰∏∫Ôºödefault=0 ÈáçÂêØÁ≥ªÁªüËÆ©ÂÜÖÊ†∏ÁîüÊïàÔºörebootÔºàËøòÊòØÁõ¥Êé•Áî® Centos7 Âêß‰πñ‰πñÔºâ Ê≥®ÊÑèÔºö È´òÁâàÊú¨ÁöÑÂÜÖÊ†∏ÂØπÁ∫øÁ®ãÁöÑÂÜÖÂ≠òËµÑÊ∫êÈúÄË¶ÅÊõ¥È´òÁöÑË¶ÅÊ±ÇÔºåË¶ÅÁªôËôöÊãüÊú∫ÂàÜÈÖç 1.5G ‰ª•‰∏äÁöÑÂÜÖÂ≠ò ÈÖçÁΩÆËôöÊãüÊú∫ÁΩëÂÖ≥ÔºåDNSÔºå‰øùËØÅËÉΩËøûÊé•Â§ñÁΩë ‰∏∫ESÊèê‰æõÁ≥ªÁªüÈÖçÁΩÆ ES Âú® Linux ÂÆâË£ÖÈÉ®ÁΩ≤ÈúÄË¶ÅÁ≥ªÁªü‰∏∫ÂÖ∂Êèê‰æõËã•Âπ≤Á≥ªÁªüÈÖçÁΩÆÔºåÂ¶ÇÔºöÂ∫îÁî®ÂèØÂêØÂä®ÁöÑÁ∫øÁ®ãÊï∞ÔºåÂèØ‰ª•ÂàíÂàÜÂà∞ÁöÑÂÜÖÂ≠òÔºåÊúÄÂ§öÂèØ‰ª•ÂàõÂª∫ÁöÑÊñá‰ª∂‚Ä¶ ‰øÆÊîπÈôêÂà∂‰ø°ÊÅØ ‰øÆÊîπÁ≥ªÁªü‰∏≠ÂÖÅËÆ∏Â∫îÁî®ÂàõÂª∫ÊúÄÂ§öÊñá‰ª∂‰∏™Êï∞ÁöÑÈôêÂà∂ÊùÉÈôê„ÄÇLinux ÈªòËÆ§ÈôêÂà∂Â∫îÁî®ÊúÄÂ§öÂàõÂª∫ 65535 ‰∏™Êñá‰ª∂Ôºå‰ΩÜÊòØ ES Ëá≥Â∞ëÈúÄË¶Å65536 ‰∏™Êñá‰ª∂ÁöÑÂàõÂª∫ÊùÉÈôê„ÄÇ 1234vi /etc/security/limits.conf# Â¢ûÂä†* soft nofile 65536* hard nofile 65536 ‰øÆÊîπÁ∫øÁ®ãÂºÄÂêØÈôêÂà∂ ‰øÆÊîπÂÖÅËÆ∏Áî®Êà∑ÂêØÂä®ÁöÑËøõÁ®ãÂºÄÂêØÂ§öÂ∞ëÁ∫øÁ®ãÔºåLinux ÈôêÂà∂ root Áî®Êà∑ÂºÄÂêØÁöÑËøõÁ®ãÂèØ‰ª•ÂêØÂä®‰ªªÊÑèÊï∞ÈáèÁöÑÁ∫øÁ®ãÔºåÂÖ∂‰ªñÁî®Êà∑ÂºÄÂêØÁöÑËøõÁ®ãÂèØ‰ª•ÂºÄÂêØ 1024 ‰∏™Á∫øÁ®ã„ÄÇ‰øÆÊîπÈôêÂà∂Êï∞‰∏∫ 4096+„ÄÇES Ëá≥Â∞ëÈúÄË¶Å4096ÁöÑÁ∫øÁ®ãÊ±†È¢ÑÂ§á 123456vi /etc/security/limits.d/90-nproc.conf# ‰øÆÊîπ‰∏ãËø∞ÂÜÖÂÆπ* soft nproc 4096root soft nproc unlimited# Ê£ÄÊü•ÂèØÂºÄÂêØÁöÑÊúÄÂ§ßÁ∫øÁ®ãulimit -u Ê≥®ÔºöËôöÊãüÊú∫ÂÜÖÂ≠òÊòØ 1 GÔºåÊúÄÂ§öËÉΩÂºÄÂêØ3000+‰∏™Á∫øÁ®ãÔºå‰∏çËÉΩÊª°Ë∂≥ESÁöÑË¶ÅÊ±ÇÔºåÊâÄ‰ª•Ë¶ÅÁªôËôöÊãüÊú∫ÂàÜÈÖç1.5G‰ª•‰∏äÁöÑÂÜÖÂ≠ò ‰øÆÊîπÁ≥ªÁªüÊéßÂà∂ÊùÉÈôê Á≥ªÁªüÊéßÂà∂Êñá‰ª∂ÊòØÁÆ°ÁêÜÁ≥ªÁªü‰∏≠ËµÑÊ∫êÊéßÂà∂ÁöÑÈÖçÁΩÆÊñá‰ª∂ÔºåESÈúÄË¶ÅÂºÄËæü‰∏Ä‰∏™65536Â≠óËäÇ‰ª•‰∏äÁ©∫Èó¥ÁöÑËôöÊãüÂÜÖÂ≠ò„ÄÇLinuxÈªòËÆ§‰∏çÂÖÅËÆ∏‰ªª‰ΩïÁî®Êà∑ÂíåÂ∫îÁî®Áõ¥Êé•ÂºÄËæüËôöÊãüÂÜÖÂ≠ò 12345vi /etc/sysctl.conf# Ê∑ªÂä†vm.max_map_count=655360# ËÆ© sysctl ÈÖçÁΩÆÁîüÊïàsysctl -p ÂÆâË£ÖJDKËá≥Â∞ë1.8.0_131+ Ëß£ÂéãESÔºötar -zxf elasticsearch-6.3.1.tar.gz Ê≥®ÔºöES ‰∏çÂÖÅËÆ∏ root Áî®Êà∑ÂêØÂä®ÔºåÂ¶ÇÊûú ES ÊòØÈÄöËøá root Áî®Êà∑Ëß£ÂéãÁöÑÔºåÂàôÊâÄÊúâËÄÖÊòØ root Áî®Êà∑ÔºåÈúÄË¶ÅÂ∞ÜES Â∫îÁî®ÊâÄÊúâËÄÖÊîπ‰∏∫ÂÖ∂‰ªñÁî®Êà∑ ‰øÆÊîπÊâÄÊúâËÄÖ 123# ÂÖàÁßªÂä®Âà∞ÊôÆÈÄöÁî®Êà∑Ë∑ØÂæÑ‰∏ãÔºö mv #path1 path2chown -R group.user elasticsearch... # Êó†ÁªÑÁî®Êà∑ÁöÑÁªÑÂêçÂíåÁî®Êà∑Âêç‰∏ÄËá¥ ‰øÆÊîπelasticsearchÈÖçÁΩÆÊñá‰ª∂ ËÆæÁΩÆÂèØËÆøÈóÆÁöÑÂÆ¢Êà∑Á´Ø„ÄÇ0.0.0.0‰ª£Ë°®‰ªªÊÑèÂÆ¢Êà∑Á´ØËÆøÈóÆ„ÄÇ 123vi config/elasticsearch.yml# ‰øÆÊîπ‰∏ãËø∞ÂÜÖÂÆπnetwork.host: 0.0.0.0 ÂàáÊç¢Áî®Êà∑ÂêØÂä®Ôºösu zjmÔºåcd elasticsearch/binÔºå./elasticsearch ÂêØÂä®ÊúçÂä° ÊµãËØïËøûÊé•Ôºöcurl http://ip:9200 LinuxÂÆâË£ÖKibanaÊòØESÊèê‰æõÁöÑ‰∏Ä‰∏™WebÁöÑÁÆ°ÁêÜÊéßÂà∂Âè∞ÔºåËß£ÂéãÔºåÂêØÂä®Âç≥ÂèØÔºåKibanaË¶ÅÊ±ÇÁöÑÁéØÂ¢ÉÈÖçÁΩÆÊòØÂ∞è‰∫éESÁöÑ tar -zxf kibana.tar.gz ‰øÆÊîπ config/kibana.ymlÔºåÂ¢ûÂä†Ôºöserver.host: ‚Äú0.0.0.0‚Äù ËøêË°åÔºökibana_home/bin/kabana‚Äò ËÆøÈóÆÔºöhttp://ip:5601]]></content>
      <categories>
        <category>elk</category>
      </categories>
      <tags>
        <tag>elasticSearch</tag>
        <tag>kibana</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[kibana command]]></title>
    <url>%2F2018%2F04%2F08%2Fkibana-command%2F</url>
    <content type="text"><![CDATA[Kibana ÂëΩ‰ª§Êü•ÁúãKibanaÂêØÂä®ÁªìÊûú ÊµèËßàÂô®ËÆøÈóÆÔºöhttp://ip:5601 ËøõÂÖ• dev tools Ê®°ÂùóÔºåÊâßË°åGET _cluster/health ËøîÂõûÂÄº‰∏≠ status: greenÔºöÊØè‰∏™Á¥¢ÂºïÁöÑ primary shard Âíå replica shard ÈÉΩÊòØ active ÁöÑ yellowÔºöÊØè‰∏™Á¥¢ÂºïÁöÑ primary shard ÈÉΩÊòØ active ÁöÑÔºå‰ΩÜÈÉ®ÂàÜÁöÑ replica shard ‰∏çÊòØ active ÁöÑ redÔºö‰∏çÊòØÊâÄÊúâÁöÑÁ¥¢ÂºïÈÉΩÊòØ primary shard ÈÉΩÊòØ active Áä∂ÊÄÅÁöÑ Êü•ÁúãÂÅ•Â∫∑Áä∂ÊÄÅ GET _cat/health?v Á¥¢ÂºïÂàõÂª∫Á¥¢Âºï1234567put /test_index&#123; "settings":&#123; "number_of_shards" : 2, "number_of_replicas" : 1 &#125;&#125; ES ÈªòËÆ§ÂàõÂª∫Á¥¢Âºï‰ºöÂàÜÈÖç 5 ‰∏™ primary shardÔºåÂπ∂‰∏∫ÊØè‰∏™ primary shard ÂàÜÈÖç‰∏Ä‰∏™ replica shard„ÄÇÈôêÂà∂ÔºöÂ¶ÇÊûúÁ£ÅÁõòÁ©∫Èó¥‰∏çË∂≥ 15% Êó∂‰∏çÂàÜÈÖç replica shardÔºå‰∏çË∂≥ 5% Êó∂‰∏çÂàÜÈÖç primary shard ÂèØ‰ª•ËÆæÁΩÆ primary shard ÁöÑ‰∏™Êï∞ÂíåÊØè‰∏™ primary shard ÁöÑ replica shard ÁöÑ‰∏™Êï∞ ‰øÆÊîπÁ¥¢Âºï Á¥¢Âºï‰∏ÄÊó¶ÂàõÂª∫Ôºåprimary shard Êï∞Èáè‰∏çÂèØÂèòÂåñÔºåÂèØ‰ª•ÊîπÂèòreplica shard ÁöÑÊï∞ÈáèÔºö 1234PUT /test_index/_settings&#123; "number_of_replicas": 2&#125; ‰∏Ä‰∏™‰∏ªÂàÜÁâáÂíå‰ªñÁöÑÂ§á‰ªΩÂàÜÁâá‰∏ç‰ºöÂú®‰∏Ä‰∏™ËäÇÁÇπ‰∏äÔºåÂØπ‰∫é‰∏Ä‰∏™‰∏ªÂàÜÁâáÁöÑÂ§ö‰∏™Â§á‰ªΩÂàÜÁâá‰πü‰∏ç‰ºöÂú®‰∏Ä‰∏™ËäÇÁÇπ‰∏äÔºàÂæàÂ•ΩÁêÜËß£‚Äî‚ÄîÈò≤Ê≠¢ÂêåÊó∂Ê∂àÂ§±Ôºâ Âà†Èô§Á¥¢Âºï DELETE /test_index,...ÔºåÈÄóÂè∑ÂàÜÈöîÁ¥¢Âºï Êü•ÁúãÁ¥¢Âºï GET _cat/indices?v Êü•ÁúãÂàÜÁâá GET _cat/shards?v 123456789101112# Á¥¢ÂºïÂêç # ÁºñÂè∑ # ‰∏ª‰ªé # ÊâÄÂú®ËäÇÁÇπindex shard prirep state docs store ip nodetest_index 3 r STARTED 0 261b 127.0.0.1 uwrhdxHtest_index 3 p STARTED 0 261b 127.0.0.1 9kTJ5Qetest_index 1 r STARTED 0 261b 127.0.0.1 uwrhdxHtest_index 1 p STARTED 0 261b 127.0.0.1 9kTJ5Qetest_index 2 p STARTED 0 261b 127.0.0.1 uwrhdxHtest_index 2 r STARTED 0 261b 127.0.0.1 9kTJ5Qetest_index 4 p STARTED 0 261b 127.0.0.1 uwrhdxHtest_index 4 r STARTED 0 261b 127.0.0.1 9kTJ5Qetest_index 0 p STARTED 0 261b 127.0.0.1 uwrhdxHtest_index 0 r STARTED 0 261b 127.0.0.1 9kTJ5Qe ÂèØ‰ª•ÂèëÁé∞ test_index Á¥¢ÂºïÊúâ 5 ‰∏™‰∏ªÂàÜÁâáÔºåÊØè‰∏™‰∏ªÂàÜÁâáÈÉΩÊúâ‰∏Ä‰∏™Â§á‰ªΩÂàÜÁâáÔºåÂπ∂‰∏î‰∏ª‰ªéÂàÜÁâá‰∏çÂú®‰∏Ä‰∏™ËäÇÁÇπ‰∏äÔºå5 ‰∏™ primary shard ÂøÖÈ°ªÂÖ®ÈÉ®Ê¥ªÂä®ÊâçËÉΩÊ≠£Â∏∏‰ΩøÁî®ÔºåÂê¶ÂàôÈõÜÁæ§ state = red Ê≥®ÔºöES Á¥¢Âºï‰∏ÄÊó¶Âª∫Á´ãÔºå‰∏çÂèØÊîπÂèòÔºåÂç≥ primary shard ‰∏çÂèò ÊñáÊ°£Êñ∞Â¢û Document Âú®Á¥¢Âºï‰∏≠Â¢ûÂä†ÊñáÊ°£ÔºåÂ¶ÇÊûúÂ¢ûÂä†ÁöÑ document ÂØπÂ∫îÁöÑ index ‰∏çÂ≠òÂú®ÔºåËá™Âä®ÂàõÂª∫ÔºåÂ¶ÇÊûú index Â≠òÂú®Ôºå type ‰∏çÂ≠òÂú®‰πüËá™Âä®ÂàõÂª∫„ÄÇ ÊâãÂä®ÊåáÂÆö id ÁöÑ Document 12345678910111213141516171819202122# Put /index/type/id &#123;field: value&#125;PUT /test_index/type1/1&#123; "name": "zjm", "remark": "IT boy", "no": 1&#125;# result:&#123; "_index": "test_index", # document ÁöÑÁ¥¢Âºï "_type": "type1", "_id": "1", "_version": 1, "result": "created", "_shards": &#123; "total": 2, # primary shard number "successful": 2, "failed": 0 &#125;, "_seq_no": 1, "_primary_term": 1&#125; Ëá™Âä®ÁîüÊàê id 1234567# POST /index/type&#123;field: value&#125;POST /test_index/my_type&#123; "name": "shaunjm", "remark": "my blog", "no": 2&#125; Ê≥®ÔºöÊØè‰∏™ index ÈáåÁöÑ document ÁªìÊûÑÂ∑ÆÂºÇ‰∏çË¶ÅÂ§™Â§ßÔºÅ Êü•ËØ¢ Document GET Êü•ËØ¢ÔºàÂçïÊï∞ÊçÆÔºâÔºöGET /index/type/id GET /_mget ÊâπÈáèÊü•ËØ¢ÔºàÊïàÁéáÈ´òÔºåÊØîÂçïÊï∞ÊçÆÊü•ËØ¢ÔºåÊé®ËçêÔºâ 12345678910111213141516171819GET /_mget&#123; "docs": [ &#123; "_index": "...", "_type": "...", "_id": "..." &#125;, &#123;&#125;, &#123;&#125; ]&#125;# orGET /index/type/_mget&#123; "docs": [ &#123; "_id": "..." &#125;, &#123;&#125;, &#123;&#125; ]&#125; ÊõøÊç¢ Document ÊõøÊç¢ Document (ÂÖ®ÈáèÊõøÊç¢) ËØ≠Ê≥ïÂêåÊñ∞Â¢ûÂÆåÂÖ®‰∏ÄÊ†∑ÔºöPUT /index/type/id {field:value}ÔºåES‰ºöÂÖàÊääÂéüÊù• id ÁöÑÊñáÊ°£Ê†áËÆ∞‰∏∫deletedÔºåÂÜçÊñ∞Âª∫ÔºåÂ¶ÇÊûú‰∏çÂ≠òÂú® id ÁöÑÊï∞ÊçÆÂàôÊñ∞Â¢û PUT ÁöÑÂº∫Âà∂Êñ∞Â¢ûPUT /index/type/id/_create {} Êàñ PUT /index/type/id?op_type=create {}Â¶ÇÊûú id Â∑≤ÁªèÂ≠òÂú®ÂàôÊä•Èîô Êõ¥Êñ∞ Document POST /index/type/id {&quot;doc&quot;:{field: value}} Âè™Êõ¥Êñ∞ id ÊñáÊ°£ÁöÑÈÉ®ÂàÜÂ≠óÊÆµÔºåÂÖàÂ∞ÜÂéüÊñáÊ°£Ê†áËÆ∞‰∏∫ deletedÔºåÂÜçÂ∞ÜÊñ∞Â≠óÊÆµÂíåÊú™Êõ¥Êñ∞ÁöÑÂ≠óÊÆµÂêàÂπ∂ÁªÑÊàêÊñ∞ÁöÑÊñáÊ°£Âπ∂ÂàõÂª∫„ÄÇ Âà†Èô§ Document DELETE /index/type/idÔºåÊ†áËÆ∞ÊñáÊ°£‰∏∫ deletedÔºå‰∏ç‰ºöÁõ¥Êé•Áâ©ÁêÜÂà†Èô§ÔºåÂΩì ES Â≠òÂÇ®Á©∫Èó¥‰∏çË∂≥Êó∂Êâç‰ºöËøõË°åÁâ©ÁêÜÂà†Èô§ÔºåÁä∂ÊÄÅÊ†áËÆ∞‰∏∫ deleted ÁöÑÊñáÊ°£‰∏ç‰ºöË¢´Êü•ËØ¢ÊêúÁ¥¢Âà∞ bulk ÊâπÂ§ÑÁêÜÂ¢ûÂà†Êîπ Document12345678POST /_bulk&#123;"create": &#123;"_index": "index1", "_type": "type1", "_id": "1"&#125;&#125;&#123;"name": "zjm", "age": 10&#125;&#123;"index": &#123;"_index": "index1", "_type": "type1", "_id": "1"&#125;&#125;&#123;"name": "zjm22333", "age": 15&#125;&#123;"update": &#123;"_index": "index1", "_type": "type1", "_id": "1", "_retry_on_conflict": 3&#125;&#125;&#123;"doc": &#123;"age": 18&#125;&#125;&#123;"delete": &#123;"_index": "index1", "_type": "type1", "_id": "1"&#125;&#125; 2-3 Ë°å‰∏∫Âº∫Âà∂Êñ∞Â¢ûÔºå4-5 Ë°å‰∏∫Êñ∞Â¢ûÊàñÂÖ®ÈÉ®ÊõøÊç¢Ôºå6-7 Ë°å‰∏∫ÈÉ®ÂàÜÊõ¥Êñ∞Ôºå8Ë°å‰∏∫Âà†Èô§Ôºå‰∏Ä‰∏™ÊñáÊ°£ÁöÑ json ‰∏≠‰∏çËÉΩÂê´ÊúâÊç¢Ë°åÔºå‰∏çÂêåÁöÑ json ‰∏≤ÂøÖÈ°ªÊç¢Ë°åÔºåËøôÊòØ‰∏∫‰∫ÜÂ≠óÁ¨¶‰∏≤Áõ¥Êé•‰ΩøÁî®Êç¢Ë°åËøõË°åÂàÜÈöîÔºåÊØè‰∏ÄË°å‰∏∫‰∏Ä‰∏™ json ÂØπË±°ÔºåÂê¶Âàô‰ª• { Âíå } ÂÅöÂàÜÈöîÈúÄË¶ÅÂàõÂª∫Â≠óÁ¨¶‰∏≤Êï∞ÁªÑÔºåÂΩ±ÂìçÊïàÁéá Document Routing ES Â∞ÜÊñáÊ°£Â≠òÊîæÂú® index ÁöÑÂì™‰∏™ primary shard ÁöÑË∑ØÁî±Êú∫Âà∂Ôºö primary shard = hash(routing)%numbe_of_primary_shards ÂÖ∂‰∏≠Ôºårouting ÈªòËÆ§‰∏∫ Document ÁöÑ idÔºå‰πüÂèØ‰ª•ÊâãÂä®ÊåáÂÆöÔºö PUT /index/type/id?routing=... ËøôÊ†∑Êü•ËØ¢ÁöÑÊó∂ÂÄô‰πüË¶ÅÂ∏¶ÁùÄ routing ÂÄºÊâçËÉΩÊü•ËØ¢Âà∞ÔºåÂê¶Âàô‰ºöÊåâÈªòËÆ§ÁöÑ routing ÂÄºÔºåÂç≥ id ËøõË°åËÆ°ÁÆó ÂÜôÊìç‰ΩúÔºöËÆ°ÁÆó routing ÂêéÂÜ≥ÂÆöÂÜôÂà∞Âì™‰∏™ primary shard ‰∏äÔºå Primary shard ‰ºöËá™Âä®ÂêåÊ≠•ÂØπÂ∫îÁöÑ replica shardÔºõËØªÊìç‰ΩúÔºöËÆ°ÁÆó routing ÂêéÂÜ≥ÂÆöËØªÂì™‰∏™ primary shard ÊàñËÄÖÂØπÂ∫îÁöÑ replica shardÔºå‰∏Ä‰∏™ primary shard ÂØπÂ∫îÁöÑ replica shard Ë∂äÂ§öÔºåÂèØÈÄâÊã©ÁöÑËäÇÁÇπË∂äÂ§öÔºåÂπ∂ÂèëÊÄßÂ∞±Ë∂äÂ•Ω Document ËØªÂÜôÊµÅÁ®ã ËØªÔºöÂÆ¢Êà∑Á´ØÂèëÈÄÅÁöÑËØ∑Ê±Ç‰ºöÈöèÊú∫ÁöÑÂèëÈÄÅÂà∞‰∏Ä‰∏™ËäÇÁÇπ‰∏äÔºåÁß∞‰∏∫ÂçèË∞ÉËäÇÁÇπÔºàcoordinate nodeÔºâÔºåÂçèË∞ÉËäÇÁÇπÈÄöËøáË∑ØÁî±ÁÆóÊ≥ïÊâæÂà∞Êú¨Ê¨°Êìç‰ΩúÁöÑ Document ÊâÄÂú®ÁöÑ shardÔºåÂ∞ÜËØ∑Ê±ÇËΩ¨Âèë primary shard ÊàñËÄÖÂØπÂ∫îÁöÑ replica shardÔºàËΩÆÂõûÁ≠ñÁï•ÊàñË¥üËΩΩÂùáË°°ÔºâÔºåprimary Êàñ replica shard ËøîÂõûÂçèË∞ÉËäÇÁÇπÔºåÂçèË∞ÉËäÇÁÇπÂÜçÂ∞ÜÁõ∏Â∫îËøîÂõûÁªôÂÆ¢Êà∑Á´Ø ÂÜôÔºöÂêåÊ†∑ÊòØÈöèÊú∫ÂèëÈÄÅËØ∑Ê±ÇÂà∞ÂçèË∞ÉËäÇÁÇπÔºåÂçèË∞ÉËäÇÁÇπËÆ°ÁÆóÂá∫ Document ÊâÄÂú®ÁöÑ shard ÂêéÔºåËΩ¨ÂèëÂà∞ shard ÊâÄÂú®ËäÇÁÇπÔºåprimary shard Â§ÑÁêÜÂÆåËØ∑Ê±ÇÂêé‰ºöÂêåÊ≠•ÂØπÂ∫îÁöÑ replica shardÔºåÂêåÊ≠•Êï∞ÊçÆÂÆåÊàêÔºåËøîÂõûÁªìÊûúÂà∞ÂçèË∞ÉËäÇÁÇπÂÜçÂà∞ÂÆ¢Êà∑Á´Ø]]></content>
      <categories>
        <category>elk</category>
      </categories>
      <tags>
        <tag>kibana</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[python-data-process]]></title>
    <url>%2F2018%2F02%2F26%2Fpython-data-process%2F</url>
    <content type="text"><![CDATA[ÂâçË®Ä Python ÁßëÂ≠¶ËÆ°ÁÆó‰∏≠Áî®Âà∞ÁöÑÊï∞ÊçÆÂ§ÑÁêÜÔºåÂõæÂÉèÁªòÂà∂ÁöÑÊñπÊ≥ïËÆ∞ÂΩï„ÄÇÂ•ΩÂ§ö‰∏çÁü•ÈÅìÂï•ÊÑèÊÄùÔºåÂÖàËÉå‰ΩèÂêßÔºåÁî®Âà∞ÁöÑÊó∂ÂÄôÂÜçÊâæ‚Ä¶Python ÂÅöÁßëÂ≠¶ËÆ°ÁÆó‰∏úË•øÊå∫Â§öÁöÑÔºåÁé∞Âú®Ëøò‰∏çËÉΩËá™Â∑±ÊéåÊè°ÔºåÂæó‰∏çÊñ≠ÁßØÁ¥Ø ÈöèÊú∫ÁîüÊàêÊ≠£ÊÄÅÂàÜÂ∏ÉÁöÑÊï∞ÊçÆ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748__author__ = 'ZJM'__time__ = '2018/2/26 15:22'import numpy as npfrom numpy.linalg import choleskyimport matplotlib.pyplot as pltimport matplotlib.mlab as mlabfrom scipy.stats import multivariate_normalfrom sklearn.mixture import GaussianMixturefrom mpl_toolkits.mplot3d import Axes3DsampleNo = 1000# ‰∏ÄÁª¥Ê≠£Â§™ÂàÜÂ∏Ému = 3sigma = 15np.random.seed(0)s = np.random.normal(mu, sigma, sampleNo)plt.subplot(221)n, bins, patches = plt.hist(s, 50, normed=1)# add a best fit lineline = mlab.normpdf(bins, mu, sigma)plt.plot(bins, line, 'r--')plt.xlabel('x')plt.ylabel('y')plt.title(r'$\mu=' + str(mu) + '$, $\sigma=' + str(sigma) + '$')# ‰∫åÁª¥Ê≠£ÊÄÅÂàÜÂ∏Ému = np.array([1, 5])sigma = np.array([[1, 0], [0, 1.5]])R = cholesky(sigma)s = np.dot(np.random.randn(sampleNo, 2), R) + muplt.subplot(222)plt.plot(s[:, 0], s[:, 1], '+')# ‰∏âÁª¥Ê≠£Â§™ÂàÜÂ∏Ému = np.array([0] * 3)# sigma = np.array([[1, 1, 3], [1, 2, 1], [0, 0, 1]])sigma = np.diag((1, 1, 1))data = np.random.multivariate_normal(mu, sigma, 500)norm = multivariate_normal(mu, sigma)tau = norm.pdf(data)fig = plt.figure(figsize=(13, 7), facecolor='w')ax = fig.add_subplot(223, projection='3d')ax.scatter(data[:, 0], data[:, 1], data[:, 2], c='b', s=30, marker='o', depthshade=True)ax.set_xlabel('X')ax.set_ylabel('Y')plt.tight_layout()plt.show()]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Scientific Computation</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[math basic]]></title>
    <url>%2F2018%2F02%2F24%2Fmath-basic%2F</url>
    <content type="text"><![CDATA[ÂâçË®Ä Êï∞Â≠¶ÂäüÂ∫ïÂ§™Â∑ÆÔºåÊ¶ÇÁéáËÆ∫‰∏éÊï∞ÁêÜÁªüËÆ°„ÄÅÁ∫øÊÄß‰ª£Êï∞ÔºåÂ§ßÈáèÊ¶ÇÂøµÁêÜËß£‰∏çÂ§üÔºå‰πãÂâçÁöÑÂº∫ÂåñËÆ∞ÂøÜÈÉΩ‰∏∫‰∫ÜÂ∫î‰ªòËÄÉËØïÔºåËÆ∞È¢òÂûã„ÄÅËÉåÊ≠•È™§ÔºåÁé∞Âú®Áî®Âà∞Êï∞ÊçÆÂ§ÑÁêÜÂíåÂÖ¨ÂºèÊé®ÂØºÊó∂ÂèëÁé∞ÈÉΩ‰∏ç‰ºö‰∫Ü„ÄÇ‰∏ãÈù¢Êää‰∏Ä‰∫õÁî®Âà∞ÁöÑÊ¶ÇÂøµËÆ∞ÂΩï‰∏ãÔºå‰∏ªË¶ÅÊòØÁúãÂà∞ÁöÑÈÄö‰øóÁöÑËß£ÈáäÔºåÁõ¥ËßÇÂΩ¢Ë±°ÁöÑÊèèËø∞„ÄÇÂ∞ΩÈáè‰ΩøÊ¶ÇÂøµÊ¥ªËµ∑Êù•„ÄÇ^ - ^ Á∫ø‰ª£ÊúÄÂ∞è‰∫å‰πòÊ≥ïÊ≠£‰∫§Èòµ nÈò∂Áü©ÈòµAÔºåÊª°Ë∂≥ATA=EÔºåÂàôA‰∏∫Ê≠£‰∫§Èòµ A=(a1,a2,‚Ä¶,an), A‰∏∫Ê≠£‰∫§ÈòµÔºåÊúâÔºö aiTai=1, aiTaj=0(i‚â†j) Âç≥AÁöÑË°å(Âàó)ÂêëÈáèÈÉΩÊòØÂçï‰ΩçÂêëÈáèÔºå‰∏î‰∏§‰∏§Ê≠£‰∫§ Âçï‰ΩçÂêëÈáè‰øùËØÅATA ÂØπËßíÁ∫øÈÉΩÊòØ1ÔºåÊ≠£‰∫§‰ΩøÂæóÂÖ∂‰ªñÂÖÉÁ¥†ÈÉΩÊòØ0 A, B ÈÉΩÊòØnÈò∂Ê≠£‰∫§ÈòµÔºåÂàôA√óBÊòØÊ≠£‰∫§Èòµ ÂØπÁß∞Èòµ ÂçèÊñπÂ∑ÆÁü©ÈòµÔºå‰∫åÊ¨°ÂûãÁü©ÈòµÔºåÊó†ÂêëÂõæÈÇªÊé•Áü©ÈòµÈÉΩÊòØÂØπÁß∞Èòµ ÂÆûÂØπÁß∞Èòµ‰∏çÂêåÁâπÂæÅÂÄºÁöÑÁâπÂæÅÂêëÈáèÊ≠£‰∫§ ËÆæA‰∏∫nÈò∂ÂØπÁß∞ÈòµÔºåÂàôÂøÖÊúâÊ≠£‰∫§ÈòµPÔºå‰ΩøÂæóP-1AP = PTAP = Œõ ÂÖ∂‰∏≠P‰∏∫AÁöÑÁâπÂæÅÂêëÈáèÁªÑÊàêÁöÑÁü©ÈòµÔºåŒõÂØπËßíÁ∫ø‰∏äÊòØAÁöÑÁâπÂæÅÂÄºÔºåÂç≥A‰∏∫ÂØπÁß∞ÈòµÔºåÂÅöÂêàÂêåÂèòÊç¢ÔºåÁâπÂæÅÂÄº‰∏çÂèòÔºåA‰∏éŒõ‰∫í‰∏∫ÂêàÂêåÁü©Èòµ Ê≠£ÂÆöÈòµ Áõ¥ËßÇ‰∏äÔºöÊ≠£ÂÆöÈòµÊòØ‰∏ÄÁßçÂÆûÂØπÁß∞Èòµ ÂØπ‰∫énÈò∂ÊñπÈòµAÔºåËã•‰ªªÊÑènÈò∂ÈùûÈõ∂ÂêëÈáèxÔºåÈÉΩÊúâxTAx&gt;0ÔºåÂàôÁß∞AÊòØÊ≠£ÂÆöÈòµ„ÄÇ ÁªôÂÆö‰ªªÊÑèm√ónÁöÑÁü©ÈòµAÔºåATA‰∏ÄÂÆöÊòØÂçäÊ≠£ÂÆöÂØπÁß∞ÊñπÈòµ ÂØπÁß∞ÈòµAÊòØÊ≠£ÂÆöÈòµÔºåAÁâπÂæÅÂÄºÈÉΩ‰∏∫Ê≠£ÔºåAÁöÑÈ°∫Â∫è‰∏ªÂ≠êÂºèÈÉΩ‰∏∫Ê≠£ ÂêëÈáèÁöÑÂØºÊï∞ ÈóÆÈ¢òÔºöA‰∏∫m√ónÁöÑÁü©ÈòµÔºåx‰∏∫n√ó1ÁöÑÂàóÂêëÈáèÔºåÂàôAx‰∏∫m√ó1ÁöÑÂàóÂêëÈáèÔºåËÆ∞y=AxÔºåyÂØπxÁöÑÂÅèÂØº‰∏∫AT Ê¶ÇÁéáÊúüÊúõ Âπ≥ÂùáÊï∞ÁöÑÊâ©Â±ï Â∞èÂ≠¶ÁöÑÊó∂ÂÄôÔºåËÄÉËØ≠Êï∞Â§ñÔºå‰∏âÁßë‰∏ÄÊ†∑ÈáçË¶ÅÔºåÊúüÊú´ÊàêÁª©‰∏âÁßëÊ±ÇÂíåÈô§‰ª•3Âç≥ÂèØÂæóÂà∞Âπ≥ÂùáÂàÜ„ÄÇÂ§ßÂ≠¶‰∫ÜÔºåÊØèÁßëÈÉΩÊúâÂ≠¶ÂàÜÔºåÂ≠¶ÂàÜÂ§ßÁöÑÊõ¥ÈáçË¶ÅÔºåÂú®ÊâÄÊúâÁßëÁõÆ‰∏≠Âç†ÁöÑÊØîÈáçÂ∞±Â§ß„ÄÇÊ±ÇÂπ≥ÂùáÂàÜÊó∂Â∞±Ë¶ÅÂ∏¶ÁùÄÊùÉÈáçÂï¶„ÄÇxk ÁöÑÊ¶ÇÁéápk Â∞±Áõ∏ÂΩì‰∫éÂÆÉÁöÑÊùÉÈáç„ÄÇÊúüÊúõÂèçÂ∫îÊï∞ÊçÆÁöÑÂπ≥ÂùáÊ∞¥Âπ≥„ÄÇ Á¶ªÊï£ÂûãÔºö ËøûÁª≠ÂûãÔºö ÊñπÂ∑Æ Ë°°ÈáèÈöèÊú∫ÂèòÈáèÊàñ‰∏ÄÁªÑÊï∞ÊçÆÊó∂Á¶ªÊï£Á®ãÂ∫¶ Âú®ÁªüËÆ°ÊèèËø∞‰∏≠Ôºö Âú®Ê¶ÇÁéáÂàÜÂ∏É‰∏≠Ôºö Á¶ªÊï£ÂûãÔºö ‚Äã Â±ïÂºÄÂêéÔºö ËøûÁª≠ÂûãÔºö ÂçèÊñπÂ∑ÆCov ÊèèËø∞‰∏§‰∏™ÂèòÈáèÂú®ÂèòÂåñËøáÁ®ã‰∏≠ÂêåÂêëËøòÊòØÂèçÂêëÔºåÂèäÂÖ∂Á®ãÂ∫¶„ÄÇ ‰Ω†Â§ßÊàë‰πüÂ§ßÔºåÂêåÂêëÔºåÂçèÊñπÂ∑Æ‰∏∫Ê≠£ ‰Ω†Â§ßÊàëÂ∞èÔºåÂèçÂêëÔºåÂçèÊñπÂ∑Æ‰∏∫Ë¥ü ÂçèÊñπÂ∑ÆÊï∞ÂÄºÁªùÂØπÂÄºË∂äÂ§ßÂàôÁ®ãÂ∫¶Ë∂äÂº∫ Áõ∏ÂÖ≥Á≥ªÊï∞œÅ ‰πüÂèØ‰ª•ÂèçÊò†‰∏§‰∏™ÂèòÈáèÂèòÂåñÊó∂ÊòØÂêåÂêëËøòÊòØÂèçÂêëÔºåÂ¶ÇÊûúÂêåÂêëÂèòÂåñÂ∞±‰∏∫Ê≠£ÔºåÂèçÂêëÂèòÂåñÂ∞±‰∏∫Ë¥ü„ÄÇ Áî±‰∫éÈô§‰ª•‰∫Ü‰∏§‰∏™ÂèòÈáèÁöÑÊ†áÂáÜÂ∑ÆÔºåÊ∂àÈô§‰∫ÜÂèòÂåñÂπÖÂ∫¶ÁöÑÂΩ±ÂìçÔºåÂè™ËÄÉËôëÂèòÂåñÁéáÁöÑÁõ∏‰ººÁ®ãÂ∫¶ ‰ººÁÑ∂ÂáΩÊï∞ Likehood function ‰ººÁÑ∂ÂáΩÊï∞ ÊòØÂÖ≥‰∫éÁªüËÆ°Ê®°Âûã‰∏≠ÁöÑÂèÇÊï∞ÁöÑÂáΩÊï∞ ÁªôÂÆöËæìÂá∫ x Êó∂ÔºåÂÖ≥‰∫éÂèÇÊï∞Œ∏ÁöÑ‰ººÁÑ∂ÂáΩÊï∞L(Œ∏|x)=P(X=x|Œ∏) Ê¶ÇÁéáÊèèËø∞‰∫ÜÂ∑≤Áü•ÂèÇÊï∞Êó∂ÁöÑÈöèÊú∫ÂèòÈáèÁöÑËæìÂá∫ÁªìÊûúÔºõ‰ººÁÑ∂ÊèèËø∞Â∑≤Áü•ÈöèÊú∫ÂèòÈáèËæìÂá∫ÁªìÊûúÊó∂ÔºåÊú™Áü•ÂèÇÊï∞ÁöÑÂèØËÉΩÂèñÂÄº Á¶ªÊï£Âûã L(Œ∏|x) = P(X=x|Œ∏) Êàñ P(X=x;Œ∏) ËøûÁª≠Âûã L(Œ∏|x) = f(x|Œ∏) Ê±ÇÊûÅÂ§ß‰ººÁÑ∂ÂáΩÊï∞ ÂÜôÂá∫‰ººÁÑ∂ÂáΩÊï∞ ÂØπ‰ººÁÑ∂ÂáΩÊï∞ÂèñÂØπÊï∞ Ê±ÇÂØºÊï∞ Ëß£‰ººÁÑ∂ÊñπÁ®ã]]></content>
      <categories>
        <category>mechine learning</category>
      </categories>
      <tags>
        <tag>statistic</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[backtracking questions]]></title>
    <url>%2F2018%2F02%2F23%2Fbacktracking-questions%2F</url>
    <content type="text"><![CDATA[ÂõûÊ∫ØÊ≥ïÊ±ÇÂπÇÈõÜ„ÄÅÊéíÂàóÁªÑÂêà„ÄÅÂõûÊñáÂå∫ÂàÜÂπÇÈõÜÊó†ÈáçÂ§çÂÖÉÁ¥†ÂèëÂπÇÈõÜ Given a set of distinct integers, nums, return all possible subsets (the power set). Note: The solution set must not contain duplicate subsets. For example,If nums = [1,2,3], a solution is:[[3], [1], [2], [1,2,3], [1,3], [2,3], [1,2], []] 1234567891011121314151617def subsets(self, nums): """ :type nums: List[int] :rtype: List[List[int]] """ ans = [] l = len(nums) def backtrack(tempList, start): ans.append(tempList) for i in range(start, l): tempList.append(nums[i]) backtrack(tempList[:], i+1) tempList.pop() backtrack([], 0) return ans Â≠òÂú®ÈáçÂ§çÂÖÉÁ¥†ÁöÑÂπÇÈõÜ Given a collection of integers that might contain duplicates, nums, return all possible subsets (the power set). Note: The solution set must not contain duplicate subsets. or example,If nums = [1,2,2], a solution is: [[2], [1], [1,2,2], [2,2], [1,2], []] 123456789101112131415161718192021def subsetWithDup(self, nums): """ :type nums: List[int] :rtype: List[List[int]] """ l = len(nums) ans = [] nums = sorted(nums) tempList = [] def backtrack(start): ans.append(tempList[:]) for i in range(start, l): if i &gt; start and nums[i] == nums[i-1]: # skip duplicates continue tempList.append(nums[i]) backtrack(i+1) tempList.pop() backtrack(0) return ans ÂÖ®ÊéíÂàóÈóÆÈ¢òÊó†ÈáçÂ§çÂÖÉÁ¥†ÁöÑÂÖ®ÊéíÂàó Given a collection of distinct numbers, return all possible permutations. For example,[1,2,3] have the following permutations: [[1,2,3], [1,3,2], [2,1,3], [2,3,1], [3,1,2], [3,2,1]] 12345678910111213141516171819202122def permute(self, nums): """ :type nums: List[int] :rtype: List[List[int]] """ l = len(nums) ans = [] tempList = [] def backtrack(): if len(tempList) == l: ans.append(tempList[:]) else: for i in range(l): if nums[i] in tempList: continue tempList.append(nums[i]) backtrack() tempList.pop() backtrack() return ans Â≠òÂú®ÈáçÂ§çÂÖÉÁ¥†ÁöÑÂÖ®ÊéíÂàó Given a collection of numbers that might contain duplicates, return all possible unique permutations. For example,[1,1,2] have the following unique permutations: [[1,1,2], [1,2,1], [2,1,1]] 1234567891011121314151617181920212223242526def permuteWithUnique(self, nums): """ :type nums: List[int] :rtype: List[List[int]] """ nums = sorted(nums) l = len(nums) ans = [] tempList = [] used = [False] * l def backtrack(): if len(tempList) == l: ans.append(tempList[:]) else: for i in range(l): if used[i] or i &gt; 0 and nums[i] == nums[i-1] and not used[i-1]: continue used[i] = True tempList.append(nums[i]) backtrack() used[i] = False tempList.pop() backtrack() return ans Input: [3, 3, 0, 3] Output: [[0, 3, 3, 3], [3, 0, 3, 3], [3, 3, 0, 3], [3, 3, 3, 0]] ÁªÑÂêàÈóÆÈ¢òÂÖÉÁ¥†ÂèØ‰ª•Áî®Â§öÊ¨° Given a set of candidate numbers (C) (without duplicates) and a target number (T), find all unique combinations in C where the candidate numbers sums to T. For example, given candidate set [2, 3, 6, 7] and target 7,A solution set is: [ [7], [2, 2, 3] ] 123456789101112131415161718192021222324def combinationSum(self, candidates, target): """ :type candidates: List[int] :type target: int :rtype: List[List[int]] """ ans = [] l = len(candidates) tempList = [] candidates = sorted(candidates) def backtrack(remain, start): if remain &lt; 0: return if remain == 0: ans.append(tempList[:]) else: for i in range(start, l): tempList.append(candidates[i]) backtrack(remain-candidates[i], i) tempList.pop() backtrack(target, 0) return ans ÂÖÉÁ¥†Âè™ËÉΩÁî®‰∏ÄÊ¨° Given a collection of candidate numbers (C) and a target number (T), find all unique combinations in C where the candidate numbers sums to T. Each number in C may only be used once in the combination. For example, given candidate set [10, 1, 2, 7, 6, 1, 5] and target 8,A solution set is: [[1, 7], [1, 2, 5], [2, 6], [1, 1, 6]] 1234567891011121314151617181920212223242526def combinationSum2(self, candidates, target): """ :type candidates: List[int] :type target: int :rtype: List[List[int]] """ l = len(candidates) ans = [] templist = [] candidates = sorted(candidates) def backtrack(remain, start): if remain &lt; 0: return if remain == 0: ans.append(templist[:]) else: for i in range(start, l): if i &gt; start and candidates[i] == candidates[i-1]: continue templist.append(candidates[i]) backtrack(remain - candidates[i], i+1) templist.pop() backtrack(target, 0) return ans ÊâæÂõûÊñáÂ≠êÈõÜ Given a string s, partition s such that every substring of the partition is a palindrome. Return all possible palindrome partitioning of s. For example, given s = &quot;aab&quot;,Return [[&quot;aa&quot;,&quot;b&quot;], [&quot;a&quot;,&quot;a&quot;,&quot;b&quot;]] 1234567891011121314151617181920212223242526272829def partition(self, s): """ :type s: str :rtype: List[List[str]] """ l = len(s) ans = [] tempList = [] def isPalindrome(low, high): while low &lt; high: if s[low] != s[high]: return False low += 1 high -= 1 return True def backtrack(start): if start == l: ans.append(tempList[:]) else: for i in range(start, l): if isPalindrome(start, i): tempList.append(s[start: i+1]) backtrack(i+1) tempList.pop() backtrack(0) return ans summary: ÊàëËøòÊ≤°ÁúãÊáÇ‚Ä¶ ‰ª•ÂêéÂÜçÊõ¥Êñ∞ -_-||| Copy fromÔºöhttps://leetcode.com/problems/subsets/discuss/27281/A-general-approach-to-backtracking-questions-in-Java-(Subsets-Permutations-Combination-Sum-Palindrome-Partitioning)]]></content>
      <categories>
        <category>ÁÆóÊ≥ï</category>
      </categories>
      <tags>
        <tag>Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[java map-reduce]]></title>
    <url>%2F2018%2F02%2F11%2Fjava-map-reduce%2F</url>
    <content type="text"><![CDATA[JavaÂºÄÂèëMap/ReduceÁ®ãÂ∫èMRÁ®ãÂ∫èÊâßË°åÊñπÂºèÔºö Âú®Êú¨Âú∞ËøêË°åÔºåËæìÂÖ•ËæìÂá∫ÈÉΩÂú®Êú¨Âú∞ÔºåÁî®‰∫éË∞ÉËØïÁ®ãÂ∫è ÊääËøúÁ®ãÊï∞ÊçÆÊãâÂà∞Êú¨Âú∞ËøêË°åÔºåËæìÂá∫‰º†ÂõûËøúÁ®ãÔºåÂè™ÈÄÇÂêàÊï∞ÊçÆÈáèÂ∞è Âú®ËøúÁ®ãËøêË°åÔºåËæìÂÖ•ËæìÂá∫ÈÉΩÂú®ËøúÁ®ã JavaÁ®ãÂ∫èÂú®ÊúçÂä°Âô®‰∏äËøêË°å ÈÖçÁΩÆÁ≥ªÁªüÁéØÂ¢ÉÂèòÈáèHADOOP_HOMEÔºåÊåáÂêëhadoopÂÆâË£ÖÁõÆÂΩïÔºàÂ¶ÇÊûú‰Ω†‰∏çÊÉ≥ÊãõÊÉπ‰∏çÂøÖË¶ÅÁöÑÈ∫ªÁÉ¶Ôºå‰∏çË¶ÅÂú®ÁõÆÂΩï‰∏≠ÂåÖÂê´Á©∫Ê†ºÊàñËÄÖ‰∏≠ÊñáÂ≠óÁ¨¶Ôºâ ÊääHADOOP_HOME/binÂä†Âà∞PATHÁéØÂ¢ÉÂèòÈáèÔºàÈùûÂøÖË¶ÅÔºåÂè™ÊòØ‰∏∫‰∫ÜÊñπ‰æøÔºâ Â¶ÇÊûúÊòØÂú®windows‰∏ãÂºÄÂèëÔºåÈúÄË¶ÅÊ∑ªÂä†windowsÁöÑÂ∫ìÊñá‰ª∂ ÊääÁõò‰∏≠ÂÖ±‰∫´ÁöÑbinÁõÆÂΩïË¶ÜÁõñHADOOP_HOME/bin Â¶ÇÊûúËøòÊòØ‰∏çË°åÔºåÊääÂÖ∂‰∏≠ÁöÑhadoop.dllÂ§çÂà∂Âà∞c:\windows\system32ÁõÆÂΩï‰∏ãÔºåÂèØËÉΩÈúÄË¶ÅÈáçÂêØÊú∫Âô® mavenÂºïÂÖ•‰æùËµñ Êñ∞Âª∫È°πÁõÆÔºåÂºïÂÖ•hadoop ÊâÄÈúÄË¶ÅÁöÑjarÊñá‰ª∂ 1234567891011121314151617181920212223242526&lt;properties&gt; &lt;project.build.sourceencoding&gt;UTF-8&lt;/project.build.sourceencoding&gt; &lt;hadoop.version&gt;2.7.3&lt;/hadoop.version&gt;&lt;/properties&gt;&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.12&lt;/version &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt; &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt; &lt;version&gt;$&#123;hadoop.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt; &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt; &lt;version&gt;$&#123;hadoop.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt; &lt;artifactId&gt;hadoop-hdfs&lt;/artifactId&gt; &lt;version&gt;$&#123;hadoop.version&#125;&lt;/version&gt; &lt;/dependency&gt;&lt;/dependencies&gt; ‰ª£Á†ÅWordMapper.java1234567891011121314151617181920212223package com.zjm;import java.io.IOException;import org.apache.hadoop.io.IntWritable;import org.apache.hadoop.io.LongWritable;import org.apache.hadoop.io.Text;import org.apache.hadoop.mapreduce.Mapper;public class WordMapper extends Mapper&lt;LongWritable, Text, Text, IntWritable&gt;&#123; @Override protected void map(LongWritable key, Text value, Mapper&lt;LongWritable, Text, Text, IntWritable&gt;.Context context) throws IOException, InterruptedException &#123; final IntWritable ONE = new IntWritable(1); String s = value.toString(); String[] words = s.split(" "); for(String word: words) &#123; context.write(new Text(word), ONE); &#125; &#125; &#125; WordReduce.java12345678910111213141516171819202122package com.zjm;import java.io.IOException;import org.apache.hadoop.io.IntWritable;import org.apache.hadoop.io.LongWritable;import org.apache.hadoop.io.Text;import org.apache.hadoop.mapreduce.Reducer;public class WordReducer extends Reducer&lt;Text, IntWritable, Text, LongWritable&gt;&#123; @Override protected void reduce(Text key, Iterable&lt;IntWritable&gt; values, Reducer&lt;Text, IntWritable, Text, LongWritable&gt;.Context context) throws IOException, InterruptedException &#123; long count = 0; for(IntWritable v: values) &#123; count += v.get(); &#125; context.write(key, new LongWritable(count)); &#125;&#125; mainÂáΩÊï∞1234567891011121314151617181920212223242526272829303132333435363738package com.zjm;import org.apache.hadoop.conf.Configuration;import org.apache.hadoop.fs.Path;import org.apache.hadoop.io.IntWritable;import org.apache.hadoop.io.LongWritable;import org.apache.hadoop.io.Text;import org.apache.hadoop.mapreduce.Job;import org.apache.hadoop.mapreduce.lib.input.FileInputFormat;import org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;public class Test &#123; public static void main(String[] args) throws Exception&#123; Configuration conf = new Configuration(); conf.set("fs.defaultFS", "hdfs://master:9000/"); // Â∞ÜÈ°πÁõÆÊâìÂåÖÂà∞È°πÁõÆË∑üÁõÆÂΩï‰∏ã conf.set("mapreduce.job.jar", "wc.jar"); conf.set("mapreduce.framework.name", "yarn"); conf.set("yarn.resourcemanager.hostname", "master"); conf.set("mapreduce.app-submission.cross-platform","true"); Job job = Job.getInstance(conf); job.setMapperClass(WordMapper.class); job.setReducerClass(WordReducer.class); job.setMapOutputKeyClass(Text.class); job.setMapOutputValueClass(IntWritable.class); // Reduce ÁöÑËæìÂá∫Á±ªÂûã job.setOutputKeyClass(Text.class); job.setOutputValueClass(LongWritable.class); FileInputFormat.setInputPaths(job, "/input/"); FileOutputFormat.setOutputPath(job, new Path("/output")); job.waitForCompletion(true); &#125;&#125; Ê≥®Ôºö winÁ≥ªÁªüÁöÑhostsÊñá‰ª∂Ê∑ªÂä†ËôöÊãüÊú∫ÁöÑIPÂíå‰∏ªÊú∫Âêç ÈÖçÁΩÆhadoopÂú®winÁ≥ªÁªüÁöÑÁéØÂ¢ÉÂèòÈáè Run as ‚Äî‚Äî Run Configurations ‚Äî‚Äî Arguments ‚Äî‚Äî VM arguments: -DHADOOP_USER_NAME=root]]></content>
      <categories>
        <category>Big Data</category>
      </categories>
      <tags>
        <tag>Hadoop</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Yarn&Map/Reduce]]></title>
    <url>%2F2018%2F02%2F09%2FYarn-Map-Reduce%2F</url>
    <content type="text"><![CDATA[ÂàÜÂ∏ÉÂºèËÆ°ÁÆó ËÆæËÆ°ÂéüÂàôÔºöÁßªÂä®ËÆ°ÁÆóÔºå‰∏çÁßªÂä®Êï∞ÊçÆ Yarn Yarn: ËµÑÊ∫êË∞ÉÂ∫¶ ‰∏ª‰ªéÁªìÊûÑÔºöResourceManager Âíå NodeManager ResourceManager Â∞Ü‰ªªÂä°ÂàÜÈÖçÁªôÁ©∫Èó≤ÁöÑÊú∫Âô®(slave)Â∑•‰ΩúÔºåNodeManagerÂú®slave‰∏≠ÂÅöÂÖ∑‰ΩìÁöÑËµÑÊ∫êÂà©Áî®ÔºåRMÁÆ°ÁêÜNM yarn-site.xmlÁöÑÈÖçÁΩÆ ‰øÆÊîπResourceManagerÂíåNodeManagerÁöÑvim hadoop/etc/hadoop/yarn-site.xml 1234567891011121314&lt;property&gt; &lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt; &lt;value&gt;master&lt;/value&gt;&lt;/property&gt; &lt;property&gt; &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt; &lt;value&gt;mapreduce_shuffle&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;yarn.nodemanager.auxservices.mapreduce.shuffle.class&lt;/name&gt; &lt;value&gt;org.apache.hadoop.mapred.ShuffleHandler&lt;/value&gt;&lt;/property&gt; ÂêØÂä®yarnÈõÜÁæ§start-yarn.sh ËÆøÈóÆ8088Á´ØÂè£ Map/Reduce Âú® ResourceManager‰∏äÈÖçÁΩÆmapred-site.xml 1234&lt;property&gt; &lt;name&gt;mapreduce.framework.name&lt;/name&gt; &lt;value&gt;yarn&lt;/value&gt;&lt;/property&gt; ÊâßË°åÁ§∫‰æãÁ®ãÂ∫è 1hadoop jar /usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar wordcount /input/input.txt /output Êü•ÁúãËøêË°åÁªìÊûú hadoop fs -text /output/part-r-00000 Map/Reduce ÊµÅÁ®ã input split ÊãÜÂàÜÔºà‰∏ÄË°å‰∏ÄË°åÔºâ map Êò†Â∞ÑÔºàÈîÆÂÄºÂØπÔºâ shuffle Ê¥æÂèëÔºàÈîÆÂÄºÂØπÊ¥æÂèëÂà∞‰∏Ä‰∏™nodeManagerÔºâ reduce Áº©ÂáèÔºàÊåâÈîÆÁªüËÆ°ÂÄºÁöÑÂíåÔºâ output]]></content>
      <categories>
        <category>Big Data</category>
      </categories>
      <tags>
        <tag>Hadoop</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[java hdfs]]></title>
    <url>%2F2018%2F02%2F08%2Fjava-hdfs%2F</url>
    <content type="text"><![CDATA[JavaÁ®ãÂ∫èËÆøÈóÆHDFSÂØºÂÖ•ÊâÄÈúÄÁöÑjarÊñá‰ª∂ 12345678910111213&lt;!-- https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-common --&gt;&lt;dependency&gt; &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt; &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt; &lt;version&gt;2.7.3&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt;&lt;/dependency&gt;&lt;!-- https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-hdfs --&gt;&lt;dependency&gt; &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt; &lt;artifactId&gt;hadoop-hdfs&lt;/artifactId&gt; &lt;version&gt;2.7.3&lt;/version&gt;&lt;/dependency&gt; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263package dbfs;import java.io.FileInputStream;import java.math.BigDecimal;import org.apache.hadoop.conf.Configuration;import org.apache.hadoop.fs.FSDataOutputStream;import org.apache.hadoop.fs.FileStatus;import org.apache.hadoop.fs.FileSystem;import org.apache.hadoop.fs.Path;import org.apache.hadoop.io.IOUtils;public class HelloHDFS &#123; public static void main(String args[]) throws Exception &#123;// URL.setURLStreamHandlerFactory(new FsUrlStreamHandlerFactory());// URL url = new URL("hdfs://192.168.137.100:9000/hello.txt");// InputStream in = url.openStream();// IOUtils.copyBytes(in, System.out, 4096, true); Configuration conf = new Configuration(); conf.set("fs.defaultFS", "hdfs://192.168.137.100:9000"); // ‰øÆÊîπhdfsÈÖçÁΩÆÂèÇÊï∞ÂÄº conf.set("dfs.replication", "5"); FileSystem fileSystem = FileSystem.get(conf); // Âà§Êñ≠Ë∑ØÂæÑÊòØÂê¶Â≠òÂú® boolean success = fileSystem.exists(new Path("/zjm")); System.out.println(success); // Êñ∞Âª∫Ë∑ØÂæÑÔºåÊ≥®ÊÑèÂ¶ÇÊûúÂ∑≤ÁªèÂ≠òÂú®ÂêåÂêçÁõÆÂΩï‰ºöË¶ÜÁõñÂéüÁõÆÂΩïx_x success = fileSystem.mkdirs(new Path("/zjm")); System.out.println(success); // Âà†Èô§ success = fileSystem.delete(new Path("/zjm"), true); System.out.println(success); // ‰∏ä‰º†Êñá‰ª∂ FSDataOutputStream out = fileSystem.create(new Path("/test.data")); FileInputStream fis = new FileInputStream("F:learn/mashibing/hadoop/È©¨Â£´ÂÖµhadoop2.7ÂÖ•Èó®_03.mp4"); IOUtils.copyBytes(fis, out, 4096, true); fileSystem.delete(new Path("/video"), true); // ‰∏ä‰º†Êñá‰ª∂ÔºöIOÊµÅÂèØËÆ°ÁÆó‰∏ä‰º†ËøõÂ∫¶ FSDataOutputStream out = fileSystem.create(new Path("/video")); FileInputStream in = new FileInputStream("F:learn/mashibing/hadoop/È©¨Â£´ÂÖµhadoop2.7ÂÖ•Èó®_03.mp4"); int total = in.available(); byte[] buf = new byte[4096]; int len = in.read(buf); int now = len; while(len != -1) &#123; // ‰∏ä‰º†ÁôæÂàÜÊØîÔºå‰øùÁïôÂ∞èÊï∞ÁÇπÂêé‰∏§‰Ωç System.out.println(new BigDecimal((float)now/total*100).setScale(2, BigDecimal.ROUND_HALF_UP).doubleValue()); out.write(buf, 0, len); len = in.read(buf); now += len; &#125; in.close(); out.close(); // Êü•ÁúãÊñá‰ª∂ÁªìÊûÑ FileStatus[] statuses = fileSystem.listStatus(new Path("/")); for(FileStatus status: statuses) &#123; System.out.println(status.getPath()); System.out.println(status.getPermission()); System.out.println(status.getReplication()); &#125; &#125;&#125; Ê≥®ÔºöÈúÄË¶ÅÂÖ≥Èó≠ÊùÉÈôêÊ£ÄÊü•ÔºåÂêëhdfs-site.xml‰∏≠Ê∑ªÂä†Âπ∂ÈáçÂêØhdfs 1234&lt;property&gt; &lt;name&gt;dfs.permissions.enabled&lt;/name&gt; &lt;value&gt;false&lt;/value&gt;&lt;/property&gt; description: If ‚Äútrue‚Äù, enable permission checking in HDFS. If ‚Äúfalse‚Äù, permission checking is turned off, but all other behavior is unchanged. Switching from one parameter value to the other does not change the mode, owner or group of files or directories.]]></content>
      <categories>
        <category>Big Data</category>
      </categories>
      <tags>
        <tag>Hadoop</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hadoop hdfs]]></title>
    <url>%2F2018%2F02%2F06%2Fhadoop-hdfs%2F</url>
    <content type="text"><![CDATA[Âú®Â§öÂè∞ÊúçÂä°Âô®‰∏äÈÖçÁΩÆHadoop ÂêØÂä®namenodeÂíådatanode hadoop-daemon.sh start namenode(datanode) Âú®master‰∏äÊ£ÄÊµãdatanode hdfs dfsadmin -report | more Âú®webÈ°µÈù¢ËßÇÂØühadoopÈõÜÁæ§ÊÉÖÂÜµ 192.168.137.100:50070 ÈõÜ‰∏≠ÁÆ°ÁêÜSlaves Âú®/usr/local/hadoop/etc/hadoop‰∏ãÁöÑslavesÊñá‰ª∂‰∏≠Ê∑ªÂä†slavesÁöÑ‰∏ªÊú∫ÂêçÔºåÂú®master‰∏≠Â∞±ÂèØ‰ª•ÁÆ°ÁêÜÂÖ∂‰∏≠ÁöÑÊâÄÊúâslavesÔºåÂ¶ÇÔºö 123slave1slave2slave3 ÊâßË°åÔºöstart-dfs.shÔºåËæìÂÖ•master, slave, secondaryNameNodeÁöÑÂØÜÁ†Å ‰∏∫‰∫ÜÈÅøÂÖçËæìÂÖ•Â§öÊ¨°ÁöÑÂØÜÁ†ÅÔºåÂú® /.ssh ‰∏ãÊâßË°å ssh-keygen -t rsa ÂõûËΩ¶‰∏âÊ¨°ÔºåÂèëÁé∞.ssh‰∏ãÁîüÊàê‰∏§‰∏™Êñá‰ª∂Ôºöid_ras ÔºàÁßÅÈí•ÔºâÂíå id_ras.pubÔºàÂÖ¨Èí•Ôºâ ‰ªémasterÂèëÈÄÅÂÖ¨Èí•Âà∞master, slave1, slave2, slave3Ôºössh-copy-id master, ssh-copy-id slave1, ssh-copy-id slave2, ssh-copy-id slave3 ‰ª•Âêéssh IP Â∞±‰∏çÁî®ÂÜçËæìÂÖ•ÂØÜÁ†Å‰∫ÜÔºåÂÜçÊâßË°åstart-dfs.shÊó∂Â∞±‰∏çÁî®ÂÜçÊ¨°ËæìÂÖ•ÂØÜÁ†Å‰∫Ü hdfsÊñá‰ª∂Á≥ªÁªüÊåá‰ª§ hadoop fs -lsÊàñhdfs dfs -ls ÊîæÁΩÆ‰∏Ä‰∏™Êñá‰ª∂Âà∞hdfs‰∏≠Ôºöhadoop fs -put file / ÈÄöËøáÁΩëÈ°µËßÇÂØüÁé∞Ë±°Ôºöhttp://192.168.137.100:50070/explorer.html#/ Êåá‰ª§Ôºö hadoop fs -mkdir /dirname hadoop fs -text /filename Êü•ÁúãÊñáÊú¨Êñá‰ª∂ÂÜÖÂÆπ hadoop fs -rm /filename ÈÖçÁΩÆÂèÇÊï∞ ÁºñÂÜô/hadoop/etc/hadoop/hdfs-site.xml eg: ‰øÆÊîπÂ§çÂà∂ÁöÑ‰∏™Êï∞‰∏∫2‰ªΩÔºàÈªòËÆ§‰∏∫3‰ªΩÔºâÔºö 1234&lt;property&gt; &lt;name&gt;dfs.replication&lt;/name&gt; &lt;value&gt;2&lt;/value&gt;&lt;/property&gt;]]></content>
      <categories>
        <category>Big Data</category>
      </categories>
      <tags>
        <tag>Hadoop</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hadoopÈÖçÁΩÆÁéØÂ¢ÉÂèäÂêØÂä®]]></title>
    <url>%2F2018%2F02%2F05%2Fhadoop-day1%2F</url>
    <content type="text"><![CDATA[VirtualBoxÂêØÂä®ËôöÊãüÊú∫ host-onlyÊñπÂºèËøûÊé•ËôöÊãüÊú∫ ÂÆâË£ÖHadoop ËøûÊé•ËôöÊãüÊú∫ Êü•ÁúãËôöÊãüÁΩëÂç°ÁöÑIPÂú∞ÂùÄ(assume:192.168.137.1)ÔºåVMËÆæÁΩÆÁΩëÂç°Á±ªÂûã‰∏∫host-only ËÆæÁΩÆipv4Âú∞ÂùÄÔºövim /etc/sysconfig/network-scripts/ifcfg-enp03 IPADDR=192.168.137.100 NETMASK=255.255.255.0 ËÆæÁΩÆÁΩëÂÖ≥Âú∞ÂùÄÂèäÂüüÂêçËß£ÊûêÔºövim /etc/sysconfig/network NETWORKING=yes GATEWAY=192.168.137.1 DNS1=8.8.8.8 ËÆæÁΩÆËÆ°ÁÆóÊú∫‰∏äËÉΩ‰∏äÁΩëÁöÑÁΩëÂç°ÂÖ±‰∫´ÁΩëÁªúÁªôËôöÊãüÁΩëÂç° ‰øÆÊîπ‰∏ªÊú∫Âêç hostnamectl set-hostname master ÈáçÂêØnetworkÊúçÂä° service network restart ‰∫íÁõ∏ping ËôöÊãüÊú∫Ôºöping 192.168.137.1 ÁîµËÑëÔºöping 192.168.137.100 ÂÆâË£ÖHadoop ÊâìÂºÄXftp‰∏ä‰º†jdkÔºåhadoopÂÆâË£ÖÊñá‰ª∂Ëá≥/usr/localÁõÆÂΩï‰∏ã ÂÆâË£Öjdk rpm -ivh jdk-8u91-linux-x64.rpm Ëß£Âéãhadoop cd local tar -xvf hadoop-2.7.3.tar.gz ÂèëÁé∞localÁõÆÂΩï‰∏ãÂ§ö‰∫Ühadoop-2.7.3ÁöÑÁõÆÂΩï(ÊîπÂêç‰∏∫‰∫ÜÊñπ‰æøÔºömv hadoop-2.7.3 haddop) ÈÖçÁΩÆHadoop JDKË∑ØÂæÑ cd hadoop/etc/hadoop vim hadoop-env.sh export JAVA_HOME=/usr/java/default Â∞ÜhadoopÊâßË°åÂëΩ‰ª§Ê∑ªÂä†Âà∞pathÁéØÂ¢ÉÂèòÈáèÈáå vim /etc/profile Ê∑ªÂä†Ôºöexport PATH=$PATH:/usr/local/hadoop/bin:/usr/local/hadoop/sbin ÊâßË°åÔºö source /etc/profile ‰ª•ËøôÂè∞ËôöÊãüÊú∫ÂÅömasterÔºåÂ§çÂà∂Âá∫‰∏âÂè∞ËôöÊãüÊú∫ÂÅöslaverÔºåÈÖçÁΩÆIPÂíåÁΩëÂÖ≥ÔºåÊîπ‰∏ªÊú∫ÂêçÂàÜÂà´‰∏∫slave1, slave2, slave3 ÂêØÂä®HadoopÈÖçÁΩÆÊâÄÊúâËôöÊãüÊú∫1234567cd /usr/local/hadoop/etc/hadoopvim core-site.xml # masterÁÆ°ÁêÜÁªìÁÇπÔºåslaveÁü•ÈÅìmaster&lt;!-- Âú®&lt;configuration&gt;ÂÜÖÊ∑ªÂä†Ôºö--&gt;&lt;property&gt; &lt;name&gt;fs.defaultFS&lt;/name&gt; &lt;value&gt;hdfs://master:9000&lt;/value&gt;&lt;/property&gt; ‰øÆÊîπÊâÄÊúâËôöÊãüÊú∫ÁöÑhostÊñá‰ª∂ vim /etc/hosts eg 1234192.168.137.100 master192.168.137.101 slave1192.168.137.102 slave2192.168.137.103 slave3 Ê†ºÂºèÂåñnamenode(‰ªÖmaster) hdfs namenode -format ÂêØÂä®namenode(‰ªÖmaster) hadoop-daeman.sh start namenode ËæìÂÖ•jpsÔºåÂá∫Áé∞NameNodeÂàônamenodeÂêØÂä® ÂêØÂä®datanode(slaver) hadoop-daemon.sh start datanode]]></content>
      <categories>
        <category>Big Data</category>
      </categories>
      <tags>
        <tag>Hadoop</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[laravelÂü∫Á°Ä]]></title>
    <url>%2F2017%2F09%2F13%2Flaravel%E5%9F%BA%E7%A1%80%2F</url>
    <content type="text"><![CDATA[ÂÆâË£ÖÈîôËØØ solution: ÊâìÂºÄËøêË°åÁéØÂ¢É‰∏≠ÁöÑphp.iniÔºåÁî®Âø´ÈÄüÊü•ÊâæÊâæÂà∞ extension=php_openssl.dll Ê≠§È°πÔºåÁÑ∂ÂêéÊääËØ•‰ª£Á†ÅÂâçÈù¢ÁöÑÂàÜÂè∑ÂéªÊéâÔºåÊúÄÂêéÈáçÂêØËøêË°åÁéØÂ¢ÉÔºåÂà∑Êñ∞È°µÈù¢ Ë∑ØÁî± ‰ΩúÁî®: Â∞ÜËØ∑Ê±ÇÊò†Â∞ÑÂà∞Á®ãÂ∫èÔºàÂ§ÑÁêÜÂáΩÊï∞Ôºâ laravel/app/Http/routes.php: Âü∫Á°ÄË∑ØÁî± 123Route::get('basic1',function () &#123; return 'Hello World';&#125;); Â§öËØ∑Ê±ÇË∑ØÁî± 123Route::match(['get','post'], 'multy', function () &#123; return 'multy';&#125;); ÊâÄÊúâËØ∑Ê±ÇÁßçÁ±ªË∑ØÁî± 123Route::any('allRequest',function() &#123; return 'all request';&#125;); Ë∑ØÁî±ÂèÇÊï∞ 123Route::get('user/&#123;id&#125;/&#123;name?&#125;',function ($id,$name=null) &#123; return 'User-id'.$id.'User-name:'.$name;&#125;)-&gt;where(['id'=&gt;'[0-9]+','name'=&gt;'[A-Za-z]+']); Ë∑ØÁî±Âà´Âêç 123Route::get('user/center',['as'=&gt;'center', function() &#123; return route('center');&#125;]); Ë∑ØÁî±Áæ§ÁªÑ 12345678Route::group(['prefix'=&gt;'member'], function ()&#123; Route::get('basic2',function() &#123; return 'Basic2'; &#125;); Route::get('user/center',['as'=&gt;'center', function() &#123; return route('center'); &#125;]);&#125;); Ë∑ØÁî±ËæìÂá∫ËßÜÂõæ 123Route::get('view', function ()&#123; return view('welcome');&#125;); ÊéßÂà∂Âô® laravel/app/Http/Controllers: Ë∑ØÁî±Â∞ÜËØ∑Ê±ÇÂèëÈÄÅÁªôÊéßÂà∂Âô®ÔºåÊéßÂà∂Âô®Â§ÑÁêÜËØ∑Ê±ÇÂπ∂ËøîÂõûÁõ∏Â∫î Ë∑ØÁî±ÂíåÊéßÂà∂Âô®‰∏≠ÁöÑÊñπÊ≥ïÂÖ≥ËÅîÔºö 1234567891011Route::get('member/info','MemberController@info');Route::get('member/info',['uses'=&gt;'MemberController@info']);Route::get('member/info',[ 'uses' =&gt; 'MemberController@info', 'as' =&gt; 'member_info']);Route::get('member/find/&#123;id&#125;','MemberController@find')-&gt;where('id','[0-9]+'); ÊéßÂà∂Âô®‰∏≠ÊúâÂØπÂ∫îË∑ØÁî±ËØ∑Ê±ÇÁöÑÂáΩÊï∞Ôºö 12345678910111213141516171819namespace App\Http\Controllers;class MemberController extends Controller &#123; public function info() &#123; //return 'member-info'; return route('member_info'); &#125; // Êé•Êî∂ËØ∑Ê±ÇÂèÇÊï∞ public function find($id) &#123; return 'member'.$id; &#125; // ËøîÂõû‰∏Ä‰∏™ËßÜÂõæÔºåÂêëËßÜÂõæ‰∏≠‰º†ÈÄíÊï∞ÊçÆ public function toInfo() &#123; return view('member/info',[ 'name' =&gt; 'shaun', 'age' =&gt; 18 ]); &#125;&#125; ËßÜÂõæ laravel/resources/views: ÊéßÂà∂Âô®ÁöÑÊñπÊ≥ïËøîÂõû‰∏Ä‰∏™ËßÜÂõæÔºåÂπ∂‰º†ÈÄíÂèÇÊï∞ÁªôËßÜÂõæÔºåËßÜÂõæ‰ΩøÁî®Ê®°ÊùøËß£ÊûêÂ±ïÁ§∫Êï∞ÊçÆ laravel ÈªòËÆ§Ê®°ÊùøÊñá‰ª∂Âêç‰∏∫Ôºöxxx.blade.php Áî® ÁöÑÂΩ¢ÂºèËé∑ÂèñÂèòÈáèÂÄº Ê®°Âûã laravel/app: 123456789namespace App;use Illuminate\Database\Eloquent\Model;class Member extends Model &#123; public static function getMember() &#123; return 'member name is shaun'; &#125;&#125; Êï∞ÊçÆÂ∫ìÊìç‰ΩúDB facade ÈÖçÁΩÆÔºölaravel/config/database.php laravel/.env ‰ΩøÁî® DB facade ÂÆûÁé∞ CURD 1234567891011121314151617181920212223namespace App\Http\Controllers;use Illuminate\Support\Facades\DB;class UserController extends Controller &#123; public function curd() &#123; // ËøîÂõûÊòØÂê¶ÊèíÂÖ•ÊàêÂäü $bool = DB::insert('insert into user(name,sex,phone,email) VALUES(?,?,?,?) ', ['zcl','1','1365656556','zcl@163.com']); var_dump($bool); // ËøîÂõûÊü•ËØ¢ÁªìÊûúÁöÑÊï∞ÁªÑ $users = DB::select('select* from user'); dd($users); // jsonÊ†ºÂºè // ËøîÂõûÂèòÂä®ÁöÑÊï∞Èáè $num = DB::update('update user set age=? where name = ?', [18,'zjm']); var_dump($num); // ËøîÂõûÂà†Èô§ÁöÑÊù°Êï∞ $num = DB::delete('delete from user where id=?', [3]); var_dump($num); &#125;&#125; Êü•ËØ¢ÊûÑÈÄ†Âô® Laravel Êü•ËØ¢ÊûÑÈÄ†Âô® (query builder) Êèê‰æõÊé•Âè£ÔºåÁî®Êù•Âª∫Á´ãÂèäÊâßË°åÊï∞ÊçÆÂ∫ìÊü•ÊâæËØ≠Ê≥ï ‰ΩøÁî® PDO ÂèÇÊï∞ÁªëÂÆöÔºå‰ª•‰øùÊä§Â∫îÁî®Á®ãÂ∫èÂÖç‰∫é SQL Ê≥®ÂÖ•Ôºå‰º†ÂÖ•ÁöÑÂèÇÊï∞‰∏çÈúÄË¶ÅÈ¢ùÂ§ñËΩ¨‰πâÁâπÊÆäÂ≠óÁ¨¶ Âü∫Êú¨ÂèØ‰ª•Êª°Ë∂≥ÊâÄÊúâÁöÑÊï∞ÊçÆÂ∫ìÊìç‰Ωú ‰ΩøÁî®Êü•ËØ¢ÊûÑÈÄ†Âô®Êñ∞Â¢ûÊï∞ÊçÆ 123456789101112131415161718// ËøîÂõûboolÊèíÂÖ•ÊòØÂê¶ÊàêÂäüDB::table('user')-&gt;insert([ 'name' =&gt; 'ms', 'sex' =&gt; '0', 'age' =&gt; '18', 'phone' =&gt; '13666666666', 'email' =&gt; 'maoshuo@gmail.com']);// ËøîÂõûÊèíÂÖ•ÁöÑ id$id = DB::table('user')-&gt;insertGetId([ 'name' =&gt; 'shaun', 'age' =&gt; 19]);// ÊèíÂÖ•Â§öÊù°ËÆ∞ÂΩïÔºå‰∫åÁª¥Êï∞ÁªÑÂ≠òÊîæ‰ø°ÊÅØÔºåËøîÂõûboolDB::table('user')-&gt;insert([ ['name' =&gt; 'Âº†‰∏â', 'age' =&gt; 21], ['name' =&gt; 'ÊùéÂõõ', 'age' =&gt; 22],]); ‰ΩøÁî®Êü•ËØ¢ÊûÑÈÄ†Âô®Êõ¥Êñ∞Êï∞ÊçÆ Êõ¥Êñ∞Êï∞ÊçÆ Ëá™Â¢ûËá™Âáè 123456789101112// ËøîÂõûÂèóÂΩ±ÂìçÁöÑË°åÊï∞$num = DB::table('user') -&gt;where('id',7) -&gt;update([ 'name' =&gt; 'zjm' ]);var_dump($num);// Ëá™ÂáèÂêåÊó∂Êõ¥Êñ∞Â≠êÊÆµÂÄº$num = DB::table('user') -&gt;where(['id'=&gt;7]) // -&gt;where('id',7) -&gt;decrement('age',3, ['name' =&gt; 'zjmhaha']); //increment Ëá™Â¢û decrement Ëá™Âáèvar_dump($num); ‰ΩøÁî®Êü•ËØ¢ÊûÑÈÄ†Âô®Âà†Èô§Êï∞ÊçÆ delete trancate‚Äî‚ÄîÊ∏ÖÁ©∫Ë°®‚Ä¶ 12345678$num = DB::table('user') -&gt;where('id',7) -&gt;delete();var_dump($num);$num = DB::table('user') -&gt;where('id', '&gt;=', 13) -&gt;delete();var_dump($num); ‰ΩøÁî®Êü•ËØ¢ÊûÑÈÄ†Âô®Êü•ËØ¢Êï∞ÊçÆ get()‚Äî‚ÄîËé∑ÂèñÁªìÊûúÈõÜÊâÄÊúâÊï∞ÊçÆ first()‚Äî‚ÄîËé∑ÂèñÁªìÊûúÈõÜ‰∏≠Á¨¨‰∏ÄÊù° where()‚Äî‚ÄîÊü•ËØ¢Êù°‰ª∂ÔºåwhereRaw()‚Äî‚ÄîÂ§öÊù°‰ª∂Êü•ËØ¢ pluck()‚Äî‚ÄîËøîÂõûÁªìÊûúÈõÜ‰∏≠ÊåáÂÆöÁöÑÂ≠óÊÆµ lists()‚Äî‚ÄîÁ±ª‰ººpluck select()‚Äî‚ÄîÊü•ËØ¢ÊåáÂÆöÁöÑÂ≠óÊÆµ chunk() ‚Äî‚ÄîÂàÜÈ°µËøîÂõûÊâÄÊúâÁªìÊûúÈõÜ 1234567891011121314151617181920212223242526272829public function search() &#123; // get() Ëé∑ÂèñË°®‰∏≠ÊâÄÊúâÊï∞ÊçÆ $users = DB::table('user')-&gt;get(); // first Ëé∑ÂèñÁªìÊûúÈõÜÁ¨¨‰∏ÄÊù° $users = DB::table('user') -&gt;orderBy('id','desc') // ÂÄíÂ∫è -&gt;first(); $users = DB::table('user') -&gt;where('age','&gt;=',20) -&gt;get(); // Â§öÊù°‰ª∂Êü•ËØ¢ $users = DB::table('user') -&gt;whereRaw('id &gt;= ? and age &gt; ?', [2, 20]) -&gt;get(); // pluck ËøîÂõûÁªìÊûúÈõÜ‰∏≠ÊåáÂÆöÁöÑÂ≠óÊÆµ $name = DB::table('user')-&gt;pluck('name'); //$name = DB::table('user')-&gt;lists('name', 'id'); //dd($name); //select Êü•ËØ¢ÊåáÂÆöÁöÑÂ≠óÊÆµ $users = DB::table('user') -&gt;select('id','name','age') -&gt;get(); // chunk echo '&lt;pre&gt;'; $num = DB::table('user')-&gt;chunk(2, function($users) &#123; var_dump($users); &#125;); var_dump($num); &#125; Êü•ËØ¢ÊûÑÈÄ†Âô®‰∏≠ÁöÑËÅöÂêàÂáΩÊï∞ count() max() min() avg() sum() 12345678// ËÅöÂêàÂáΩÊï∞public function aggregate() &#123; $num = DB::table('user')-&gt;count(); $num = DB::table('user')-&gt;max('age'); $num = DB::table('user')-&gt;min('age'); $num = DB::table('user')-&gt;avg('age'); $num = DB::table('user')-&gt;sum('age');&#125; Êï∞ÊçÆÂ∫ìÊìç‰Ωú-Eloquent ORM Êï∞ÊçÆË°®Âíå‰∏Ä‰∏™Áõ∏ÂØπÂ∫îÁöÑÊ®°Âûã (Model) Áî®‰∫éÂíåÊï∞ÊçÆË°®‰∫§‰∫í Êü•ËØ¢ÊûÑÈÄ†Âô®Âú®ORM‰∏≠‰æùÊóßÊúâÂ∫îÁî® Ê®°ÂûãÂª∫Á´ã laravel/app: 12345678910namespace App;use Illuminate\Database\Eloquent\Model;class Student extends Model &#123; // ÊåáÂÆöË°®ÂêçÔºåÈªòËÆ§‰∏∫ students protected $table = 'student'; // ÊåáÂÆöid,ÈªòËÆ§‰∏∫id protected $id = 'id';&#125; ORM Êü•ËØ¢123456789101112131415161718192021public function orm() &#123; // Êü•ËØ¢ÊâÄÊúâ $students = Student::all(); // Êåâ‰∏ªÈîÆÊü•ËØ¢ $student = Student::find(1); // Êâæ‰∏çÂà∞idÊä•Èîô $student = Student::findOrFail(2); // Êü•ËØ¢ÊûÑÈÄ†Âô®Âú®ORM‰∏≠‰ΩøÁî® $students = Student::get(); $student = Student::where('age','&gt;',18) -&gt;orderBy('age','desc') -&gt;first(); dd($student); echo '&lt;pre&gt;'; Student::chunk(2, function ($students) &#123; var_dump($students); &#125;); $num = Student::count(); $max = Student::where('age','&gt;',18)-&gt;max('age'); var_dump($max); &#125; ORM‰∏≠Êñ∞Â¢ûÔºåËá™ÂÆö‰πâÊó∂Èó¥Êà≥ÂèäÊâπÈáèËµãÂÄº ÈÄöËøáÊ®°ÂûãÊñ∞Â¢ûÊï∞ÊçÆÔºàËá™ÂÆö‰πâÊó∂Èó¥Êà≥Ôºâ ‰ΩøÁî®Ê®°ÂûãÁöÑCreateÊñπÊ≥ïÊñ∞Â¢ûÊï∞ÊçÆÔºàÊâπÈáèËµãÂÄºÔºâ Ê®°ÂûãÂ±ûÊÄßÁöÑÂÆö‰πâÔºåÊñπÊ≥ïÈáçÂÜô123456789101112131415161718192021222324252627namespace App;use Illuminate\Database\Eloquent\Model;class Student extends Model &#123; // ÊåáÂÆöË°®ÂêçÔºåÈªòËÆ§‰∏∫ students protected $table = 'student'; // ÊåáÂÆöid,ÈªòËÆ§‰∏∫id protected $id = 'id'; // ÊåáÂÆöÂÖÅËÆ∏ÊâπÈáèËµãÂÄºÁöÑÂ≠óÊÆµ protected $fillable = ['name', 'age']; // ÊåáÂÆö‰∏çÂÖÅËÆ∏ÊâπÈáèËµãÂÄºÁöÑÂ≠óÊÆµ// protected $guarded = []; // ÂÖ≥Èó≠created_at Âíå updated_at public $timestamps = true; // Ëá™ÊÑè‰πâËøîÂõûÊó∂Èó¥Êà≥ /*protected function getDateFormat() &#123; return time(); &#125;*/ // /*protected function asDateTime( $value ) &#123; return $value; &#125;*/&#125; Ê≥®ÔºöÁî±‰∫élaravelËá™ÂÆö‰πâÊ∑ªÂä†ÁöÑcreated_atÊó∂Èó¥‰∏çÊòØÂåó‰∫¨Êó∂Èó¥ÔºåÂèØ‰ª•Â∞ÜÊï∞ÊçÆÂ∫ì created_atÂ≠óÊÆµÁ±ªÂûãÊîπ‰∏∫ intÔºåÈáçÂÜôÊ®°ÂûãÁöÑ getDateFormat()ÊñπÊ≥ïÔºåÂ¶ÇÊûúÂ∏åÊúõËøîÂõûÊó∂Èó¥Êà≥(Êï∞Â≠óÂΩ¢Âºè)ÔºåÂÜçÈáçÂÜôasDateTime()ÂáΩÊï∞ ÂõõÁßçÂ∏∏Áî®ÁöÑORMÊñ∞Â¢û1234567891011121314151617181920212223242526272829public function orm2() &#123; // ‰ΩøÁî®Ê®°ÂûãÊñ∞Â¢ûÊï∞ÊçÆ /*$student = new Student(); $student-&gt;name = 'ms'; $student-&gt;age = 18; $bool = $student-&gt;save(); dd($bool);*/ /*$Student = Student::find(3); echo $Student-&gt;created_at.'&lt;br&gt;'; echo date('Y-m-d H:i:s', 1464509164);// Âè™ÂØπ‰∫éÊï∞Â≠óÊó∂Èó¥Êà≥*/ // ‰ΩøÁî®Ê®°ÂûãÁöÑCreateÊñπÊ≥ïÊñ∞Â¢ûÊï∞ÊçÆÔºåËøôÈáåÁöÑÂ±ûÊÄßÂøÖÈ°ª‰∏∫Ê®°Âûã‰∏≠ÊåáÂÆöÂÖÅËÆ∏ÊâπÈáèËµãÂÄºÁöÑÂ≠óÊÆµ /*$student = Student::create([ 'name' =&gt; 'zjm', 'age' =&gt; 18 ]); dd($student);*/ //firstOrCreate() ÊåâÂ±ûÊÄßÊü•ÊâæÔºåÊ≤°ÊúâÊâæÂà∞ÂàôÊñ∞Âä† /*$student = Student::firstOrCreate([ 'name' =&gt; 'zjm22333' ]); dd($student);*/ //firstOrNew() ÊåâÂ±ûÊÄßÊü•ÊâæÔºåÊ≤°ÊúâÂàôÂª∫Á´ãÊñ∞ÁöÑÂÆû‰æãÔºåËá™Â∑±Ë∞ÉÁî®save()‰øùÂ≠ò $student = Student::firstOrNew([ 'name' =&gt; 'zjm123123' ]); $student-&gt;save(); dd($student); &#125; Ê≥®Ôºö ‰ΩøÁî®Ê®°ÂûãÁöÑCreateÊñπÊ≥ïÊñ∞Â¢ûÊï∞ÊçÆÔºåËøôÈáåÁöÑÂ±ûÊÄßÂøÖÈ°ª‰∏∫Ê®°Âûã‰∏≠ÊåáÂÆöÂÖÅËÆ∏ÊâπÈáèËµãÂÄºÁöÑ ‰ΩøÁî®Eloquent ORM‰øÆÊîπÊï∞ÊçÆ ÈÄöËøáÊ®°ÂûãÊõ¥Êñ∞ ÁªìÂêàÊü•ËØ¢ËØ≠Âè• ÊâπÈáèÊõ¥Êñ∞ 1234567$student = Student::find(8);$student-&gt;name = 'shaun';$bool = $student-&gt;save();var_dump($bool);Student::where('id','&gt;',7)-&gt;update([ 'age' =&gt; 23]); Ê≥®Ôºö ‰ΩøÁî®ORMÁöÑsave()ÊñπÊ≥ïÊõ¥Êñ∞Â≠êÊÆµÂøÖÈ°ª‰ΩøÊ®°ÂûãÁöÑ‰∏ªÈîÆÂíåÊï∞ÊçÆÂ∫ìË°®‰∏ªÈîÆÁõ∏ÂêåÔºåÂåÖÊã¨Â§ßÂ∞èÂÜô Ê®°Âûã‰∏≠ÈªòËÆ§‰∏ªÈîÆÂêçÔºöid ÈáçÂÜôÊ®°Âûã‰∏≠‰∏ªÈîÆÂêçÔºöprotected $primaryKey = &#39;Id&#39;; ‰ΩøÁî®Eloquent ORMÂà†Èô§Êï∞ÊçÆ ÈÄöËøáÊ®°ÂûãÂà†Èô§ ÈÄöËøá‰∏ªÈîÆÂÄºÂà†Èô§ Ê†πÊçÆÊåáÂÆöÊù°‰ª∂Âà†Èô§ 123456789// ÈÄöËøáÊ®°ÂûãÂà†Èô§ÔºàÊ≤°Êúâ‰ºöÊä•ÈîôÔºâ$student = Student::find(9);$bool = $student-&gt;delete();// ÈÄöËøá‰∏ªÈîÆÂà†Èô§,ËøîÂõûÂà†Èô§‰∏™Êï∞$num = Student::destroy(7);$num = Student::destroy(7,8,9);$num = Student::destroy([7,8,9]);// Êù°‰ª∂Âà†Èô§$num = Student::where('id', '&gt;', 6)-&gt;delete(); BladeÊ®°ÊùøÂºïÊìéBladeÊ®°ÊùøÂºïÊìéÁÆÄ‰ªãÂèäÊ®°ÊùøÁªßÊâøÁöÑ‰ΩøÁî® È°µÈù¢ÂÖ¨ÂÖ±ÁöÑÈÉ®ÂàÜÊèêÂèñÂá∫Êù•ÂΩ¢Êàê‰∏Ä‰∏™Áà∂Á±ªÔºåÊñπ‰æøÂºÄÂèëÂíåÁª¥Êä§ @section‚Ä¶@show @yield 12345@extends(&apos;layouts&apos;)&lt;!-- ÁªßÊâø views‰∏ãÁöÑÂü∫Á±ªËßÜÂõæ --&gt;@section(&apos;header&apos;) @parent &lt;!-- Áà∂Ê®°ÊùøÂÜÖÂÆπ --&gt; self_content@stop Âü∫Á°ÄËØ≠Ê≥ïÂèäincludeÁöÑ‰ΩøÁî® Âú®ÊéßÂà∂Âô®‰∏≠ËøîÂõûËßÜÂõæÂπ∂‰º†ÂÖ•ÂèÇÊï∞ 123return view('student.section1', [ 'name' =&gt; $name]); Âú®Ê®°Êùø‰∏≠ËæìÂá∫ÂèÇÊï∞ÂÄº 1234567891011121314151617&gt; &#123;&#123; $name &#125;&#125;&gt; &lt;!-- Ë∞ÉÁî®phpÂáΩÊï∞ÔºåÊâßË°åphp‰ª£Á†Å --&gt;&gt; &#123;&#123; time() &#125;&#125;&gt; &#123;&#123; date(&apos;Y-m-d H:i:s&apos;, time()) &#125;&#125;&gt; &#123;&#123; in_array($name, $arr) ? &apos;true&apos; : &apos;false&apos;&#125;&#125;&gt; &#123;&#123; var_dump($arr) &#125;&#125;&gt; &lt;!-- Â≠òÂú®ËæìÂá∫Ôºå‰∏çÂ≠òÂú®ËæìÂá∫ÈªòËÆ§ --&gt;&gt; &#123;&#123; isset($name) ? $name:&apos;default&apos; &#125;&#125;&gt; &lt;!-- ÂèØÁÆÄÂåñ‰∏∫Ôºö --&gt;&gt; &#123;&#123; $name or &apos;default&apos; &#125;&#125;&gt; &lt;!-- ÂéüÊ†∑ËæìÂá∫ --&gt;&gt; @&#123;&#123; $name &#125;&#125;&gt; &lt;!-- Ê®°Êùø‰∏≠ÁöÑÊ≥®ÈáäÔºö‰∏çÂú®È°µÈù¢Ê∫êÁ†Å‰∏≠ÊòæÁ§∫ --&gt;&gt; &#123;&#123; -- ‰Ω†ÁöÑÊ≥®Èáä -- &#125;&#125;&gt; &lt;!-- ÂºïÂÖ•Â≠êËßÜÂõæ --&gt;&gt; @include(&apos;student.common1&apos;)&gt; ÊµÅÁ®ãÊéßÂà∂123456789101112131415161718192021222324252627282930@if ($name == &apos;zzz&apos;) I&apos;m zzz@elseif($name == &apos;aaa&apos;) I&apos;m aaa@else ...@endif@if(in_array($name, $arr)) true@else false@endif@unless($name == &apos;zjm&apos;) &lt;!--ifÁöÑÂèñÂèç--&gt; I&apos;m zjm@endunless@for($i=0; $i &lt; 10; $i++) &#123;&#123; $i &#125;&#125;@endfor @foreach($students as $student) &lt;p&gt;&#123;&#123; $student-&gt;name &#125;&#125;&lt;/p&gt; @endforeach@forelse($students as $student) &lt;p&gt;&#123;&#123; $student-&gt;name &#125;&#125;&lt;/p&gt; @empty &lt;p&gt;Êó†Êï∞ÊçÆ&lt;/p&gt; @endforelse Ê®°Êùø‰∏≠ÁöÑURL url()‚Äî‚ÄîÈÄöËøáË∑ØÁî±ÂêçÂ≠ó action()‚Äî‚ÄîÈÄöËøáÂà∂ÂÆöÊéßÂà∂Âô®ÁöÑÊñπÊ≥ïÂêç route()‚Äî‚ÄîÈÄöËøáË∑ØÁî±Âà´Âêç 123&lt;a href="&#123;&#123; url('url) &#125;&#125;"&gt;&lt;/a&gt; &lt;a href="&#123;&#123; action('StudentController.urlTest') &#125;&#125;"&gt;&lt;/a&gt; &lt;a href="&#123;&#123; route('url') &#125;&#125;"&gt;&lt;/a&gt; `]]></content>
      <categories>
        <category>webÊúçÂä°</category>
      </categories>
      <tags>
        <tag>phpÊ°ÜÊû∂</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê±ÇÊâÄÊúâLCSÁöÑÁÆÄÂçïÁÆóÊ≥ïÂèäÁü©ÈòµÊêúÁ¥¢ÁÆóÊ≥ï]]></title>
    <url>%2F2017%2F08%2F21%2FLCS%2F</url>
    <content type="text"><![CDATA[Âä®ÊÄÅËßÑÂàí‚Äî‚ÄîÊúÄÈïøÂÖ¨ÂÖ±Â≠êÂ∫èÂàóÔºàLCSÔºâËÉåÊôØÁü•ËØÜ Â≠êÂ∫èÂàóÔºö ÂéüÂ∫èÂàó XÔºåÂ∞Ü X ‰∏≠ÁöÑÂÖÉÁ¥†ÁªÑÊàêÊñ∞Â∫èÂàó ZÔºåËøô‰∫õÂÖÉÁ¥†ÁöÑÂÖàÂêé‰ΩçÁΩÆ‰∏éÂéüÂ∫èÂàóÁõ∏ÂØπ‰∏ÄËá¥ÔºåZ ÊòØ X ÁöÑ‰∏Ä‰∏™Â≠êÂ∫èÂàó ÊúÄÈïøÂÖ¨ÂÖ±Â≠êÂ∫èÂàóÔºö Ëã• Z ÊòØ X ÁöÑÂ≠êÂ∫èÂàó , Z ‰πüÊòØ Y ÁöÑÂ≠êÂ∫èÂàóÔºå‰∏î‰∏çÂ≠òÂú®ÊØî Z Êõ¥ÈïøÁöÑ X Âíå Y ÁöÑÂÖ¨ÂÖ±Â≠êÂ∫èÂàóÔºåÂàôÁß∞ Z ÊòØ X Âíå Y ÁöÑÊúÄÈïøÂÖ¨ÂÖ±Â≠êÂ∫èÂàó ÔºåËÆ∞‰∏∫ Z ‚ààLCS( X , Y) „ÄÇÊúÄÈïøÂÖ¨ÂÖ±Â≠êÂ∫èÂàóÂæÄÂæÄ‰∏çÊ≠¢‰∏Ä‰∏™ eg: X = { AÔºåBÔºåCÔºåBÔºåDÔºåAÔºåB }ÔºåY = { BÔºåDÔºåCÔºåAÔºåBÔºåA }ÔºåÂàô { BÔºåCÔºåBÔºåA } ÊòØ X Âíå Y ÁöÑ‰∏ÄÊù°ÂÖ¨ÂÖ±Â≠êÂ∫èÂàóÔºåÁî±‰∫éÊ≤°ÊúâÊõ¥ÈïøÁöÑÂÖ¨ÂÖ±Â≠êÂ∫èÂàóÔºåÊïÖ‰πüÊòØ‰∏ÄÊù°ÊúÄÈïøÂÖ¨ÂÖ±Â≠êÂ∫èÂàó ÊúÄÈïøÂÖ¨ÂÖ±Â≠êÂ∫èÂàóÁöÑÁªìÊûÑ Âú®Á©∑‰∏æÊ≥ï‰∏≠ÔºåÂ∞Ü X ‰∏≠ÊâÄÊúâÂ≠êÂ∫èÂàóÔºåÊ£ÄÊü•ÂÆÉÊòØÂê¶‰πüÊòØ Y ÁöÑÂ≠êÂ∫èÂàóÔºåÁ°ÆÂÆöÊòØÂÖ¨ÂÖ±Â≠êÂ∫èÂàóÂêéËÆ∞ÂΩïÊúÄÈïøÁöÑÂÖ¨ÂÖ±Â≠êÂ∫èÂàó„ÄÇËÆæ X Êúâ m ‰∏™ÂÖÉÁ¥†ÔºåÂàôÂÆÉÁöÑÂ≠êÂ∫èÂàóÊúâ 2m‰∏™ÔºåÁ©∑‰∏æÊ≥ïÈúÄË¶ÅÊåáÊï∞Êó∂Èó¥ ÊúÄÈïøÂÖ¨ÂÖ±Â≠êÂ∫èÂàóÂÖ∑ÊúâÊúÄ‰ºòÂ≠êÁªìÊûÑ ËÆæÂ∫èÂàó X = { x1Ôºåx2Ôºå¬∑¬∑¬∑Ôºåxm } Âíå Y = { y1Ôºåy2Ôºå¬∑¬∑¬∑Ôºåyn } ÁöÑÊúÄÈïøÂÖ¨ÂÖ±Â≠êÂ∫èÂàó‰∏∫ Z = { z1Ôºåz2Ôºå¬∑¬∑¬∑Ôºåzk }ÔºåÂàô Ëã• xm = ynÔºåÂàô zk = xm = ynÔºå‰∏îZk-1 ÊòØ Xm-1 Âíå Yn-1 ÁöÑÊúÄÈïøÂÖ¨ÂÖ±Â≠êÂ∫èÂàó Ëã• xm ‚â† ynÔºå‰∏î zk ‚â† xmÔºåÂàô Z ÊòØ Xm-1 Âíå Y ÁöÑÊúÄÈïøÂÖ¨ÂÖ±Â≠êÂ∫èÂàó Ëã• xm ‚â† ynÔºå‰∏î zk ‚â† ynÔºåÂàô Z ÊòØ X Âíå Yn-1 ÁöÑÊúÄÈïøÂÖ¨ÂÖ±Â≠êÂ∫èÂàó Â≠êÈóÆÈ¢òÁöÑÈÄíÂΩíÁªìÊûÑ Â¶ÇÊûú‰ªéÈ°∂Âêë‰∏ãËÆ°ÁÆóÔºåÂ∞ÜÂá∫Áé∞Â§ßÈáèÁöÑÂ≠êÈóÆÈ¢òÈáçÂè†‚Ä¶Âä®ÊÄÅËßÑÂàíÁöÑÂü∫Êú¨ÊÄùÊÉ≥ÊòØ‰ªé‰ΩéÂêë‰∏äËÆ°ÁÆó‰∏çÂêåÂ≠êÈóÆÈ¢òÔºåÈÄöËøáÂ∫ïÈÉ®Â≠êÈóÆÈ¢òÁöÑËß£ÔºåÂæóÂá∫È°∂ÈÉ®ÈóÆÈ¢òÁöÑËß£„ÄÇÊúÄÁªàÁõÆÁöÑÊòØÂæóÂà∞ÊúÄÈ°∂‰∏äÈóÆÈ¢òÁöÑËß£„ÄÇ Âª∫Á´ã‰∏§‰∏™Áü©Èòµ c Âíå bÔºåÁü©Èòµ c Áî®Êù•Â≠òÊîæ i, j ‰ΩçÁΩÆÁöÑÊúÄÈïøÂÖ¨ÂÖ±Â≠êÂ∫èÂàóÈïøÂ∫¶(ÁÆÄËÆ∞‰∏∫LCSÈïøÂ∫¶)ÔºåÁü©Èòµ b Â≠òÊîæi, j ‰ΩçÁΩÆÊòØÁî±Âì™‰∏™ÊñπÂêëÊù•ÁöÑÔºåÊñπ‰æøÂõûÊ∫Ø Âª∫Á´ãÈÄíÂΩíÂÖ≥Á≥ªÂ¶Ç‰∏ãÔºö c[i,j]={0,i=0 or j=0c[i‚àí1,j‚àí1]+1,i,j&gt;0 and xi=yjmax(c[i‚àí1,j],c[i,j‚àí1]),i,j&gt;0 and xi‚â†yjc[i,j]=\begin{cases} 0, &amp; i=0\ or\ j=0\\ c[i-1,j-1]+1,&amp;i,j&gt;0\ and\ x_i=y_j\\ max(c[i-1,j],c[i,j-1]), &amp;i,j&gt;0\ and\ x_i\ne y_j \end{cases} c[i,j]=‚Äã‚é©‚Äã‚é™‚Äã‚é®‚Äã‚é™‚Äã‚éß‚Äã‚Äã‚Äã0,‚Äãc[i‚àí1,j‚àí1]+1,‚Äãmax(c[i‚àí1,j],c[i,j‚àí1]),‚Äã‚Äã‚Äãi=0 or j=0‚Äãi,j&gt;0 and x‚Äãi‚Äã‚Äã=y‚Äãj‚Äã‚Äã‚Äãi,j&gt;0 and x‚Äãi‚Äã‚Äã‚â†y‚Äãj‚Äã‚Äã‚Äã‚Äã b[i,j]={1,i,j&gt;0 and xi=yj2,i,j&gt;0 and xi‚â†yj and c[i‚àí1,j]&gt;c[i,j‚àí1]3,i,j&gt;0 and xi‚â†yj and c[i‚àí1,j]‚â§c[i,j‚àí1] b[i,j]=\begin{cases} 1,&amp;i,j&gt;0\ and\ x_i=y_j\\ 2, &amp;i,j&gt;0\ and\ x_i\ne y_j\ and\ c[i-1,j]&gt;c[i,j-1]\\ 3, &amp;i,j&gt;0\ and\ x_i\ne y_j\ and\ c[i-1,j]\leq c[i,j-1] \end{cases} b[i,j]=‚Äã‚é©‚Äã‚é™‚Äã‚é®‚Äã‚é™‚Äã‚éß‚Äã‚Äã‚Äã1,‚Äã2,‚Äã3,‚Äã‚Äã‚Äãi,j&gt;0 and x‚Äãi‚Äã‚Äã=y‚Äãj‚Äã‚Äã‚Äãi,j&gt;0 and x‚Äãi‚Äã‚Äã‚â†y‚Äãj‚Äã‚Äã and c[i‚àí1,j]&gt;c[i,j‚àí1]‚Äãi,j&gt;0 and x‚Äãi‚Äã‚Äã‚â†y‚Äãj‚Äã‚Äã and c[i‚àí1,j]‚â§c[i,j‚àí1]‚Äã‚Äã Âõæ‰∏≠Âè≥‰∏ãËßí 5(2) Ë°®Á§∫ (8, 8) ‰ΩçÁΩÆÁöÑLCSÈïøÂ∫¶‰∏∫5ÔºåÁî±‰∏äÈù¢ÁöÑ‰ΩçÁΩÆ (7, 8) ÂæóÂà∞ Âè≥‰∏ãËßíÁöÑÂÄºÂ∞±ÊòØLCSÈïøÂ∫¶Ôºå‰ªéËØ•ÁÇπÈÄöËøáÁü©Èòµ b ÂõûÊ∫ØÔºåÈÅáÂà∞ 2 Âêë‰∏äËµ∞ÔºåÈÅáÂà∞ 3 ÂêëÂ∑¶Ëµ∞ÔºåÈÅáÂà∞ 1 Êñú‰∏äËµ∞ÔºåÂΩìÈÅáÂà∞ËæπÁºòÊó∂(i=0 Êàñ j=0)ÂÅúÊ≠¢ÔºåÊó¢ÂèØ‰ª•ÂæóÂà∞‰∏ÄÊù°ÊúÄÈïøÂÖ¨ÂÖ±Â≠êÂ∫èÂàó ËøôÊ†∑ÂÅöÂè™ËÉΩÂæóÂà∞‰∏§‰∏≤ÁöÑ‰∏ÄÊù°ÊúÄÈïøÂÖ¨ÂÖ±Â≠êÂ∫èÂàóÔºåÂõ†‰∏∫ÂΩì c[i‚àí1,j]=c[i,j‚àí1] Êó∂ÂèØ‰ª•Âêë‰∏ä‰πüÂèØ‰ª•ÂêëÂ∑¶Ôºå‰ΩÜÊòØÊàë‰ª¨ÊåáÂÆöÂÆÉÂêëÂ∑¶‰∫ÜÔºåËøôÊ†∑Â∞±‰∏ç‰ºöÂá∫Áé∞‰∏çÂêåÁöÑÊÉÖÂÜµ„ÄÇ‰∫éÊòØÔºåÂèØ‰ª•Ê∑ªÂä†‰∏ÄÁßç b ÁöÑÂÄºÔºö b[i,j]=4, i,j&gt;0 and xi‚â†yj and c[i‚àí1,j]=c[i,j‚àí1]b[i,j]=4,\ \ \ \ i,j&gt;0\ and\ x_i\ne y_j\ and\ c[i-1,j]=c[i,j-1]b[i,j]=4, i,j&gt;0 and x‚Äãi‚Äã‚Äã‚â†y‚Äãj‚Äã‚Äã and c[i‚àí1,j]=c[i,j‚àí1] ÂΩì b[i][j] = 4 Êó∂(‰∏ãÊñáÁß∞‰∏∫ÂàÜÂèâÁÇπ)ÔºåÂêë‰∏äËµ∞‰πüÂêëÂ∑¶Ëµ∞ÔºåËøôÊ†∑ÂèØ‰ª•ÈÅçÂéÜÂà∞ÊâÄÊúâÁöÑË∑ØÂæÑ Â¶ÇÂõæÔºåÂΩìÈÅáÂà∞ÂàÜÂèâÁÇπÁöÑÊó∂ÂÄôÂ∞ÜÂàÜÂá∫‰∏§‰∏™Ë∑ØÂæÑÔºåÂ∞ÜÊâÄÊúâÂàÜÂèâÁÇπ‰Ωú‰∏∫ÈùûÂè∂Â≠êÁªìÁÇπÁªÑÊàê‰∏ÄÊ£µ‰∫åÂèâÊ†ëÔºö ÊúÄ‰∏ãÈù¢ÁöÑÂè∂Â≠êÁªìÁÇπ‰∏™Êï∞Â∞±ÊòØÊâÄÊúâË∑ØÂæÑ‰∏™Êï∞ ‰ª£Á†ÅÂÆûÁé∞123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106#include &lt;iostream&gt;#include &lt;string.h&gt;#include &lt;set&gt;using namespace std;int num = 0; // ËÆ∞ÂΩïÈÅçÂéÜË∑ØÂæÑÊï∞int** getArr(int,int); // Âä®ÊÄÅÂàõÂª∫‰∫åÁª¥Êï∞ÁªÑvoid LCS(int**,int**,string,string,int,int); // Áªô c,b Êï∞ÁªÑËµãÂÄºvoid TraceBack(string,string,int**,int,int); // ÂõûÊ∫ØË∑ØÂæÑset&lt;string&gt; setOfLCS; // set‰øùÂ≠òÊâÄÊúâÁöÑLCSÔºåsetÈõÜÂêà‰∏≠ÂÖÉÁ¥†‰∏çÈáçÂ§çint main() &#123; string s1,s2; cin&gt;&gt;s1&gt;&gt;s2; int len1 = s1.size() + 1; int len2 = s2.size() + 1; int** c = getArr(len1,len2); int** b = getArr(len1,len2); // ‰Ωø s1,s2 ‰∏é c,b ÂùêÊ†á‰∏ÄËá¥ s1 = " " + s1; s2 = " " + s2; // Ëá™Â∫ïÂêë‰∏äÁªô c,b Êï∞ÁªÑËµãÂÄº LCS(c,b,s1,s2,len1,len2); // ÊòæÁ§∫ c,b Êï∞ÁªÑ for(int i=0;i&lt;len1;i++) &#123; for(int j=0;j&lt;len2;j++) &#123; cout&lt;&lt;c[i][j]&lt;&lt;" "; if(j == len2-1) cout&lt;&lt;endl; &#125; &#125; cout&lt;&lt;"===============================\n"; for(int i=0;i&lt;len1;i++) &#123; for(int j=0;j&lt;len2;j++) &#123; cout&lt;&lt;b[i][j]&lt;&lt;" "; if(j == len2-1) cout&lt;&lt;endl; &#125; &#125; // ‰ªéÂè≥‰∏ãËßíÊ†πÊçÆ b Êï∞ÁªÑÊåáÂêëÂõûÊ∫ØÂà∞ËæπÁïå TraceBack(s1,"",b,len1-1,len2-1); cout&lt;&lt;"All route number: "&lt;&lt;num&lt;&lt;endl; cout&lt;&lt;"Remove duplicate elements: "&lt;&lt;endl; // ÈÅçÂéÜsetÔºåËæìÂá∫ÊâÄÊúâLCS set&lt;string&gt;::iterator iter=setOfLCS.begin(); while(iter != setOfLCS.end()) &#123; cout&lt;&lt;*iter&lt;&lt;endl; iter++; &#125; cout&lt;&lt;"LCS length: "&lt;&lt;c[len1-1][len2-1]&lt;&lt;endl; cout&lt;&lt;"LCS number: "&lt;&lt;setOfLCS.size()&lt;&lt;endl; return 0;&#125;void LCS(int** c,int** b,string s1,string s2,int m,int n) &#123; for(int i=1;i&lt;m;i++) &#123; for(int j=1;j&lt;n;j++) &#123; if(s1[i] == s2[j]) &#123; c[i][j] = c[i-1][j-1] + 1; b[i][j] = 1; // Êñú‰∏ä &#125; else if(c[i-1][j] &gt; c[i][j-1]) &#123; c[i][j] = c[i-1][j]; b[i][j] = 2; // ‰∏ä &#125; else if(c[i-1][j] &lt; c[i][j-1]) &#123; c[i][j] = c[i][j-1]; b[i][j] = 3; // Â∑¶ &#125; else &#123; c[i][j] = c[i-1][j]; b[i][j] = 4; // ‰∏ä Êàñ Â∑¶ &#125; &#125; &#125;&#125;// ËøîÂõûÂä®ÊÄÅÂàõÂª∫ÁöÑ‰∫åÁª¥Êï∞ÁªÑÁöÑÊåáÈíàint** getArr(int M,int N) &#123; int** arr = new int*[M]; for(int i=0;i&lt;M;i++) &#123; arr[i] = new int[N]; memset(arr[i],0,sizeof(int)*N); &#125; return arr;&#125;void TraceBack(string s1,string temp,int** b,int i,int j) &#123; while(i&gt;0 &amp;&amp; j&gt;0) &#123; if(b[i][j] == 1) &#123; temp = s1[i] + temp; i--; j--; &#125; else if(b[i][j] == 2) &#123; i--; &#125; else if(b[i][j] == 3) &#123; j--; &#125; else &#123; // ÈÄíÂΩíÂõûÊ∫Ø TraceBack(s1,temp,b,i-1,j); TraceBack(s1,temp,b,i,j-1); return; &#125; &#125; num ++; // ÊâìÂç∞‰∏ÄÊ¨°ÈÅçÂéÜÂæóÂà∞ÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÂèØËÉΩÊòØÈáçÂ§çÁöÑ cout&lt;&lt;"###"&lt;&lt;temp&lt;&lt;endl; // ‰∫§Áªô set Êù•ÁßªÈô§ÈáçÂ§çÂ≠óÁ¨¶‰∏≤ setOfLCS.insert(temp);&#125; ËæìÂÖ• 12badcdcbaabcdcdab ÂæóÂà∞ÁöÑÁªìÊûú‰∏∫ÔºöLCSÈïøÂ∫¶=5ÔºåÊÄªË∑ØÂæÑÊï∞=18ÔºåÈô§ÂéªÈáçÂ§çÁöÑÂ≠ê‰∏≤ÂêéÔºåÊâÄÊúâLCS‰∏™Êï∞‰∏∫8 ÂèØ‰ª•ÂèëÁé∞ÔºöÂõûÊ∫ØËøáÁ®ã‰∏≠‰∏çÂêåË∑ØÂæÑÂá∫Áé∞Â§ßÈáè‰∫§ÂèâÔºåÁî±‰∫éÊÄªË∑ØÂæÑÊï∞ÊòØ‰∫åÂèâÊ†ëÁöÑÂè∂Â≠êÁªìÁÇπÊï∞ÔºåÊúÄÂùèÊÉÖÂÜµ‰∏ãÔºå‰∫åÂèâÊ†ëÈ´òÂ∫¶‰∏∫max(m,n)ÔºåÂç≥‰∏§‰∏≤ÈïøÂ∫¶ÊúÄÂ§ßÂÄºÔºåÂè∂Â≠êÁªìÁÇπ‰∏™Êï∞‰∏∫2max(m,n)ÔºåËøô‰∫õÊÉÖÂÜµ‰∏≠ËøòÂ≠òÂú®Â§ßÈáèÈáçÂ§çÔºåÁ≠õÈÄâÂæàÈ∫ªÁÉ¶ÔºåÊúÄÂêéÁªìÊûúÂèØËÉΩÂæóÂà∞ÂæàÂ∞ëÁöÑÂá†ÁªÑÊï∞ÊçÆËÄåÂ∑≤„ÄÇ ‰ºòÂåñÔºöÁü©ÈòµÊêúÁ¥¢Ê±ÇÊâÄÊúâÁöÑÊúÄÈïøÂÖ¨ÂÖ±Â≠êÂ∫èÂàó Èâ¥‰∫é‰∏äËø∞ÊñπÊ≥ïÁöÑÁº∫ÁÇπÔºåÊ†πÊçÆ„ÄäÂà©Áî®Áü©ÈòµÊêúÁ¥¢Ê±ÇÊâÄÊúâÊúÄÈïøÂÖ¨ÂÖ±Â≠êÂ∫èÂàóÁöÑÁÆóÊ≥ï„ÄãÔºåÂÆ´Ê¥ÅÂçøÔºåÂÆâÂæΩÂ∑•Á®ãÁßëÊäÄÂ≠¶Èô¢Â≠¶Êä•Ôºåvol23,No.4,Dec.,2008 ÊèêÂá∫ÁöÑÊÄùÊÉ≥ÔºåËøôÈáåËøõË°åÁÆÄË¶ÅÈòêËø∞Ôºö Â∞Ü b[i][j] = 1 ÁöÑÁÇπÁß∞‰∏∫Ë∑≥Ë∑ÉÁÇπÔºåË∑≥Ë∑ÉÁÇπ‰ΩøLCS‰ªén‚Üín-1(n=1,2,‚Ä¶,LCSÈïøÂ∫¶)ÔºåLCSÊòØÁî±‰∏ÄÊù°Ë∑ØÂæÑ‰∏äÁöÑË∑≥Ë∑ÉÁÇπÂØπÂ∫îÁöÑÂ≠óÁ¨¶ÁªÑÊàê„ÄÇÂ∞Ün‚Üín-1ÁöÑÊØè‰∏™Ë∑≥Ë∑ÉÁÇπ‰æùÊ¨°ÊâæÂà∞Ëøô‰∏™ÁÇπÁöÑÊâÄÊúâ‰∏ã‰∏ÄË∑≥Ë∑ÉÁÇπÔºåÁõ¥Âà∞Ê≤°Êúâ‰∏ã‰∏Ä‰∏™Ë∑≥Ë∑ÉÁÇπ‰∏∫Ê≠¢„ÄÇ Áü©ÈòµÊêúÁ¥¢ÁÆóÊ≥ïÁöÑÂü∫Êú¨ÊÄùË∑ØÂíåÊ≠•È™§ ‰∏§‰∏™Ê†àÔºöÁ¨¨‰∏Ä‰∏™Ê†à store Áî®‰∫éÂ≠òÊîæÊâÄÊúâÊêúÁ¥¢Âà∞ÁöÑÂÖÉÁ¥†ÔºåÂΩìËØ•Ê†à‰∏∫Á©∫Êó∂ÔºåËøêÁÆóÁªìÊùüÔºõÁ¨¨‰∫å‰∏™Ê†à print Áî®‰∫éÂ≠òÊîæÂáÜÂ§áÊâìÂç∞ÁöÑÂÖÉÁ¥†„ÄÇÂÖàËÆ°ÁÆóÂá∫‰∫åÁª¥Êï∞ÁªÑ CÔºåÊØè‰∏™ËäÇÁÇπÈÉΩÁ∫™ÂΩïÊú¨ËäÇÁÇπÊâÄÂú®ÁöÑÂùêÊ†áÔºåLCS ÈïøÂ∫¶ÂíåÊåáÂêëÁöÑÊñπÂêë„ÄÇÂÅáËÆæËØ• LCS ‰∏≤ÊúÄÈïø‰∏∫ nÔºåÈÇ£‰πàËôöÊãü‰∏Ä‰∏™( n + 1) ‚ÜínÁöÑËäÇÁÇπÔºåËØ•ËäÇÁÇπÁöÑÂùêÊ†á‰Ωç‰∫éÊï∞ÁªÑ C ÊúÄÂè≥‰∏ãËßíÁöÑËäÇÁÇπ C[ i , j ] ÁöÑÂè≥‰∏ãÊñπÔºå‰∏∫ C[ i + 1 , j + 1 ]„ÄÇÂ∞ÜËØ•ËäÇÁÇπÂéãÂÖ•Ê†à store Ê£ÄÊµãÊ†à store ÊòØÂê¶‰∏∫Á©∫ÔºåÂ¶ÇÊûú‰∏∫Á©∫ÔºåÂàôÊú¨ÁÆóÊ≥ïÁªìÊùü ‰ªé store Ê†àÈ°∂ÂèñÂá∫‰∏Ä‰∏™ËäÇÁÇπÂéãÂÖ• print Ê†à Â¶ÇÊûúÂΩìÂâçÁöÑÂÖÉÁ¥†ÊòØËæπÁïåÂÖÉÁ¥†1 ‚Üí0 Êó∂ÔºåÊâìÂç∞Ê†à print ÈáåÈù¢Èô§‰∫ÜÊ†àÂ∫ïÁöÑÊâÄÊúâÂÖÉÁ¥†(Êó†È°ªÊâìÂç∞ÂéüÊú¨‰∏çÂ≠òÂú®ÁöÑËôöÊãüÁªìÁÇπ) „ÄÇÊü•Áúã store Ê†àÈáåÊúÄ‰∏äÈù¢‰∏Ä‰∏™ÂÖÉÁ¥†ÁöÑ LCS ÈïøÂ∫¶ÔºåÂºπÂá∫Ê†à print ÈáåÈù¢ÊâÄÊúâLCS ÈïøÂ∫¶ÊØî store Ê†àÊúÄ‰∏äÈù¢ÁöÑ LCS ÈïøÂ∫¶Â§ßÊàñÁõ∏Á≠âÁöÑÂÖÉÁ¥†ÔºåË∑≥ËΩ¨Âà∞Á¨¨ 2 Ê≠• ËÆæËØ•ÁªìÁÇπÁöÑ LCS ÈïøÂ∫¶‰∏∫ n +1Ôºå‰ªéËØ•ËäÇÁÇπÂá∫ÂèëÔºåÊü•ÁúãËØ•ËäÇÁÇπÁöÑÊñπÂêëÁÆ≠Â§¥ÔºåÊåâÁÖßÊñúÊñπÂêëË∑ØÁ∫ø„ÄÅÂêë‰∏äÁöÑË∑ØÁ∫øÔºàÂ¶ÇÊûúÊòØÂèåÂêëÁöÑË∑ØÁ∫øÂàôËµ∞Âêë‰∏äÁöÑË∑ØÁ∫øÔºâ„ÄÅÂêëÂ∑¶ÁöÑË∑ØÁ∫ø‰∏∫‰ºòÂÖàÁ∫ßÊâæÂà∞‰∏Ä‰∏™ n ‚Üí ( n - 1) ÁöÑËäÇÁÇπÔºåÂÅáËÆæ‰∏∫C[ X1 , Y1 ] ÂÜçÊ¨°‰ªéËØ•ËäÇÁÇπÂá∫ÂèëÔºåÊü•ÁúãËØ•ËäÇÁÇπÁöÑÊñπÂêëÁÆ≠Â§¥ ,ÊåâÁÖßÊñúÊñπÂêëË∑ØÁ∫ø„ÄÅÂêëÂ∑¶ÁöÑË∑ØÁ∫øÔºàÂ¶ÇÊûúÊòØÂèåÂêëÁöÑË∑ØÁ∫øÂàôËµ∞ÂêëÂ∑¶ÁöÑË∑ØÁ∫øÔºâ „ÄÅÂêë‰∏äÁöÑË∑ØÁ∫ø‰∏∫‰ºòÂÖàÁ∫ßÊâæÂà∞‰∏Ä‰∏™ n ‚Üí( n - 1) ÁöÑËäÇÁÇπ ,ÂÅáËÆæ‰∏∫ C[ X2 , Y2 ] ÊØîËæÉ C[ X1 , Y1 ] Âíå C[ X2 , Y2 ] Ëøô‰∏§‰∏™ËäÇÁÇπ„ÄÇÂ¶ÇÊûúËøô‰∏§‰∏™ÁªìÁÇπÊòØÂêå‰∏Ä‰∏™ÁªìÁÇπÔºåÂàôÂ∞ÜËØ•ÁªìÁÇπÂéãÂÖ•Ê†à storeÔºåË∑≥ËΩ¨Âà∞Á¨¨ 2 Ê≠• ‰ªéÂàöÊâçÂæóÂà∞ÁöÑ‰∏§‰∏™ÁªìÁÇπ C[ X1 , Y1 ] Âíå C[ X2 , Y2 ]ÔºåÂú®‰∫åÁª¥Êï∞ÁªÑ C ‰∏≠Ôºå‰ª• ( X1 , Y1 ) ( X2 , Y1 ) ( X1 ,Y2 ) ( X2 , Y2 ) ËøôÂõõ‰∏™ÁÇπ‰∏∫ÂùêÊ†áÊâÄÊûÑÊàêÁöÑÁü©ÈòµÔºåÂú®ËØ•Áü©Èòµ‰∏≠ÊêúÁ¥¢ÊâÄÊúâÁöÑÂÖÉÁ¥†ÔºåÂ∞ÜÊâÄÊúâÊª°Ë∂≥ n ‚Üí( n - 1) ÁöÑËäÇÁÇπÂéãÂÖ•Ê†à store„ÄÇË∑≥ËΩ¨Âà∞Á¨¨ 2 Ê≠• ‰ª£Á†ÅÂÆûÁé∞123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186#include &lt;iostream&gt;#include &lt;string.h&gt;#include &lt;stack&gt;using namespace std;int** getArr(int,int);void LCS(int**,int**,string,string,int,int);void TraceBack(int,int,int**,int**,string);struct node &#123; int x; int y; int lcsLen; node()&#123;&#125; node(int x,int y,int z):x(x),y(y),lcsLen(z)&#123;&#125; node(int x,int y,int** c):x(x),y(y),lcsLen(c[x][y])&#123;&#125; bool operator ==(const node &amp;n) &#123; if(this-&gt;x == n.x &amp;&amp; this-&gt;y == n.y) return true; return false; &#125;&#125;;void printStack(stack&lt;node&gt;,string);void popPrint(stack&lt;node&gt;&amp;,int);node findJump(int,int,int**,int**,int);void searchMatrix(node,node,int**,int**,stack&lt;node&gt;&amp;);int main()&#123; string s1,s2; cout&lt;&lt;"Input the first Sequence:"; cin&gt;&gt;s1; cout&lt;&lt;"Input the second Sequence:"; cin&gt;&gt;s2; int len1 = s1.length()+1; int len2 = s2.length()+1; int** c = getArr(len1,len2); int** b = getArr(len1,len2); s1 = " " + s1; s2 = " " + s2; LCS(c,b,s1,s2,len1,len2); for(int i=0;i&lt;len1;i++) &#123; for(int j=0;j&lt;len2;j++) &#123; cout&lt;&lt;c[i][j]&lt;&lt;" "; if(j == len2-1) cout&lt;&lt;endl; &#125; &#125; cout&lt;&lt;"===============================\n"; for(int i=0;i&lt;len1;i++) &#123; for(int j=0;j&lt;len2;j++) &#123; cout&lt;&lt;b[i][j]&lt;&lt;" "; if(j == len2-1) cout&lt;&lt;endl; &#125; &#125; if(c[len1-1][len2-1] == 0) &#123; cout&lt;&lt;"0 0"&lt;&lt;endl; return 0; &#125; TraceBack(len1,len2,c,b,s1); return 0;&#125;int** getArr(int M,int N) &#123; int** arr = new int*[M]; for(int i=0;i&lt;M;i++) &#123; arr[i] = new int[N]; memset(arr[i],0,sizeof(int)*N); &#125; return arr;&#125;void LCS(int** c,int** b,string s1,string s2,int m,int n) &#123; for(int i=1;i&lt;m;i++) &#123; for(int j=1;j&lt;n;j++) &#123; if(s1[i] == s2[j]) &#123; c[i][j] = c[i-1][j-1] + 1; b[i][j] = 1; &#125; else if(c[i-1][j] &gt; c[i][j-1]) &#123; c[i][j] = c[i-1][j]; b[i][j] = 2; &#125; else if(c[i-1][j] &lt; c[i][j-1]) &#123; c[i][j] = c[i][j-1]; b[i][j] = 3; &#125; else &#123; c[i][j] = c[i-1][j]; b[i][j] = 4; &#125; &#125; &#125;&#125;void TraceBack(int m,int n,int** c,int** b,string str) &#123; stack&lt;node&gt; store, print; node virtualNode = node(m,n,c[m-1][n-1]+1); //Áî±ËôöÊãüÁªìÁÇπÂºïÂèëÂæ™ÁéØ store.push(virtualNode); node storeTop; int topLen,number=0; while(!store.empty()) &#123; storeTop = store.top(); store.pop(); print.push(storeTop); // Âà§Êñ≠ÂºπÂá∫ÁöÑÂÖÉÁ¥†ÊòØÂê¶ÊòØËæπÁïåÂÖÉÁ¥† if(storeTop.x == 1 || storeTop.y == 1 || print.size() == c[m-1][n-1]+1) &#123; number++; printStack(print,str); // ÊòØËæπÁïåÂ∞ÜprintÊ†àÈô§ËôöÊãüÁªìÁÇπÁöÑÊâÄÊúâÁÇπÊâìÂç∞ cout&lt;&lt;endl; // Êï∞ÈáèÂ§™Â§ö‰∏çË¶ÅËæìÂá∫Ëøô‰∏§Ë°å‰∫Ü if(!store.empty()) &#123; topLen = store.top().lcsLen; popPrint(print,topLen); // ÂºπÂá∫Â∞è‰∫éÁ≠â‰∫éstoreÊ†àÈ°∂ÈïøÂ∫¶ÁöÑprintÊ†à‰∏≠ÁöÑÁÇπ &#125; &#125; else &#123; //‰∏çÊòØËæπÁïåËØ¥ÊòéËøòÊúâ‰∏ã‰∏ÄË∑≥ int x = storeTop.x; int y = storeTop.y; node e1 = findJump(x-1,y-1,b,c,0); node e2 = findJump(x-1,y-1,b,c,1); if(e1 == e2) &#123; store.push(e1); &#125; else &#123; searchMatrix(e1,e2,c,b,store); &#125; &#125; &#125; cout&lt;&lt;number&lt;&lt;endl;&#125;// ËæìÂá∫printÊ†à‰∏≠ÊâÄÊúâÂÖÉÁ¥†void printStack(stack&lt;node&gt; s,string str) &#123; while(!s.empty()) &#123; cout&lt;&lt;str[s.top().x]; s.pop(); &#125;&#125;// ÂºπÂá∫printÊ†à‰∏≠ÈïøÂ∫¶Â∞è‰∫éÁ≠â‰∫énÁöÑÂÖÉÁ¥†ÔºåÁõ∏ÂΩì‰∫éÂõûÂà∞Ââç‰∏ÄË∑≥ÁöÑÁä∂ÊÄÅvoid popPrint(stack&lt;node&gt; &amp;s,int n) &#123; // Áî±‰∫éËøõÂÖ•printÊ†àÁÇπÁöÑlcsLenÂÄºÊòØÂçïË∞ÉÂáèÔºåÁõ¥Êé•Âá∫Ê†àÁõ¥Âà∞lcsLenÂ§ß‰∫énÔºåÊúÄÂ∫ï‰∏ãÁöÑËôöÊãüÁªìÁÇπ‰∏çËÉΩÂá∫Ê†à while(s.top().lcsLen &lt;= n &amp;&amp; s.size() != 1) &#123; s.pop(); &#125;&#125;// ÂØªÊâæÊâÄÊúâ‰∏ã‰∏ÄË∑≥Ôºåtype‰∏∫ÁúüÔºöÈÅáÂà∞Ë∑≥Ë∑ÉÁÇπÂêëÂ∑¶Ëµ∞Ôºåtype‰∏∫ÂÅáÔºöÈÅáÂà∞Ë∑≥Ë∑ÉÁÇπÂêë‰∏äËµ∞ÔºåÁõ¥Âà∞ÊâæÂà∞Á¨¨‰∏Ä‰∏™Ë∑≥Ë∑ÉÁÇπnode findJump(int x,int y,int** b,int** c,int type) &#123; if(type) &#123; while(b[x][y] != 1)&#123; // ËøôÈáå‰∏ÄÂÆöÊúâ‰∏ã‰∏Ä‰∏™Ë∑≥Ë∑ÉÁÇπÔºå‰∏çÁî®ÊãÖÂøÉ‰ºöÊâæ‰∏çÂà∞ËÄåË∂äÁïå if(b[x][y] == 2) x--; else y--; &#125; &#125; else &#123; while(b[x][y] != 1)&#123; if(b[x][y] == 3) y--; else x--; &#125; &#125; return node(x,y,c);&#125;// Â¶ÇÊûúfindJumpÊâæÂà∞ÁöÑ‰∏§‰∏™‰∏ã‰∏ÄË∑≥Ë∑ÉÁÇπ‰∏çÊòØ‰∏Ä‰∏™ÁÇπÔºåÂàô‰ª•Ëøô‰∏§‰∏™ÁÇπ‰∏∫Áü©ÂΩ¢ÊêúÁ¥¢ÈáåÈù¢ÁöÑË∑≥Ë∑ÉÁÇπÔºåËßÜ‰∏∫‰∏ã‰∏ÄË∑≥Ë∑ÉÁÇπÂä†ÂÖ•storeÊ†à‰∏≠void searchMatrix(node e1,node e2,int** c,int** b,stack&lt;node&gt;&amp; store) &#123; int x1 = e1.x; int y1 = e1.y; int x2 = e2.x; int y2 = e2.y; int temp; if(x1 &gt; x2) &#123; temp = x1; x1 = x2; x2 = temp; &#125; if(y1 &gt; y2) &#123; temp = y1; y1 = y2; y2 = temp; &#125; for(int i=x2;i&gt;=x1;i--) &#123; for(int j=y2;j&gt;=y1;j--) &#123; if(b[i][j] == 1) store.push(node(i,j,c)); &#125; &#125;&#125; Ê†πÊçÆÁÆóÊ≥ïÁöÑÊÄùÊÉ≥ÂÆûÁé∞‰∫Ü‰ª£Á†ÅÔºåÁªèËøá‰ª•‰∏ãÊï∞ÊçÆÂØπÁõ¥Êé•ÈÅçÂéÜÂíåÁü©ÈòµÊêúÁ¥¢ËøõË°åÂØπÊØîÔºö ABCDCDABCDBADCDCBADC ABCDCDABCDABCDCDABCDBADCDCBADCBADCDCBADC ABCDCDABCDABCDCDABCDABCDCDABCDBADCDCBADCBADCDCBADCBADCDCBADC ABCDCDABCDABCDCDABCDABCDCDABCDABCDCDABCDBADCDCBADCBADCDCBADCBADCDCBADCBADCDCBADC ÊµãËØïÁî®‰æãÁºñÂè∑ LCSÈïøÂ∫¶ ÊâÄÊúâLCS‰∏™Êï∞ Áõ¥Êé•ÈÅçÂéÜÂæ™ÁéØÊ¨°Êï∞ 1 6 20 60 2 12 700 7560 3 18 25460 970200 4 24 936540 Ê≤°ÊµãÂá∫Êù• ÂΩìÂ≠óÁ¨¶‰∏≤ÈïøÂ∫¶40Êó∂ÔºåÁÆÄÂçïÁöÑÈÅçÂéÜÊâÄÊúâË∑ØÂæÑÂ∞±Êó†Ê≥ïÁü≠Êó∂Èó¥ÊòæÁ§∫ÁªìÊûú‰∫Ü]]></content>
      <categories>
        <category>ÁÆóÊ≥ï</category>
      </categories>
      <tags>
        <tag>Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Prim-Kruscal]]></title>
    <url>%2F2017%2F08%2F13%2FPrim-Kruscal%2F</url>
    <content type="text"><![CDATA[Ë¥™ÂøÉÁÆóÊ≥ï‚Äî‚ÄîÊúÄÂ∞èÁîüÊàêÊ†ë G=(V,E) ÊòØËøûÈÄöÂ∏¶ÊùÉÂõæÔºåE ‰∏≠ÊØèÊù°Ëæπ (v,w) ÁöÑÊùÉ‰∏∫ c[v][w]ÔºåG ÁöÑ‰∏Ä‰∏™Â≠êÂõæ G‚Äô ÊòØ‰∏ÄÈ¢óÂåÖÂê´ G ÁöÑÊâÄÊúâÈ°∂ÁÇπÁöÑÊ†ëÔºåÂàôÁß∞ G‚Äô ‰∏∫ G ÁöÑÁîüÊàêÊ†ëÔºåÊâÄÊúâÁîüÊàêÊ†ë‰∏≠ÊùÉÂÄºÂíåÊúÄÂ∞èÁöÑÁß∞‰∏∫ G ÁöÑÊúÄÂ∞èÁîüÊàêÊ†ë(MST: minimum Spanning Tree) MST ÊÄßË¥®ÔºöËÆæ G=(V,E) ÊòØËøûÈÄöÂ∏¶ÊùÉÂõæÔºåU ÊòØ V ‰∏≠ÁöÑ‰∏Ä‰∏™ÁúüÂ≠êÈõÜÔºåËã•Â≠òÂú®È°∂ÁÇπ u‚ààU ÂíåÈ°∂ÁÇπ v‚ààV-U ÁöÑËæπÔºàuÔºåvÔºâÊòØ‰∏ÄÊù°ÂÖ∑ÊúâÊúÄÂ∞èÊùÉÂÄºÁöÑËæπÔºåÂàôÂøÖÂ≠òÂú® G ÁöÑ‰∏ÄÊ£µÊúÄÂ∞èÁîüÊàêÊ†ëÂåÖÊã¨ËøôÊù°ËæπÔºàuÔºåvÔºâ Prim Âíå Kruscal ÈÉΩÂ∫îÁî®ÊúÄÂ∞èÁîüÊàêÊ†ëÁöÑ MST ÊÄßË¥®ËøõË°åË¥™ÂøÉÈÄâÊã© ÂÆû‰æã‰∏≠ËøûÈÄöÂ∏¶ÊùÉÂõæ‰∏∫ ÂõæÁöÑË°®Á§∫ÔºöÈÇªÊé•Áü©Èòµ‚Äî‚Äî‰ΩøÁî®‰∫åÁª¥Êï∞ÁªÑÂ≠òÊîæ‰∏§ÁÇπ‰πãÈó¥ÁöÑ‰ø°ÊÅØ Prim ÁÆóÊ≥ï ËÆæ G=(V,E) ÊòØËøûÈÄöÂ∏¶ÊùÉÂõæÔºåV = {1,2,‚Ä¶,n} ÊûÑÈÄ† G ÁöÑÊúÄÂ∞èÁîüÊàêÊ†ëÁöÑ PrimÁÆóÊ≥ïÁöÑÂü∫Êú¨ÊÄùÊÉ≥ÊòØÔºöÈ¶ñÂÖàÁΩÆ S={1}ÔºåÁÑ∂ÂêéÂè™Ë¶Å S ÊòØ V ÁöÑÁúüÂ≠êÈõÜÔºåÂ∞±ÂÅöÂ¶Ç‰∏ãË¥™ÂøÉÈÄâÊã©ÔºöÈÄâÂèñÊª°Ë∂≥Êù°‰ª∂ i‚ààSÔºåj‚ààV-SÔºå‰∏î c[i][j] ÊúÄÂ∞èÁöÑËæπÔºåÂπ∂Â∞ÜÈ°∂ÁÇπ j Ê∑ªÂä†Âà∞ S ‰∏≠ÔºåËøô‰∏™ËøáÁ®ã‰∏ÄÁõ¥ËøõË°åÂà∞ S=V‰∏∫Ê≠¢„ÄÇËøô‰∏™ËøáÁ®ã‰∏≠ÈÄâÂèñÁöÑÊâÄÊúâËæπÊûÑÊàê G ÁöÑ‰∏ÄÈ¢óÊúÄÂ∞èÁîüÊàêÊ†ë Question: Â¶Ç‰ΩïÊúâÊïàÂú∞ÊâæÂá∫Êª°Ë∂≥ i‚ààS, j‚ààV-SÔºå‰∏îÊùÉ c[i][j] ÊúÄÂ∞èÁöÑËæπ (i,j) ? ‰ª£Á†ÅËØ¥ÊòéÔºö ÂØπ‰∫éÊØè‰∏™ j‚ààV-SÔºåclosest[j] ÊòØ j Âú® S ‰∏≠ÁöÑ‰∏¥ÁïåÈ°∂ÁÇπÔºåÂÆÉ‰∏é j Âú® S ‰∏≠ÁöÑÂÖ∂‰ªñ‰∏¥Êé•È°∂ÁÇπ k Áõ∏ÊØîËæÉÊúâÔºö c[j][closest[j]]‚â§c[j][k] lowest[j] ÁöÑÂÄºÂ∞±ÊòØ c[j][closest[j]] 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162#include&lt;stdio.h&gt;#define MIN 100001int Prim(int[100][100],int);int main() &#123; int N; int arr[100][100]; // Â≠òÊîæ‰∏§ÁÇπ‰πãÈó¥ËøûÁ∫øÁöÑÊùÉÂÄº while(~scanf("%d",&amp;N)) &#123; // ËæìÂÖ• for(int i=0;i&lt;N;i++) &#123; for(int j=0;j&lt;N;j++) &#123; scanf("%d",&amp;arr[i][j]); &#125; &#125; // Prim printf("ÊúÄÂ∞èÁîüÊàêÊ†ëÊùÉÂÄºÂíåÔºö%d\n",Prim(arr,N)); &#125; return 0;&#125;// lowcost[i]:V-S‰∏≠ÁÇπiÂà∞S‰∏≠ÁöÑÁÇπËøûÁ∫øÊúÄÂ∞èÊùÉÂÄº// closet[i]:V-S‰∏≠ÁÇπiÂà∞s‰∏≠ÊùÉÂÄºÊúÄÂ∞èËøûÁ∫øÂ∫îËØ•ËøûÁöÑÁÇπÂùêÊ†áint Prim(int c[100][100],int N) &#123; int lowcost[N],closest[N], res=0; bool s[N]; // S ÈõÜÂêàÊúÄÂºÄÂßãÂè™Êúâ0Âè∑ÂÖÉÁ¥†Êó∂ÔºåÂØπlowcost, clostestÂàùÂßãÂåñ s[0] = true; for(int i=1;i&lt;N;i++) &#123; lowcost[i] = c[i][0]; // ÊúÄÂºÄÂßã S ‰∏≠Âè™Êúâ 0 closest[i] = 0; s[i] = false; &#125; // Â∞Ü V-S ÈõÜÂêà‰∏≠ÁöÑÂÖÉÁ¥†ÊîæÂà∞ S ‰∏≠ for(int i=1;i&lt;N;i++) &#123; int k, imin = MIN; for(int j=1;j&lt;N;j++) &#123; if(!s[j] &amp;&amp; lowcost[j] &lt; imin) &#123; imin = lowcost[j]; k = j; &#125; &#125; s[k] = true; printf("%d--%d \n",k,closest[k]); res += imin; // Áî±‰∫é S ‰∏≠Êúâ‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑÂÖÉÁ¥†ÔºåV-S ‰∏≠ÂêÑÁÇπ lowcost ÂÄºÂèØËÉΩÂèëÁîüÂèòÂåñ for(int j=1;j&lt;N;j++) &#123; if(!s[j] &amp;&amp; lowcost[j] &gt; c[j][k]) &#123; lowcost[j] = c[j][k]; closest[j] = k; &#125; &#125; &#125; return res;&#125;/*Input:40 4 9 214 0 8 179 8 0 1621 17 16 0*/ Kruscal ÁÆóÊ≥ï ÂÖàÊûÑÈÄ†‰∏Ä‰∏™Âè™Âê´ n ‰∏™È°∂ÁÇπ„ÄÅËÄåËæπÈõÜ‰∏∫Á©∫ÁöÑÂ≠êÂõæÔºåÊääÂ≠êÂõæ‰∏≠ÂêÑ‰∏™È°∂ÁÇπÁúãÊàêÂêÑÊ£µÊ†ë‰∏äÁöÑÊ†πÁªìÁÇπÔºå‰πãÂêéÔºå‰ªéÁΩëÁöÑËæπÈõÜ E ‰∏≠ÈÄâÂèñ‰∏ÄÊù°ÊùÉÂÄºÊúÄÂ∞èÁöÑËæπÔºåËã•ËØ•Êù°ËæπÁöÑ‰∏§‰∏™È°∂ÁÇπÂàÜÂ±û‰∏çÂêåÁöÑÊ†ëÔºåÂàôÂ∞ÜÂÖ∂Âä†ÂÖ•Â≠êÂõæÔºåÂç≥Êää‰∏§Ê£µÊ†ëÂêàÊàê‰∏ÄÊ£µÊ†ëÔºåÂèç‰πãÔºåËã•ËØ•Êù°ËæπÁöÑ‰∏§‰∏™È°∂ÁÇπÂ∑≤ËêΩÂú®Âêå‰∏ÄÊ£µÊ†ë‰∏äÔºåÂàô‰∏çÂèØÂèñÔºåËÄåÂ∫îËØ•Âèñ‰∏ã‰∏ÄÊù°ÊùÉÂÄºÊúÄÂ∞èÁöÑËæπÂÜçËØï‰πã„ÄÇ‰æùÊ¨°Á±ªÊé®ÔºåÁõ¥Âà∞Ê£ÆÊûó‰∏≠Âè™Êúâ‰∏ÄÊ£µÊ†ëÔºå‰πüÂç≥Â≠êÂõæ‰∏≠Âê´Êúâ n-1 Êù°Ëæπ‰∏∫Ê≠¢ ÁÆÄÂçïÁöÑËØ¥Ôºö Kruscal ÁÆóÊ≥ïÂÖàÊâæÊùÉÂÄºÊúÄÂ∞èÁöÑËæπÔºåÊ£ÄÊü•ËøôÊù°Ëæπ‰∏§‰∏™Á´ØÁÇπÊòØÂê¶Âú®‰∏Ä‰∏™ÈõÜÂêà‰∏≠ÔºåÂ¶ÇÊûú‰∏çÂú®‰∏Ä‰∏™ÈõÜÂêà‰∏≠ÔºåËøûÊé•‰∏§ÁÇπ(ÂêàÂπ∂ÁÇπÊâÄÂú®ÈõÜÂêà)ÂêéÊâæ‰∏ã‰∏ÄÊù°ÊùÉÂÄºÊúÄÂ∞èÁöÑËæπÔºõÂ¶ÇÊûúÂú®‰∏Ä‰∏™ÈõÜÂêàÔºå‰∏çËøûÊé•‰∏§ÁÇπÁõ¥Êé•Êâæ‰∏ã‰∏ÄÊù°ÊùÉÂÄºÊúÄÂ∞èÁöÑËæπÔºåÁõ¥Âà∞ËøûÊé•ÁöÑËæπÊï∞‰∏∫n-1‰∏∫Ê≠¢ Question: ÊÄéÊ†∑ÊåâÊùÉÈÄíÂ¢ûÁöÑÈ°∫Â∫èÊü•ÁúãÂêÑËæπÔºü ÊÄéÊ†∑Âà§Êñ≠‰∏§ÁÇπÊòØÂê¶Âú®‰∏Ä‰∏™ÈõÜÂêà‰∏≠Ôºü ‰ºòÂÖàÈòüÂàóÂíåÂπ∂Êü•ÈõÜ ‰ºòÂÖàÈòüÂàóËØ∑ËßÅ priority-queue Âπ∂Êü•ÈõÜÔºàUnion-find SetsÔºâ‰∏ªË¶ÅÁî®‰∫éÂ§ÑÁêÜ‰∏Ä‰∫õ‰∏çÁõ∏‰∫§ÈõÜÂêà ÁöÑÂêàÂπ∂ÈóÆÈ¢òÔºå‰ΩøÁî®Ê†ëÂΩ¢ÁªìÊûÑË°®Á§∫‰∏Ä‰∏™ÈõÜÂêàÔºåÊ†ëÁöÑÊØè‰∏™ËäÇÁÇπÂ∞±Ë°®Á§∫ÈõÜÂêà‰∏≠ÁöÑ‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåÊ†ëÊ†π‰Ωú‰∏∫ÈõÜÂêàÁöÑ‰ª£Ë°®„ÄÇ Âπ∂Êü•ÈõÜÁöÑÂü∫Êú¨Êìç‰ΩúÊúâ‰∏â‰∏™Ôºö makeSet(s)ÔºöÂª∫Á´ã‰∏Ä‰∏™Êñ∞ÁöÑÂπ∂Êü•ÈõÜÔºåÂÖ∂‰∏≠ÂåÖÂê´ s ‰∏™ÂçïÂÖÉÁ¥†ÈõÜÂêà„ÄÇ unionSet(x, y)ÔºöÊääÂÖÉÁ¥† x ÂíåÂÖÉÁ¥† y ÊâÄÂú®ÁöÑÈõÜÂêàÂêàÂπ∂ÔºåË¶ÅÊ±Ç x Âíå y ÊâÄÂú®ÁöÑÈõÜÂêà‰∏çÁõ∏‰∫§ÔºåÂ¶ÇÊûúÁõ∏‰∫§Âàô‰∏çÂêàÂπ∂„ÄÇ find(x)ÔºöÊâæÂà∞ÂÖÉÁ¥† x ÊâÄÂú®ÁöÑÈõÜÂêàÁöÑ‰ª£Ë°®ÔºåËØ•Êìç‰Ωú‰πüÂèØ‰ª•Áî®‰∫éÂà§Êñ≠‰∏§‰∏™ÂÖÉÁ¥†ÊòØÂê¶‰Ωç‰∫éÂêå‰∏Ä‰∏™ÈõÜÂêàÔºåÂè™Ë¶ÅÂ∞ÜÂÆÉ‰ª¨ÂêÑËá™ÁöÑ‰ª£Ë°®ÊØîËæÉ‰∏Ä‰∏ãÂ∞±ÂèØ‰ª•‰∫Ü„ÄÇÂú®findÊñπÊ≥ï‰∏≠ÔºåÂ¶ÇÊûúÊØèÊ¨°ÈÉΩÊ≤øÁùÄÁà∂ËäÇÁÇπÂêë‰∏äÊü•ÊâæÔºåÂΩìÊ†ëÂæàÈ´òÊó∂Ôºå‰ºöÈôç‰ΩéÊü•ÊâæÊïàÁéáÔºàÊó∂Èó¥Â§çÊùÇÂ∫¶Â∞±ÊòØÊ†ëÁöÑÈ´òÂ∫¶ÔºâÊúâ‰∏ÄÁßçÈùûÂ∏∏ÁÆÄÂçïËÄåÊúâÊïàÁöÑÁ≠ñÁï•‚Äî‚ÄîË∑ØÂæÑÂéãÁº©Ôºö Ë∑ØÂæÑÂéãÁº©ÔºåÂ∞±ÊòØÂú®ÊØèÊ¨°Êü•ÊâæÊó∂Ôºå‰ª§Êü•ÊâæË∑ØÂæÑ‰∏äÁöÑÊØè‰∏™ËäÇÁÇπÈÉΩÁõ¥Êé•ÊåáÂêëÊ†πËäÇÁÇπ Âπ∂Êü•ÈõÜÁöÑÂêàÂπ∂ÔºöÂ∞Ü‰∏Ä‰∏™ÈõÜÂêàÁöÑÊ†ëÊ†πÊåáÂêëÂè¶‰∏Ä‰∏™ÈõÜÂêàÁöÑÊ†ëÊ†πÔºåËøôÊ†∑Êü•ÁúãÊØè‰∏™ÂÖÉÁ¥†ÊâÄÂú®Ê†ëÁöÑÊ†πËäÇÁÇπÂè™ÈúÄË¶Å‰∏ÄÊ≠• ÂêàÂπ∂Á≠ñÁï•‚Äî‚ÄîÊåâÁß©ÂêàÂπ∂ÔºöÁî®Áß©Ë°®Á§∫Ê†ëÁöÑÈ´òÂ∫¶ÔºåÂú®ÂêàÂπ∂Êó∂ÔºåÊÄªÊòØÂ∞ÜÂÖ∑ÊúâËæÉÂ∞èÁß©ÁöÑÊ†ëÊ†πÊåáÂêëÂÖ∑ÊúâËæÉÂ§ßÁß©ÁöÑÊ†ëÊ†π„ÄÇÁÆÄÂçïÁöÑËØ¥ÔºåÂ∞±ÊòØÊÄªÊòØÂ∞ÜÊØîËæÉÁüÆÁöÑÊ†ë‰Ωú‰∏∫Â≠êÊ†ëÔºåÊ∑ªÂä†Âà∞ËæÉÈ´òÁöÑÊ†ë‰∏≠„ÄÇ‰ª£Á†Å‰∏≠ urank[x] Ë°®Á§∫ x ‰∏∫Ê†πÁöÑÊ†ëÁöÑÈ´òÂ∫¶ ‰ΩøÁî®‰ºòÂÖàÈòüÂàóÂ∞ÜËæπÂçáÂ∫èÊéíÂàóÔºàÊ≥®ÊÑèÂØπËá™ÂÆö‰πâÁ±ªÂûãË¶ÅÈáçÂÜô ‚Äò&lt;‚Äô ËøêÁÆóÁ¨¶Ôºâ ‰ΩøÁî®Âπ∂Êü•ÈõÜÂà§Êñ≠‰∏§ÁÇπÊòØÂê¶Âú®‰∏Ä‰∏™ÈõÜÂêà‰∏äÔºàÊ†πËäÇÁÇπÊòØÂê¶Áõ∏Á≠âÔºâÔºåÂêàÂπ∂‰∏§ÈõÜÂêà 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116#include&lt;stdio.h&gt;#include&lt;queue&gt;#define MAXSIZE 100using namespace std;int arr[MAXSIZE][MAXSIZE];int uset[MAXSIZE]; // uset[i] :ÂÖÉÁ¥†iÊâÄÂ±ûÈõÜÂêàÁöÑÊ†πËäÇÁÇπint urank[MAXSIZE]; // urank[i] :ÂÖÉÁ¥†i‰∏∫Ê†πËäÇÁÇπÈõÜÂêàÁöÑÈ´òÂ∫¶int Kruscal(int);int res = 0;struct Edge &#123; int x; int y; int weight; Edge(int x,int y,int weight) &#123; this-&gt;x = x; this-&gt;y = y; this-&gt;weight = weight; &#125; friend bool operator &lt; (Edge edge1, Edge edge2) &#123; return edge1.weight &gt; edge2.weight; &#125;&#125;;priority_queue&lt;Edge&gt; q;int main() &#123; int N; while(~scanf("%d",&amp;N)) &#123; res = 0; // ËæìÂÖ• for(int i=0;i&lt;N;i++) &#123; for(int j=0;j&lt;N;j++) &#123; scanf("%d",&amp;arr[i][j]); &#125; &#125; // Â∞ÜËæπÊîæÂÖ•‰ºòÂÖàÈòüÂàó‰∏≠ for(int i=0;i&lt;N-1;i++) &#123; for(int j=i+1;j&lt;N;j++) &#123; q.push(Edge(i,j,arr[i][j])); &#125; &#125; Kruscal(N); printf("%d\n",res); &#125; return 0;&#125;void makeSet(int N) &#123; // ÂàùÂßãÊó∂ÊØè‰∏™ÂÖÉÁ¥†Áã¨Á´ãÊàê‰∏∫‰∏Ä‰∏™ÈõÜÂêàÔºåÊ†πËäÇÁÇπÊòØÊú¨Ë∫´ÔºåÈõÜÂêàÔºàÊ†ëÔºâÈ´òÂ∫¶‰∏∫0 for(int i=0;i&lt;N;i++) &#123; uset[i] = i; urank[i] = 0; &#125;&#125;int findRoot(int x) &#123; // Âè™ÊúâÊ†πËäÇÁÇπÁöÑÁà∂ËäÇÁÇπÊòØÊú¨Ë∫´ if(uset[x] == x) &#123; return x; &#125; // ‰∏çÊòØÊ†πËäÇÁÇπÈÄíÂΩíÂØªÊâæÊ†πËäÇÁÇπÔºåÊâæÂà∞ÂêéËµãÂÄºÁªôuset[x]ÂáèÂ∞ë‰∏ãÊ¨°ÈÄíÂΩíÁöÑÊ¨°Êï∞ÔºåÁõ∏ÂΩì‰∫éÂéãÁº©‰∫ÜÂà∞Ê†πËäÇÁÇπÁöÑË∑ØÂæÑ return uset[x] = findRoot(uset[x]);&#125;bool unionSet(int x,int y) &#123; // Âèñ x,y ÊâÄÂú®ÈõÜÂêàÁöÑÊ†πËäÇÁÇπ x=findRoot(x); y=findRoot(y); // x,y Â±û‰∫é‰∏Ä‰∏™ÈõÜÂêàÔºå‰∏çÂèØÂêàÂπ∂ if(x == y) &#123; return false; &#125; // x,y ‰∏çÂú®Âêå‰∏ÄÈõÜÂêàÔºåÂ∞ÜÈ´òÂ∫¶Â∞èÁöÑÈõÜÂêàÂä†Âà∞È´òÂ∫¶Â§ßÁöÑÈõÜÂêàÊ†πËäÇÁÇπ else if(urank[x] &gt; urank[y]) &#123; // y ÈõÜÂêàÁöÑÊ†πËäÇÁÇπÁöÑÁà∂‰∫≤ÊòØ x ÈõÜÂêàÁöÑÊ†πËäÇÁÇπ uset[y] = x; &#125; else &#123; uset[x] = y; // È´òÂ∫¶Áõ∏Á≠âÔºåxÊâÄÂú®ÈõÜÂêàÊ†πËäÇÁÇπÊé•Âà∞yÈõÜÂêàÊ†πËäÇÁÇπÔºåyÈõÜÂêàÈ´òÂ∫¶Âä†‰∏Ä if(urank[x] == urank[y]) &#123; urank[y]++; &#125; &#125; return true;&#125;int Kruscal(int N) &#123; makeSet(N); int qsize = q.size(); int lineNum = 0; for(int i=0;i&lt;qsize;i++) &#123; // e‰∏∫ÂΩìÂâçÊúÄÂ∞èÊùÉÂÄºËæπ Edge e = q.top(); // ÊåâÊùÉÂÄºÈôçÂ∫èÂ§ÑÁêÜÊØè‰∏ÄÊù°ËæπÔºåÂ¶ÇÊûú‰∏§ÁÇπ‰∏çÂú®‰∏Ä‰∏™ÈõÜÂêà‰∏≠ÔºåÂêàÂπ∂‰∏§ÁÇπÊâÄÂú®ÁöÑÈõÜÂêàËøîÂõûtrueÔºåËØ¥ÊòéÁîüÊàê‰∫Ü‰∏ÄÊù°ËøûÁ∫ø if(unionSet(e.x, e.y)) &#123; lineNum ++; res += arr[e.x][e.y]; printf("%d--%d\n",e.x,e.y); // ËøûÁ∫øÊï∞ = ÁÇπÊï∞ - 1 Êó∂‰∏∫ÊúÄÂ∞èÁîüÊàêÊ†ëÔºåÁªìÊùüÂæ™ÁéØ if(lineNum == N - 1) &#123; break; &#125; &#125; q.pop(); &#125;&#125;/*Input:40 4 9 214 0 8 179 8 0 1621 17 16 0*/]]></content>
      <categories>
        <category>ÁÆóÊ≥ï</category>
        <category>OJ ÂÅöÈ¢òÁü•ËØÜÁÇπÁßØÁ¥Ø</category>
      </categories>
      <tags>
        <tag>Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[springboot-mybatisÂ∞èÁ®ãÂ∫è]]></title>
    <url>%2F2017%2F04%2F09%2Fspringboot-mybatis%2F</url>
    <content type="text"><![CDATA[IntelliJÂºÄÂèëSpringBoot-MybatisÂ∫îÁî®Á®ãÂ∫èÊñ∞Âª∫Â∑•Á®ã new Project‚Äî‚ÄîSpring Initializr Â°´Â•ΩÂ∑•Á®ãNameÔºåÂåÖË∑ØÂæÑGroup,Package DependenciesÈ°µÈù¢ÂãæÈÄâWebÔºåMybatisÔºåMysql‰ºöËá™Âä®Â∏Æ‰Ω†Áîü‰∫ßmavenÁöÑpomÊñá‰ª∂ÔºåÂΩìÁÑ∂‰πüÂèØ‰ª•Ëá™Â∑±ÂêéÂæÄÈáåÊ∑ªÂä†Ôºåmaven‰ºöËá™Âä®ÁöÑÂ∏Æ‰Ω†‰∏ãËΩΩÈúÄË¶ÅÁöÑ‰æùËµñ Finish Ê≥®Ôºö mavenÈªòËÆ§‰∏≠Â§Æ‰ªìÂ∫ìÂú®ÂõΩÂ§ñÂèØËÉΩ‰Ωø‰∏ãËΩΩ‰æùËµñÂæàÊÖ¢ÔºåÂèØ‰ª•‰øÆÊîπmavenÁöÑconf/settings.xmlÊõ¥Êç¢ÈïúÂÉèÂú∞ÂùÄÔºö 123456&lt;mirror&gt; &lt;id&gt;alimaven&lt;/id&gt; &lt;name&gt;aliyun maven&lt;/name&gt; &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public/&lt;/url&gt; &lt;mirrorOf&gt;central&lt;/mirrorOf&gt; &lt;/mirror&gt; Â∑•Á®ãÁªìÊûÑËØ¥Êòé main-java ÁõÆÂΩï‰∏ãÁöÑ *Application Á±ªÊòØÈ°πÁõÆÁöÑÂêØÂä®Á±ª main ‰∏ãÁöÑ application.yml ÊòØÈÖçÁΩÆÊñá‰ª∂ test ÊòØÊµãËØïÁ±ªÁöÑÁõÆÂΩï pom.xml ÊòØ maven ÁöÑ‰æùËµñÁÆ°ÁêÜÊñá‰ª∂ ÈÖçÁΩÆÊñá‰ª∂ÈÖçÁΩÆÊñá‰ª∂Êúâ .properties Âíå .yml ‰∏§ÁßçÔºåÊ†ºÂºè‰∏çÂêåËÄåÂ∑≤Ôºå‰∏ãÈù¢ÁöÑÊòØ .yml 1234567891011121314151617181920212223242526272829303132333435363738#serverserver: port: 80#spring configspring: aop: auto: true datasource: name: * url: jdbc:mysql://localhost:3306/* driverClassName: com.mysql.jdbc.Driver username: * password: * type: com.alibaba.druid.pool.DruidDataSource maxActive: 1000 initialSize: 5 maxWait: 60000 minIdle: 1 timeBetweenEvictionRunsMillis: 60000 minEvictableIdleTimeMillis: 300000 testWhileIdle: true testOnBorrow: false testOnReturn: false poolPreparedStatements: true maxOpenPreparedStatements: 20# MyBatismybatis: type-aliases-package: com.zjm.model mapper-locations: classpath:/mapper/*.xml configuration: log-impl: org.apache.ibatis.logging.stdout.StdOutImpl#PageHelperpagehelper: offsetAsPageNum: true rowBoundsWithCount: true reasonable: true ÁºñÂÜôMybatis Â∞èÁ®ãÂ∫èÂáÜÂ§á Âú®‰∏äÈù¢ÁöÑÈÖçÁΩÆÊñá‰ª∂‰∏≠ Mybatis ÁöÑÈÖçÁΩÆÈ°πÈáå type-aliases-packageÔºöÊòØÂØπË±°Á±ªÁöÑË∑ØÂæÑ (main.java.com.*.model‰∏ã) mapper-locationsÔºöÊòØÂØπË±°daoÁ±ªÂØπÂ∫îÁöÑ .xml ÁöÑË∑ØÂæÑ (main.resource.mapper‰∏ã) Âª∫Á´ã‰ª•‰∏äË∑ØÂæÑÂèäcom.*.dao Âú®pom.xml‰∏≠Âä†ÂÖ•‰æùËµñÔºö(Âú®Ê†áÁ≠æ‰∏≠) 12345&lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid&lt;/artifactId&gt; &lt;version&gt;1.0.20&lt;/version&gt;&lt;/dependency&gt; Âú®*Application.javaÊñá‰ª∂ÁöÑÁ±ª‰∏äÂä†ÂÖ• @MapperScan(basePackages = ‚Äúcom.zjm.dao‚Äù) @SpringBootApplication Ëøô‰∏§‰∏™Ê≥®Ëß£ 12345678@MapperScan(basePackages = "com.zjm.dao")@SpringBootApplicationpublic class IshopApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(IshopApplication.class, args); &#125;&#125; ‰ª£Á†ÅUser123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899package com.zjm.model;import java.util.Date;public class User &#123; private Integer id; private String nickname; private String password; private String phone; private String email; private Date regdate; private Integer sex; private String head; public Integer getId() &#123; return id; &#125; public void setId(Integer id) &#123; this.id = id; &#125; public String getNickname() &#123; return nickname; &#125; public void setNickname(String nickname) &#123; this.nickname = nickname == null ? null : nickname.trim(); &#125; public String getPassword() &#123; return password; &#125; public void setPassword(String password) &#123; this.password = password == null ? null : password.trim(); &#125; public String getPhone() &#123; return phone; &#125; public void setPhone(String phone) &#123; this.phone = phone == null ? null : phone.trim(); &#125; public String getEmail() &#123; return email; &#125; public void setEmail(String email) &#123; this.email = email == null ? null : email.trim(); &#125; public Date getRegdate() &#123; return regdate; &#125; public void setRegdate(Date regdate) &#123; this.regdate = regdate; &#125; public Integer getSex() &#123; return sex; &#125; public void setSex(Integer sex) &#123; this.sex = sex; &#125; public String getHead() &#123; return head; &#125; public void setHead(String head) &#123; this.head = head == null ? null : head.trim(); &#125; @Override public String toString() &#123; return "User&#123;" + "id=" + id + ", nickname='" + nickname + '\'' + ", password='" + password + '\'' + ", phone='" + phone + '\'' + ", email='" + email + '\'' + ", regdate=" + regdate + ", sex=" + sex + ", head='" + head + '\'' + '&#125;'; &#125;&#125; UserMapper12345678910111213141516171819package com.zjm.dao;import com.zjm.model.User;public interface UserMapper &#123; int deleteByPrimaryKey(Integer id); int insert(User record); int insertSelective(User record); User selectByPrimaryKey(Integer id); int updateByPrimaryKeySelective(User record); int updateByPrimaryKey(User record);&#125; UserMapper.xml123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;&lt;mapper namespace="com.zjm.dao.UserMapper"&gt; &lt;resultMap id="BaseResultMap" type="com.zjm.model.User"&gt; &lt;id column="Id" jdbcType="INTEGER" property="id" /&gt; &lt;result column="nickName" jdbcType="VARCHAR" property="nickname" /&gt; &lt;result column="password" jdbcType="VARCHAR" property="password" /&gt; &lt;result column="phone" jdbcType="VARCHAR" property="phone" /&gt; &lt;result column="email" jdbcType="VARCHAR" property="email" /&gt; &lt;result column="regDate" jdbcType="DATE" property="regdate" /&gt; &lt;result column="sex" jdbcType="INTEGER" property="sex" /&gt; &lt;result column="head" jdbcType="VARCHAR" property="head" /&gt; &lt;/resultMap&gt; &lt;sql id="Base_Column_List"&gt; Id, nickName, password, phone, email, regDate, sex, head &lt;/sql&gt; &lt;select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap"&gt; select &lt;include refid="Base_Column_List" /&gt; from user where Id = #&#123;id,jdbcType=INTEGER&#125; &lt;/select&gt; &lt;select id="selectUserByExample" parameterType="User" resultMap="BaseResultMap"&gt; SELECT &lt;include refid="Base_Column_List" /&gt; FROM USER &lt;where&gt; &lt;if test="id != null"&gt; Id = #&#123;id&#125; &lt;/if&gt; &lt;if test="nickname != null"&gt; nickName = #&#123;nickname&#125; &lt;/if&gt; &lt;if test="password != null"&gt; password = #&#123;password&#125; &lt;/if&gt; &lt;if test="phone != null"&gt; phone = #&#123;phone&#125; &lt;/if&gt; &lt;if test="email != null"&gt; email = #&#123;email&#125; &lt;/if&gt; &lt;/where&gt; &lt;/select&gt; &lt;delete id="deleteByPrimaryKey" parameterType="java.lang.Integer"&gt; delete from user where Id = #&#123;id,jdbcType=INTEGER&#125; &lt;/delete&gt; &lt;insert id="insert" parameterType="com.zjm.model.User"&gt; insert into user (Id, nickName, password, phone, email, regDate, sex, head) values (#&#123;id,jdbcType=INTEGER&#125;, #&#123;nickname,jdbcType=VARCHAR&#125;, #&#123;password,jdbcType=VARCHAR&#125;, #&#123;phone,jdbcType=VARCHAR&#125;, #&#123;email,jdbcType=VARCHAR&#125;, #&#123;regdate,jdbcType=DATE&#125;, #&#123;sex,jdbcType=INTEGER&#125;, #&#123;head,jdbcType=VARCHAR&#125;) &lt;/insert&gt; &lt;insert id="insertSelective" parameterType="com.zjm.model.User"&gt; insert into user &lt;trim prefix="(" suffix=")" suffixOverrides=","&gt; &lt;if test="id != null"&gt; Id, &lt;/if&gt; &lt;if test="nickname != null"&gt; nickName, &lt;/if&gt; &lt;if test="password != null"&gt; password, &lt;/if&gt; &lt;if test="phone != null"&gt; phone, &lt;/if&gt; &lt;if test="email != null"&gt; email, &lt;/if&gt; &lt;if test="regdate != null"&gt; regDate, &lt;/if&gt; &lt;if test="sex != null"&gt; sex, &lt;/if&gt; &lt;if test="head != null"&gt; head, &lt;/if&gt; &lt;/trim&gt; &lt;trim prefix="values (" suffix=")" suffixOverrides=","&gt; &lt;if test="id != null"&gt; #&#123;id,jdbcType=INTEGER&#125;, &lt;/if&gt; &lt;if test="nickname != null"&gt; #&#123;nickname,jdbcType=VARCHAR&#125;, &lt;/if&gt; &lt;if test="password != null"&gt; #&#123;password,jdbcType=VARCHAR&#125;, &lt;/if&gt; &lt;if test="phone != null"&gt; #&#123;phone,jdbcType=VARCHAR&#125;, &lt;/if&gt; &lt;if test="email != null"&gt; #&#123;email,jdbcType=VARCHAR&#125;, &lt;/if&gt; &lt;if test="regdate != null"&gt; #&#123;regdate,jdbcType=DATE&#125;, &lt;/if&gt; &lt;if test="sex != null"&gt; #&#123;sex,jdbcType=INTEGER&#125;, &lt;/if&gt; &lt;if test="head != null"&gt; #&#123;head,jdbcType=VARCHAR&#125;, &lt;/if&gt; &lt;/trim&gt; &lt;/insert&gt; &lt;update id="updateByPrimaryKeySelective" parameterType="com.zjm.model.User"&gt; update user &lt;set&gt; &lt;if test="nickname != null"&gt; nickName = #&#123;nickname,jdbcType=VARCHAR&#125;, &lt;/if&gt; &lt;if test="password != null"&gt; password = #&#123;password,jdbcType=VARCHAR&#125;, &lt;/if&gt; &lt;if test="phone != null"&gt; phone = #&#123;phone,jdbcType=VARCHAR&#125;, &lt;/if&gt; &lt;if test="email != null"&gt; email = #&#123;email,jdbcType=VARCHAR&#125;, &lt;/if&gt; &lt;if test="regdate != null"&gt; regDate = #&#123;regdate,jdbcType=DATE&#125;, &lt;/if&gt; &lt;if test="sex != null"&gt; sex = #&#123;sex,jdbcType=INTEGER&#125;, &lt;/if&gt; &lt;if test="head != null"&gt; head = #&#123;head,jdbcType=VARCHAR&#125;, &lt;/if&gt; &lt;/set&gt; where Id = #&#123;id,jdbcType=INTEGER&#125; &lt;/update&gt; &lt;update id="updateByPrimaryKey" parameterType="com.zjm.model.User"&gt; update user set nickName = #&#123;nickname,jdbcType=VARCHAR&#125;, password = #&#123;password,jdbcType=VARCHAR&#125;, phone = #&#123;phone,jdbcType=VARCHAR&#125;, email = #&#123;email,jdbcType=VARCHAR&#125;, regDate = #&#123;regdate,jdbcType=DATE&#125;, sex = #&#123;sex,jdbcType=INTEGER&#125;, head = #&#123;head,jdbcType=VARCHAR&#125; where Id = #&#123;id,jdbcType=INTEGER&#125; &lt;/update&gt;&lt;/mapper&gt; ÊµãËØïÁ±ªËøõÂÖ•UserMapper.javaÔºåÂè≥ÈîÆ‚Äî‚ÄîGo to‚Äî‚Äî Test‚Äî‚ÄîCreate new test 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172package com.zjm.dao;import com.zjm.model.User;import com.zjm.util.MD5;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.test.context.SpringBootTest;import org.springframework.test.context.junit4.SpringRunner;import java.util.Date;import static org.junit.Assert.*;/** * Created by ZJM on 2017/4/5. */@SpringBootTest@RunWith(SpringJUnit4ClassRunner.class)public class UserMapperTest &#123; @Autowired private UserMapper userMapper; @Test public void deleteByPrimaryKey() throws Exception &#123; userMapper.deleteByPrimaryKey(2); &#125; @Test public void insert() throws Exception &#123; User user = new User(); user.setPhone("13636662259"); user.setSex(0); user.setEmail("7788521@qq.com"); user.setNickname("zjm"); user.setPassword("123456"); user.setRegdate(new Date()); userMapper.insert(user); &#125; @Test public void insertSelective() throws Exception &#123; &#125; @Test public void selectByPrimaryKey() throws Exception &#123; User user = userMapper.selectByPrimaryKey(1); System.out.println(user); &#125; @Test public void updateByPrimaryKeySelective() throws Exception &#123; User user = new User(); user.setId(1); user.setNickname("shaunHaHaHa"); userMapper.updateByPrimaryKeySelective(user); &#125; @Test public void updateByPrimaryKey() throws Exception &#123; &#125; @Test public void selectUserByExample() throws Exception &#123; User user = new User(); user.setPassword("123456"); System.out.println(userMapper.selectUserByExample(user)); &#125;&#125; ÁÇπÂáªÊñπÊ≥ïÊóÅËæπÁöÑÁªøËâ≤ÊåâÈíÆËøêË°åÂ∞±Ë°å‰∫Ü ÂèëËØ∑Ê±ÇÊµãËØï‰∏äÈù¢ÁöÑÊòØ JUnit ÁöÑÂçïÂÖÉÊµãËØïÔºåÁé∞Âú®Áî®ÂèëËØ∑Ê±ÇÁöÑÊñπÂºè‰ªéÊúçÂä°Âô®Ëé∑ÂèñÂìçÂ∫î Ê≠£Â∏∏ÈúÄË¶ÅÂú®controllerÂíåmapper‰∏≠Èó¥Âª∫Á´ãserviceÂ±ÇÔºåËøôÈáåÁ§∫‰æã‰∏öÂä°ÁÆÄÂçïÔºåÁÆÄÂåñÁúÅÂéª‰∫ÜserviceÂ±ÇÔºåÊ≠£ÂºèÁöÑÈ°πÁõÆ‰∏≠ÂÜçÂä†‰∏ä Êñ∞Âª∫controller Âú®com.*.controller‰∏ãÊñ∞Âª∫UserMS.java 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960package com.zjm.controller;import com.sun.javafx.collections.MappingChange;import com.zjm.dao.UserMapper;import com.zjm.model.User;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;import javax.servlet.http.HttpServletResponse;import java.util.HashMap;import java.util.List;import java.util.Map;/** * Created by ZJM on 2017/4/8. */@RestController@RequestMapping("/user")public class UserMS &#123; @Autowired private UserMapper userMapper; @RequestMapping("add") public User add(User user) &#123; userMapper.insert(user); return user; &#125; @RequestMapping("delete") public Map&lt;String,Object&gt; delete(int id) &#123; Map&lt;String,Object&gt; map = new HashMap&lt;String,Object&gt;(); boolean isOk = true; try &#123; userMapper.deleteByPrimaryKey(id); &#125; catch (Exception e) &#123; e.printStackTrace(); isOk = false; &#125; map.put("status",isOk); return map; &#125; @RequestMapping("update") public User update(User user) &#123; userMapper.updateByPrimaryKeySelective(user); return user; &#125; @RequestMapping("findUserById") public User findUserById(int id) &#123; return userMapper.selectByPrimaryKey(id); &#125; @RequestMapping("findUserByExample") public List&lt;User&gt; findUserByExample(User user) &#123; return userMapper.selectUserByExample(user); &#125;&#125; ËøêË°å*Application.javaÊñá‰ª∂ÁÇπÂáªÁªøËâ≤‰∏âËßíÔºåÂç≥ÂèØÂêØÂä® IntelliJ Ëá™Â∏¶ÁöÑ tomcatÔºåÊåâÁÖßÈÖçÁΩÆÁöÑÊúçÂä°ÂêçÂèäÁ´ØÂè£ËÆøÈóÆÂêß ÂèëËØ∑Ê±ÇÂÆâË£ÖpostmanÊàñËÄÖÊµèËßàÂô®ÂèëÈÄÅËØ∑Ê±Ç eg 1234http://localhost:8080/user/findUserById?id=1http://localhost:8080/user/findUserByExample?sex=1http://localhost:8080/user/delete?id=5http://localhost:8080/user/update?id=6&amp;nickname=Â∞èÁéã Ë¶ÅÊòØÁî®ÊµèËßàÂô®ÂèëpostËØ∑Ê±ÇËøòÂæóÂÜôË°®ÂçïÔºåpostËØ∑Ê±ÇÂ∞±Áî® postman ÂèëÂêß Âà∞Ê≠§‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠êÂ∞±ÂèØ‰ª•ËøêË°å‰∫Ü]]></content>
      <categories>
        <category>Project</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>IntelliJ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Centos‰∏ãÂÆâË£ÖjdkÂíåTomcat]]></title>
    <url>%2F2017%2F03%2F05%2Finstall-jdk-tomcat%2F</url>
    <content type="text"><![CDATA[Áî®yumÂÆâË£ÖjdkÊü•Áúã yum Â∫ì‰∏≠ÈÉΩÊúâÂì™‰∫õ jdk ÁâàÊú¨ÔºàÊöÇÊó∂Âè™ÂèëÁé∞‰∫Ü openjdkÔºâyum search java|grep jdk ÂÆâË£Öyum install java-1.7.0-openjdk ËÆæÁΩÆÁéØÂ¢ÉÂèòÈáèÂú®profileÊñá‰ª∂‰∏≠Ê∑ªÂä†Â¶Ç‰∏ãÂÜÖÂÆπÔºö 1234567#set java environmentJAVA_HOME=/usr/lib/jvm/java-1.7.0-openjdk-1.7.0.131#Â§çÂà∂Ë∑ØÂæÑ‰ª•Èò≤Ë∑ØÂæÑÊó†Ê≥ïÊâæÂà∞JRE_HOME=$JAVA_HOME/jreCLASS_PATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar:$JRE_HOME/libPATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/binexport JAVA_HOME JRE_HOME CLASS_PATH PATH ËÆ©‰øÆÊîπÁîüÊïà source /etc/profile È™åËØÅjava -version ÂÆâË£ÖTomcat‰ΩøÁî®wgetÂëΩ‰ª§Ôºöwget -c http://apache.fayea.com/tomcat/tomcat-8/v8.5.11/bin/apache-tomcat-8.5.11.tar.gz Ëß£Âéãtar -zxvf apache-tomcat-8.5.11.tar.gz ÂêØÂä®ËøõÂÖ•Ëß£ÂéãÂêéÁöÑapache-tomcat-8.5.11 -- binÁõÆÂΩïÔºåÊâßË°åÂëΩ‰ª§Ôºö ./startup.sh Ê£ÄÊü•ËÉΩÂê¶ËÆøÈóÆÂ¶ÇÊûú‰∏çËÉΩËÆøÈóÆÔºåÂèØËÉΩÊòØÈò≤ÁÅ´Â¢ôÈóÆÈ¢òÔºö ÂÖ≥Èó≠Èò≤ÁÅ´Â¢ôÔºö service firewalld stop Âú®iptablesÈáåÊ∑ªÂä†ÂºÄÊîæ 8080 Á´ØÂè£Ôºö -A RH-Firewall-1-INPUT -m state --state NEW -m tcp -p tcp --dport 8080 -j ACCEPT Â∞ÜiptablesÊúçÂä°ÈáçÂêØÔºö service iptables restart]]></content>
      <categories>
        <category>ËøêÁª¥</category>
      </categories>
      <tags>
        <tag>ËøêÁª¥</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Centos‰∏ãÂÆâË£Ömysql]]></title>
    <url>%2F2017%2F03%2F05%2Finstall-mysql%2F</url>
    <content type="text"><![CDATA[yum ÂÆâË£Öyum install -y mysql-server mysql mysql-devel ÂêØÂä®ÊúçÂä°service mysqld start ÁªôrootÁî®Êà∑ËÆæÁΩÆÂØÜÁ†Åmysqladmin -u root password &#39;your password&#39; ÁôªÂΩïmysql -u root -p Êü•ÁúãÂπ∂Êõ¥ÊîπÂ≠óÁ¨¶ÈõÜshow variables like &#39;character%&#39;; ÂÖ≥Èó≠mysqlÊúçÂä° service mysqld stop ‰øÆÊîπmy.cnfÊñá‰ª∂ 12345678910111213141516171819202122[mysqld]default-character-set = utf8 #Ëøô‰∏™ÊòØÊàëÊ∑ªÂä†ÁöÑcharacter_set_server=utf8 #Ëøô‰∏™ÊòØÊàëÊ∑ªÂä†ÁöÑinit_connect='SET NAMES utf8'datadir=/var/lib/mysqlsocket=/var/lib/mysql/mysql.sockuser=mysqlsymbolic-links=0 [mysqld_safe]default-character-set = utf8 #Ëøô‰∏™ÊòØÊàëÊ∑ªÂä†ÁöÑlog-error=/var/log/mysqld.logpid-file=/var/run/mysqld/mysqld.pid [client]default-character-set = utf8 #Ëøô‰∏™ÊòØÊàëÊ∑ªÂä†ÁöÑ [mysql.server]default-character-set = utf8 #Ëøô‰∏™ÊòØÊàëÊ∑ªÂä†ÁöÑ [mysql]default-character-set = utf8 #Ëøô‰∏™ÊòØÊàëÊ∑ªÂä†ÁöÑ ÈáçÂêØÊúçÂä°service mysqld restart Êü•ÁúãÁõëÂê¨Á´ØÂè£netstat -anp mysqlÊï∞ÊçÆÂ∫ìÁªëÂÆöÁöÑÈªòËÆ§Á´ØÂè£Âè∑ÊòØ 3306 Áî®Êú¨Âú∞ÂèØËßÜÂåñÂ∑•ÂÖ∑ËøûÊé•ÊúçÂä°Âô®Êï∞ÊçÆÂ∫ìÂú®ÊúçÂä°Âô®Á´ØËøõÂÖ•mysqlÊúçÂä°ÔºåÊâßË°åÔºö 12grant all privileges on *.* to &apos;root&apos;@&apos;%&apos; identified by &apos;your password by root&apos;;flush privileges; Âú®Êú¨Âú∞Âç≥ÂèØÁôªÂΩïËÆøÈóÆ]]></content>
      <categories>
        <category>ËøêÁª¥</category>
      </categories>
      <tags>
        <tag>ËøêÁª¥</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[priority_queue]]></title>
    <url>%2F2017%2F02%2F06%2Fpriority-queue%2F</url>
    <content type="text"><![CDATA[STL priority_queue ‰ºòÂÖàÈòüÂàóÂú®‰ºòÂÖàÈòüÂàó‰∏≠Ôºå‰ºòÂÖàÁ∫ßÈ´òÁöÑÂÖÉÁ¥†ÂÖàÂá∫ÈòüÂàó class template std::priority_queue1234template &lt;class T, class Container = vector&lt;T&gt;, class Compare = less&lt;typename Container::value_type&gt; &gt; class priority_queue; Priority queuePriority queues are a type of container adaptors, specifically designed such that its first element is always the greatest of the elements it contains, according to some strict weak ordering criterion.This context is similar to a heap, where elements can be inserted at any moment, and only the max heapelement can be retrieved (the one at the top in the priority queue).Priority queues are implemented as container adaptors, which are classes that use an encapsulated object of a specific container class as its underlying container, providing a specific set of member functions to access its elements. Elements are popped from the ‚Äúback‚Äù of the specific container, which is known as the top of the priority queue. The standard container classes vector and deque fulfill these requirements. By default, if no container class is specified for a particular priority_queue class instantiation, the standard container vector is used.Support of random access iterators is required to keep a heap structure internally at all times. This is done automatically by the container adaptor by automatically calling the algorithm functions make_heap, push_heap and pop_heap when needed. Template parameters T Type of the elements.Aliased as member type priority_queue::value_type. Container Type of the internal underlying container object where the elements are stored.Its value_type shall be T.Aliased as member type priority_queue::container_type. Compare A binary predicate that takes two elements (of type T) as arguments and returns a bool.The expression comp(a,b), where comp is an object of this type and a and b are elements in the container, shall return true if a is considered to go before b in the strict weak ordering the function defines.The priority_queue uses this function to maintain the elements sorted in a way that preserves heap properties (i.e., that the element popped is the last according to this strict weak ordering).This can be a function pointer or a function object, and defaults to less, which returns the same as applying the less-than operator (`a). Â∞èÁªìÔºö priority_queue Â∞ÜÂÖ∂‰∏≠ÁöÑÂÖÉÁ¥†ÈªòËÆ§ÊåâÁÖß‰ªéÂ§ßÂà∞Â∞èÊéíÂàó ÈªòËÆ§Â£∞ÊòéÔºöpriority_queue&lt; T , vector , less &gt; q; ÈªòËÆ§Â£∞ÊòéÂèØÁúÅÁï•‰∏∫Ôºöpriority_queue q; Â£∞Êòé‰∏∫‰ªéÂ∞èÂà∞Â§ßÔºöpriority_queue&lt; T , vector , greater &gt; q; Â¶ÇÊûúTÊòØËá™ÂÆö‰πâÁ±ªÂûãÔºåÂàôÂøÖÈ°ªÈáçËΩΩoperator&lt; eg123456789101112131415161718192021222324252627282930313233#include&lt;iostream&gt;#include&lt;queue&gt;using namespace std;struct Student &#123; string name; int score; Student(string name,int score) &#123; this-&gt;name = name; this-&gt;score = score; &#125; friend bool operator &lt; (Student stu1,Student stu2) &#123; return stu1.score &lt; stu2.score; &#125;&#125;;int main()&#123; Student stu[3] = &#123; Student("Tom",80), Student("Jerry",100), Student("Marry",90) &#125;; priority_queue&lt;Student&gt; q; for(int i=0;i&lt;3;i++) &#123; q.push(stu[i]); &#125; cout&lt;&lt;q.size()&lt;&lt;endl; for(int i=0;i&lt;3;i++) &#123; Student s = q.top(); cout&lt;&lt;s.name&lt;&lt;", "&lt;&lt;s.score&lt;&lt;endl; q.pop(); &#125; return 0;&#125;]]></content>
      <categories>
        <category>OJ ÂÅöÈ¢ò</category>
      </categories>
      <tags>
        <tag>C/C++</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Share~]]></title>
    <url>%2F2017%2F01%2F24%2Fky%2F</url>
    <content type="text"><![CDATA[ÂàÜ‰∫´ÁªôÊúãÂèãÁöÑDear Mao Shuo: ‰Ω†ÁúãÂéÜÂπ¥ÂàÜÊï∞Á∫øÂÖàÁªôËá™Â∑±ÂêÑÁßëÂÆö‰∏™Â∞èÁõÆÊ†áÔºå100+100+50+50ÂïäÔºåÂÖ≥Ê≥®Âá†‰∏™ËÄÅÂ∏àÁöÑÂæÆÂçöÔºåÂæÆ‰ø°ÂÖ¨‰ºóÂè∑ÔºöËíã‰∏≠Êå∫Ôºå‰ΩïÂáØÊñáÔºåÂº†ÂÆáÔºåÂàò‰∏ÄÁî∑‚Ä¶‚Ä¶ÈÉΩ‰ºöÊúâÂÖçË¥πÁöÑÁõ¥Êí≠Ôºå‰ΩïÂáØÊñáËøòÊúâÊØèÊó•‰∏ÄÂè•ÔºåÊúâÊó∂Èó¥Â∞±ÁúãÔºåÊ≤°Êó∂Èó¥Â∞±ÁÆó‰∫ÜÂà´ÂΩìË¥üÊãÖÔºåÊàëÊØèÊó•‰∏ÄÂè•Â∞±Ë∑ü‰∫Ü‰∏ÄÈòµ„ÄÇÁõ¥Êí≠ËØæÊÑüËßâËíã‰∏≠Êå∫ÁöÑÊå∫Â•ΩÁöÑÔºåËøòÊúâÂõûÊîæÔºåËã±ËØ≠Êï∞Â≠¶ÊàëÈÉΩÊ≤°ÂíãÂê¨Ôºå‰∏çËøáÊàëËøòÊòØÊé®ËçêÂê¨„ÄÇÊàëÂ≠¶ÁöÑÊó∂Èó¥ÈáåÊúâÊïàÁöÑÈÉ®ÂàÜÂ§™Â∞ë‰∫ÜÔºöÊó©‰∏ä‰πùÁÇπÂºÄÂßãÔºå‰∏§‰∏™ÂçäÂ∞èÊó∂ÂéªÂêÉÈ•≠Ôºå‰∏≠ÂçàZZZÔºå‰∏ãÂçà‰∏§ÁÇπÂºÄÂßãÔºå‰∏â‰∏™Â∞èÊó∂ÂèàÂêÉÈ•≠ÔºåÊôö‰∏äÂÖ≠ÁÇπÂºÄÂßãÔºåÂõõ‰∏™Â∞èÊó∂ÂõûÂØùÔºå‰∏ÄÂ§©ÊúÄÂ§öÂçÅ‰∏™Â∞èÊó∂ÁöÑÂ≠¶‰π†Êó∂Èó¥ÔºåÁúüÊ≠£ÊúâÊî∂Ëé∑ÁöÑÊ≤°Â§öÂ∞ë„ÄÇ„ÄÇ„ÄÇÊàë‰πùÊúà‰ªΩËøòÊä•‰∫ÜÊñáÈÉΩÁöÑÁßãÂ≠£Áè≠ÔºàË°•ÊöëÂÅáËØæÁ®ãÁöÑÁè≠ÔºâÔºåÂõ†‰∏∫ÊàëÊöëÂÅáÊúâÂÆûËÆ≠„ÄÇÊñáÈÉΩÁöÑËØæÂ•Ω‰πü‰∏çÂ•ΩÔºå‰∏∫‰∫ÜËµ∂ËøõÂ∫¶ÔºåÊúâÊó∂‰∏ÄÂ§©ÁúãÂçÅ‰∏™Â§öÂ∞èÊó∂ÁöÑËßÜÈ¢ë„ÄÇÂæÄÂæÄ‰∏ÄÂ§©‰∏ãÊù•ÂæàÁ¥Ø‰∫ÜÔºåÂõûÊù•Â∞±Ê≤°ÊúâÊää‰∏ÄÂ§©ÁöÑËØæËøõË°åÊÄªÁªìÊï¥ÁêÜÁ¨îËÆ∞„ÄÇÊàëÊúâ‰∏ÄÊ¨°Êï¥ÁêÜ‰∫Ü‰∏ÄÊ¨°ÔºåËä±‰∫ÜÂæàÂ§öÊó∂Èó¥ÔºåÂõ†‰∏∫ËØæ‰∏äÁöÑÂÜÖÂÆπÂ§™Â§öÔºåËÄÅÂ∏àËØ¥ÁöÑÂæàÂø´ÔºåÂ•ΩÂ§öÂê¨‰∏çÊáÇÁöÑÈúÄË¶ÅËØæÂêéËá™Â∑±Êï¥ÁêÜÂ§ç‰π†ÔºåÂ¶ÇÊûúÊ≤°ÊúâÊÄªÁªìÂ§ç‰π†ÔºåÈÇ£ËØæ‰πÖ‰∫ÜÂõûÁúãÁ¨îËÆ∞Â∞±Áúã‰∏çÊáÇ‰∫ÜÔºåËøò‰ºöË∂äÂ†ÜË∂äÂ§ö„ÄÇÊâÄ‰ª•Ôºå‰∏çÂèäÊó∂ÊÄªÁªìÂ§ç‰π†ÔºåËØæÂ∞±Á≠â‰∫éÁôΩ‰∏äÔºåËøòÊµ™Ë¥πÂ§ßÈáèÁöÑÊó∂Èó¥ÂíåÁ≤æÂäõ„ÄÇ ÂÖ∂ÂÆûËøòÊòØËá™Â∑±ÊÄªÁªìÊúÄÈáçË¶Å‰∫ÜÔºåÁúãËßÜÈ¢ëÔºåÂÅöÈ¢òÔºåÂÜçÂ§öÔºåËá™Â∑±‰∏çÁêÜËß£ÂΩíÁ∫≥ÊÄªÁªìÁü•ËØÜÁÇπÔºåÊÑè‰πâÈÉΩ‰∏çÂ§ß„ÄÇÂÅöÈ¢òÊàëÊúâ‰∏ÄÊãõÁâπÂà´Â•Ω‰ΩøÔºåÂ¶ÇÊûú‰Ω†Áü•ÈÅìËøôÈÅìÈ¢òËÄÉÁöÑËÄÉÁÇπÊòØ‰ªÄ‰πàÔºå‰Ω†‰∏ÄÂÆöËÉΩÂÅöÂØπ„ÄÇÊâÄ‰ª•ÔºåÊï∞Â≠¶ËÉåÁ¨îËÆ∞Êó∂‰∏ÄÂÆöË¶ÅËÉåËÄÉÁÇπÔºå12345‚Ä¶ Â§ç‰π†ËÆ°ÂàíÊó©Âà∂ÂÆöÔºå‰∏ì‰∏öËØæÊó©ÂºÄÂßãÔºåÊîøÊ≤ªÈÄâÊã©Êó©ÂºÄÂßãÔºåÁúüÁöÑ‰∏çÊòØÂæàÈöæÔºåÂà´ÂÆ≥ÊÄïÔºåÂ∞±ÊòØË∑ØÊº´Êº´‰øÆËøúÔºåÂùöÊåÅ‰∏ãÊù•‰∏çÂÆπÊòì„ÄÇ Â¶ÇÊûúÊàëË∞ÉÂâÇ‰∏çÂà∞Â•ΩÁöÑÂ≠¶Ê†°ÔºåÂ∞±ÂÅöÁ†îÂèãÔºõÂ§çËØïÈÄöËøáÔºåÂ∞±Áªô‰Ω†‰π¶‚Ä¶ Good luck Shaun]]></content>
      <categories>
        <category>ÈöèÁ¨î</category>
      </categories>
      <tags>
        <tag>life</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÊéíÂ∫èÁÆóÊ≥ïÂ∞èÁªì]]></title>
    <url>%2F2017%2F01%2F23%2Fsort%2F</url>
    <content type="text"><![CDATA[Êï∞ÊçÆÁªìÊûÑÊéíÂ∫èÁÆóÊ≥ïÊó∂Á©∫Á®≥ ÂàÜÁ±ª ÊéíÂ∫èÊñπÊ≥ï Âπ≥ÂùáÊÉÖÂÜµ(Êó∂) ÊúÄÂùè(Êó∂) ÊúÄÂ•Ω(Êó∂) Á©∫Èó¥Â§çÊùÇÂ∫¶ Á®≥ÂÆöÊÄß ÊèíÂÖ• Áõ¥Êé•ÊèíÂÖ• O(n*n) O(n*n) O(n) O(1) Á®≥ ÊäòÂçäÊèíÂÖ• O(n*n) O(1) Á®≥ Â∏åÂ∞î O(nlogn) O(nlogn) O(1) ‰∏çÁ®≥ ‰∫§Êç¢ ÂÜíÊ≥° O(n*n) O(n*n) O(n) O(1) Á®≥ Âø´ÈÄü O(nlogn) O(n*n) O(nlogn) O(logn) ‰∏çÁ®≥ ÈÄâÊã© ÁÆÄÂçïÈÄâÊã© O(n*n) O(n*n) O(n*n) O(1) ‰∏çÁ®≥ Â†ÜÊéí O(nlogn) O(nlogn) O(nlogn) O(1) ‰∏çÁ®≥ ÂÖ∂‰ªñ ÂΩíÂπ∂ O(nlogn) O(nlogn) O(nlogn) O(n) Á®≥ Âü∫Êï∞ O(d(n+r)) O(d(n+r)) O(d(n+r)) O(r) Á®≥ Â∏∏ËßÅÊéíÂ∫èjavaÂÆûÁé∞Áõ¥Êé•ÊèíÂÖ•1234567891011121314public class InsertSort &#123; public static void isort(int[] data) &#123; for (int i=1; i&lt;data.length; i++) &#123; int temp = data[i]; int j = i-1; while (j &gt;=0 &amp;&amp; temp &lt; data[j]) &#123; data[j+1] = data[j--]; &#125; data[j+1] = temp; &#125; &#125; &#125; ÈÄâÊã©12345678910111213141516171819public class SelectSort &#123; // ÊâæÂà∞ÂæÖÊéíÂ∫è‰∏≠ÊúÄÂ∞èÊàñËÄÖÊúÄÂ§ß public static void s_sort(int[] data) &#123; for (int i=0; i&lt;data.length-1; i++) &#123; int k = i; // ËÆ∞ÂΩïÂæÖÊéíÂ∫è‰∏≠ÊúÄÂ∞è‰∏ãÊ†á for (int j=i+1; j&lt;data.length; j++) &#123; if (data[j] &lt; data[k]) &#123; k = j; &#125; &#125; // Â∞ÜÊúÄÂ∞èÊîæÂà∞ÊúÄÂâçÈù¢ if (k != i) &#123; int temp = data[k]; data[k] = data[i]; data[i] = temp; &#125; &#125; &#125;&#125; Âø´Êéí1234567891011121314151617181920212223242526272829303132333435public class QuickSort &#123; private static int[] arr; // ËÆ≤‰∏Ä‰∏™Êï∞Â≠óÊîæÂà∞Ê≠£Á°ÆÁöÑ‰ΩçÁΩÆÔºåÂ∑¶ËæπÈÉΩÊØîÂÆÉÂ∞èÔºåÂè≥ËæπÈÉΩÊØîÂÆÉÂ§ß private static int partition(int low, int high) &#123; int label = arr[low]; while (low &lt; high) &#123; while (low &lt; high &amp;&amp; arr[high] &gt;= label) high --; arr[low] = arr[high]; while (low &lt; high &amp;&amp; arr[low] &lt;= label) low ++; arr[high] = arr[low]; &#125; arr[low] = label; return low; &#125; private static int[] qsort(int low, int high) &#123; if (low &lt; high) &#123; int mid = partition(low, high); qsort(low, mid-1); qsort(mid+1, high); &#125; return arr; &#125; public static int[] qsort(int[] data) &#123; arr = data; qsort(0, arr.length-1); return arr; &#125; &#125; ÂÜíÊ≥°12345678910111213141516public class BubbleSort &#123; public static void bsort(int[] arr) &#123; int temp = 0; for (int i=0; i&lt;arr.length-1; i++) &#123; for (int j=arr.length-1; j&gt;i; j--) &#123; // Â∞ÜÂ∞èÁöÑÂâçÁßª if (arr[j] &lt; arr[j-1]) &#123; temp = arr[j]; arr[j] = arr[j-1]; arr[j-1] = temp; &#125; &#125; &#125; &#125;&#125; Â†ÜÊéíÂΩíÂπ∂1234567891011121314151617181920212223242526272829303132333435363738394041public class MergeSort &#123; private static int[] data; public static void sort(int[] arr) &#123; data = arr; mergeSort(1, data.length); &#125; private static void mergeSort(int start, int end) &#123; if (end &gt; start) &#123; int mid = (start + end) / 2; mergeSort(start, mid); mergeSort(mid+1, end); merge(start, mid, end); &#125; &#125; private static void merge(int start, int mid, int end) &#123; int len1 = mid - start + 1; int len2 = end - mid; int[] arr1 = new int[len1 + 1]; int[] arr2 = new int[len2 + 1]; for (int i=0; i&lt;len1; i++) &#123; arr1[i] = data[start+i-1]; &#125; arr1[len1] = Integer.MAX_VALUE; for (int i=0; i&lt;len2; i++) &#123; arr2[i] = data[i+mid]; &#125; arr2[len2] = Integer.MAX_VALUE; int m = 0, n = 0; for (int i=start-1; i&lt;end; i++) &#123; if (arr1[m] &gt; arr2[n]) &#123; data[i] = arr2[n++]; &#125; else &#123; data[i] = arr1[m++]; &#125; &#125; &#125;&#125; Â∏åÂ∞î12345678910111213141516171819public class ShellSort &#123; public static void sort(int[] arr) &#123; for (int gap=arr.length/2; gap&gt;0; gap/=2) &#123; for (int i=gap; i&lt;arr.length; i++) &#123; int j = i; int temp = arr[j]; if (arr[j] &lt; arr[j-gap]) &#123; while (j-gap&gt;=0 &amp;&amp; temp &lt; arr[j-gap]) &#123; arr[j] = arr[j-gap]; j-=gap; &#125; arr[j] = temp; &#125; &#125; &#125; &#125; &#125; ËÆ°Êï∞Ê°∂ÊéíÂü∫Êï∞Â∞èÂè£ËØÄ ÂÜíÊ≥°ÈÄâÊã©ÊèíÂÖ•Â†ÜÔºåÂø´ÈÄüÂ∏åÂ∞îËÆ°Âü∫Â†ÜÂΩíÂπ∂O(n)Âø´lognÔºåÂÖ∂‰ªñÁ©∫Èó¥ÈÉΩÊòØ1Âø´Â†ÜÂΩíÂπ∂nlognÔºåÊèíÊäòÂÜíÈÄâÊÖ¢nÊñπÔºàÂπ≥ÂùáÊó∂Èó¥ÔºâÂ∏åÂ∞îÁâπÊÆä1.3ÔºåÂü∫Êï∞dÊää‰∏§Êï∞Âä†ÔºàÂπ≥ÂùáÊó∂Èó¥ÔºâÂ∏åÂ∞îÂø´ÈÄâÂ†Ü‰∏çÁ®≥ÔºåÂÖ∂‰ªñÊéíÂ∫èÁ®≥Á®≥Âìí Ê≥®Ôºö log ÁöÑ g ‰∏çÂèëÈü≥ Á¨¨‰∫åÂè•Á©∫Èó¥Â§çÊùÇÂ∫¶Ôºå‰∏âÂõõÂè•Êó∂Èó¥]]></content>
      <categories>
        <category>Êï∞ÊçÆÁªìÊûÑ</category>
      </categories>
      <tags>
        <tag>ÊéíÂ∫è</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[GitÂü∫Êú¨Êìç‰Ωú]]></title>
    <url>%2F2017%2F01%2F15%2FGit%2F</url>
    <content type="text"><![CDATA[Git ÊòØÁõÆÂâçÊúÄÊµÅË°åÁöÑÁâàÊú¨ÁÆ°ÁêÜÁ≥ªÁªü WindowsÁ≥ªÁªüÂÆâË£ÖÂíå‰ΩøÁî®ÂÆâË£ÖÂêé‰ºöÂá∫Áé∞‰∏â‰∏™Â∑•ÂÖ∑-Bash,-CMD,-GUIÔºåÂè™Áî®-BashÂ∞±Ë°å Âú®‰Ω†ÊÉ≥‰Ωú‰∏∫Êú¨Âú∞‰ªìÂ∫ìÁöÑÊñá‰ª∂Â§π‰∏äÔºàÊàñËøõÂÖ•Êñá‰ª∂Â§πÁ©∫ÁôΩÂ§ÑÔºâÈº†Ê†áÂè≥ÈîÆÔºåÈÄâÊã©Git Bash here Â∏∏Áî®ÂëΩ‰ª§git clone‚Äã ‰ªéËøúÁ®ã‰∏ªÊú∫Â§çÂà∂Êñá‰ª∂Âà∞Êú¨Âú∞Êñá‰ª∂Â§π 1$ git clone &lt;ÈìæÊé•&gt; &lt;Êú¨Âú∞Ë∑ØÂæÑ&gt; ‚Äã &lt;Êú¨Âú∞Ë∑ØÂæÑ&gt;ÁúÅÁï•Âç≥-BashÂΩìÂâçË∑ØÂæÑ git remote ÁÆ°ÁêÜËøúÁ®ã‰∏ªÊú∫ÂêçÔºöGitË¶ÅÊ±ÇÊØè‰∏™ËøúÁ®ã‰∏ªÊú∫ÈÉΩÂøÖÈ°ªÊåáÂÆö‰∏Ä‰∏™‰∏ªÊú∫Âêç Ê∑ªÂä†ËøúÁ®ã‰∏ªÊú∫+ÂëΩÂêç 1$ git remote add &lt;‰∏ªÊú∫Âêç&gt; &lt;ÁΩëÂùÄ&gt; ÂàóÂá∫ÊâÄÊúâËøúÁ®ã‰∏ªÊú∫ 12$ git remoteorigin Êü•ÁúãËøúÁ®ã‰∏ªÊú∫ÂêçÂØπÂ∫îÁöÑÁΩëÂùÄ 123$ git remote -vorigin https://... (fetch)origin https://...(push) Âà†Èô§‰∏ªÊú∫ 1$ git remote rm &lt;‰∏ªÊú∫Âêç&gt; Êîπ‰∏ªÊú∫Âêç 1$ git remote rename &lt;Âéü‰∏ªÊú∫Âêç&gt; &lt;Êñ∞‰∏ªÊú∫Âêç&gt; git fetch ËøúÁ®ã‰∏ªÊú∫ÊúâÊõ¥Êñ∞ÔºàcommitÔºâÔºåÂ∞ÜÊõ¥Êñ∞ÁöÑÂèñÂõûÊú¨Âú∞„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãgit fetch ÂèñÂõûÊâÄÊúâÂàÜÊîØÔºàbranchÔºâÁöÑÊõ¥Êñ∞„ÄÇÂ¶ÇÊûúÂè™ÊÉ≥ÂèñÂõûÁâπÂÆöÂàÜÊîØÁöÑÊõ¥Êñ∞ÔºåÂèØ‰ª•ÊåáÂÆöÂàÜÊîØÂêç„ÄÇ 1$ git fetch &lt;ËøúÁ®ã‰∏ªÊú∫Âêç&gt; &lt;ÂàÜÊîØÂêç&gt; eg 1$ git fetch origin master Êü•ÁúãËøúÁ®ãÂàÜÊîØ 123456$ git branch -rorigin/master #Êü•ÁúãËøúÁ®ãÂàÜÊîØ$ git branch -a #Êü•ÁúãÊâÄÊúâÂàÜÊîØÔºàÂåÖÊã¨Êú¨Âú∞Ôºâ* master remotes/origin/master Âú®Êú¨Âú∞ÂàÜÊîØ‰∏äÂêàÂπ∂ËøúÁ®ãÂàÜÊîØ 1$ git merge origin/master git pull ÂèñÂõûËøúÁ®ã‰∏ªÊú∫ÊüêÂàÜÊîØÁöÑÊõ¥Êñ∞ÔºåÂπ∂‰∏éÊú¨Âú∞ÁöÑÂà∂ÂÆöÂàÜÊîØÂêàÂπ∂ 1$ git pull &lt;ËøúÁ®ã‰∏ªÊú∫Âêç&gt; &lt;ËøúÁ®ãÂàÜÊîØÂêç&gt;:&lt;Êú¨Âú∞ÂàÜÊîØÂêç&gt; ‰∏éÂΩìÂâçÂàÜÊîØÂêàÂπ∂ÂÜíÂè∑ÂêéÂèØÁúÅÁï• eg 1$ git pull origin master Áõ∏ÂΩì‰∫é 12$ git fetch origin$ git merge origin/master git push Â∞ÜÊú¨Âú∞ÂàÜÊîØÁöÑÊõ¥Êñ∞ÔºåÊé®ÈÄÅÂà∞ËøúÁ®ã‰∏ªÊú∫ 1$ git push &lt;ËøúÁ®ã‰∏ªÊú∫Âêç&gt; &lt;Êú¨Âú∞ÂàÜÊîØÂêç&gt;:&lt;ËøúÁ®ãÂàÜÊîØÂêç&gt; eg 123$ git push origin master:master#Á≠âÂêå‰∫é$ git push origin master Â¶ÇÊûúÁúÅÁï•ËøúÁ®ãÂàÜÊîØÂêçÔºåÂàôË°®Á§∫Â∞ÜÊú¨Âú∞ÂàÜÊîØÊé®ÈÄÅ‰∏é‰πãÂ≠òÂú®‚ÄùËøΩË∏™ÂÖ≥Á≥ª‚ÄùÁöÑËøúÁ®ãÂàÜÊîØÔºàÈÄöÂ∏∏‰∏§ËÄÖÂêåÂêçÔºâÔºåÂ¶ÇÊûúËØ•ËøúÁ®ãÂàÜÊîØ‰∏çÂ≠òÂú®ÔºåÂàô‰ºöË¢´Êñ∞Âª∫„ÄÇ ‰∏äÈù¢ÂëΩ‰ª§Ë°®Á§∫ÔºåÂ∞ÜÊú¨Âú∞ÁöÑmasterÂàÜÊîØÊé®ÈÄÅÂà∞origin‰∏ªÊú∫ÁöÑmasterÂàÜÊîØ„ÄÇ ÁúÅÁï•Êú¨Âú∞ÂàÜÊîØÂêçÔºåÂàôË°®Á§∫Âà†Èô§ÊåáÂÆöÁöÑËøúÁ®ãÂàÜÊîØÔºåÂõ†‰∏∫ËøôÁ≠âÂêå‰∫éÊé®ÈÄÅ‰∏Ä‰∏™Á©∫ÁöÑÊú¨Âú∞ÂàÜÊîØÂà∞ËøúÁ®ãÂàÜÊîØ 123$ git push origin :master# Á≠âÂêå‰∫é$ git push origin --delete master ‰∏äÈù¢ÂëΩ‰ª§Ë°®Á§∫Âà†Èô§origin‰∏ªÊú∫ÁöÑmasterÂàÜÊîØ Êõ¥ËØ¶ÁªÜËµÑÊñôËØ∑ÂèÇÁÖßÔºöhttps://www.git-scm.com/book/en/v2]]></content>
      <categories>
        <category>ÁâàÊú¨ÊéßÂà∂</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂºÄÁØá]]></title>
    <url>%2F2017%2F01%2F13%2FBegin%2F</url>
    <content type="text"><![CDATA[Ëá™Â∫è‚Äã Â§ßÂÆ∂Â•ΩÔºåÊàëÊòØ‰∏Ä‰∏™ÊôÆÈÄöÁöÑÂ§ßÂ≠¶ÁîüÔºå2013Âπ¥ËÄÉÂÖ•ÂìàÂ∞îÊª®Â∑•Á®ãÂ§ßÂ≠¶ËΩØ‰ª∂Â∑•Á®ã‰∏ì‰∏öÔºå2017Âπ¥ÊÉ≥ÂÜôÂçöÂÆ¢ÔºåÂ∑≤Áªè24Â≤Å„ÄÇ‰∫∫ÁîüÊ≠£Âú®Á¥ßË¶ÅÂÖ≥Âè£ÔºåÂ§ßÁöÑÂÜ≥Á≠ñÂëº‰πãÊ¨≤Âá∫„ÄÇ ‚Äã Áé∞Âú®ÁöÑÊàëÔºåÊîæÂÅáÂú®ÂÆ∂ÔºåÊÑüÂà∞ÊúâÂ±û‰∫éËá™Â∑±ÁöÑÊó∂Èó¥Êó†ÊØîÂÆùË¥µÔºåÊ≤°ÊúâÂ§ñ‰∫ãÊâìÊâ∞ÔºåÊÉ≥Âπ≤‰ªÄ‰πàÂ∞±Âπ≤‰ªÄ‰πàÔºå‰ª•ÂêéÊÄïÊòØÂ∞ëÊúâ‰∫ÜÔºåÊó†ÊØîÁèçÊÉú„ÄÇÊØèÂ§©ËÉΩÂÅöËá™Â∑±ÂñúÊ¨¢ÂÅöÁöÑ‰∫ãÔºåÁé©‰πüÂ•ΩÔºåÂ≠¶‰πüÂ•ΩÔºå‰∏çÂøÖÊãÖÂøÉË°£È£ü‰ΩèË°åÔºåÁúüÊòØÊúÄÂêéÁöÑÂ§©Â†Ç‰∫Ü„ÄÇ ‚Äã ÊÉ≥ÊääËá™Â∑±ÁöÑÊî∂Ëé∑„ÄÅ‰πêË∂£„ÄÅÂøÉÂæóÔºåÊÉ≥Ê≥ïÈÄöËøáÁΩëÁ´ôÂêëÊúâÁºòÊù•ËÆøÁöÑÊúãÂèãÂàÜ‰∫´ÔºåÁïô‰ΩèÁîüÂëΩ‰∏≠ÁöÑÁÇπÊª¥„ÄÇ ‚Äã Ëøô‰∏§Â§©‰∏∫‰∫ÜÂª∫‰∏Ä‰∏™ÂçöÂÆ¢Á´ôÔºåÂøôÊù•ÂøôÂéªÊâæ‰∫ÜÂæàÂ§öËµÑÊñôÔºåÈóÆ‰∫ÜÂæàÂ§öÊúãÂèã„ÄÇÊÄªÁÆóÊúâ‰∫ÜÁÇπÊàêÊûúÔºåËôΩÁÑ∂Â∞±ÊòØËØªËØ¥Êòé‰π¶ÔºåËøòÊòØÂæàË¥πÂä≤ÔºåÈÅáÂà∞ÁöÑÈóÆÈ¢òÂ±ÇÂá∫‰∏çÁ©∑‚Ä¶‚Ä¶ÊàëËßâÁöÑÁ®ãÂ∫èÂëòÊúÄÂÆùË¥µÁöÑËÉΩÂäõÂ∞±ÊòØËá™Â≠¶ËÉΩÂäõÔºåÊï¢‰∫éÊé•Ëß¶Êñ∞È≤ú‰∫ãÁâ©ÔºåËØªÊáÇÂà´‰∫∫ÁöÑÊñáÁ´†ÔºåËã±ÊñáÂºÄÂèëÊñáÊ°£ÔºåËá™Â∑±ÊääÊñ∞ÊäÄÊúØÊéåÊè°‰∫ÜÔºåÂπ∂ÊúâËá™Â∑±ÁöÑÁêÜËß£„ÄÇ ‚Äã Áé∞Âú®ÁöÑÊàëËøòÂ∑ÆÂæàÂ§öÔºåÂ∏åÊúõÂú®ÊúãÂèãÁöÑÂ∏ÆÂä©‰∏ãÔºåÂ∏àÈïøÁöÑÊåáÂØº‰∏ãÔºå‰∏ÄÁÇπ‰∏ÄÁÇπÁöÑÔºå‰∏çÊñ≠ËøõÊ≠•„ÄÇ]]></content>
      <categories>
        <category>ÈöèÁ¨î</category>
      </categories>
      <tags>
        <tag>life</tag>
      </tags>
  </entry>
</search>
